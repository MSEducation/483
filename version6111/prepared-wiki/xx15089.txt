[[Peg solitaire]]

CATEGORIES: Mechanical puzzles, Single-player games, Solitaire tabletop games

Peg solitaire (or Solo Noble) is a board game for one player involving movement of pegs on a board with holes.  Some sets use marbles in a board with indentations. The game is known simply as Solitaire in the United Kingdom where the card games are called Patience.  It is also referred to as Brainvita (especially in India).
The first evidence of the game can be traced back to the court of Louis XIV, and the specific date of 1697, with an engraving made that year by Claude Auguste Berey of Anne de Rohan-Chabot, Princess of Soubise, with the puzzle by her side.  The August, 1697 edition of the French literary magazine Mercure galant contains a description of the board, rules and sample problems.  This is the first known reference to the game in print.
The standard game fills the entire board with pegs except for the central hole. The objective is, making valid moves, to empty the entire board except for a solitary peg in the central hole.

==Board==

There are two traditional boards ('.' as an initial peg, 'o' as an initial hole):
 
    English          European
       · · ·             · · ·
       · · ·           · · · · ·
   · · · · · · ·     · · · · · · ·
   · · · o · · ·     · · · o · · ·
   · · · · · · ·     · · · · · · ·
       · · ·           · · · · ·
       · · ·             · · ·

==Play==

A valid move is to jump a peg orthogonally over an adjacent peg into a hole two positions away and then to remove the jumped peg.
In the diagrams which follow, · indicates a peg in a hole, * emboldened indicates the peg to be moved, and o indicates an empty hole. A blue [tpl]blue|¤[/tpl] is the hole the current peg moved from; a red [tpl]red|*[/tpl] is the final position of that peg, a red [tpl]red|o[/tpl] is the hole of the peg that was jumped and removed.
Thus valid moves in each of the four orthogonal directions are:
 '''*''' · o  →  [tpl]blue|¤[/tpl] [tpl]red|'''o'''[/tpl] [tpl]red|'''*'''[/tpl]  ''Jump to right''
 o · '''*'''  →  [tpl]red|'''*'''[/tpl] [tpl]red|'''o'''[/tpl] [tpl]blue|¤[/tpl]  ''Jump to left''
 '''*'''     [tpl]blue|¤[/tpl]
 ·  →  [tpl]red|'''o'''[/tpl]  ''Jump down''
 o     [tpl]red|'''*'''[/tpl]
 o     [tpl]red|'''*'''[/tpl]
 ·  →  [tpl]red|'''o'''[/tpl]  ''Jump up''
 '''*'''     [tpl]blue|¤[/tpl]
On an English board, the first three moves might be:
     · · ·             · · ·             · · ·             · · · 
     · '''*''' ·             · [tpl]blue|¤[/tpl] ·             · o ·             · [tpl]red|'''*'''[/tpl] · 
 · · · · · · ·     · · · [tpl]red|'''o'''[/tpl] · · ·     · [tpl]blue|¤[/tpl] [tpl]red|'''o'''[/tpl] [tpl]red|'''*'''[/tpl] · · ·     · o o [tpl]red|'''o'''[/tpl] · · ·
 · · · o · · ·     · · · [tpl]red|'''*'''[/tpl] · · ·     · · · · · · ·     · · · [tpl]blue|¤[/tpl] · · ·
 · · · · · · ·     · · · · · · ·     · · · · · · ·     · · · · · · ·
     · · ·             · · ·             · · ·             · · ·
     · · ·             · · ·             · · ·             · · ·

==Strategy==

It is very easy to go wrong and find you have two or three widely spaced lone pegs. Many people never manage to solve the problem.
There are many different solutions to the standard problem, and one notation used to describe them assigns letters to the holes:
    English          European
     a b c             a b c
     d e f           y d e f z
 g h i j k l m     g h i j k l m
 n o p x P O N     n o p x P O N
 M L K J I H G     M L K J I H G
     F E D           Z F E D Y
     C B A             C B A
This mirror image notation is used, amongst other reasons, since on the European board, one set of alternative games is to start with a hole at some position and to end with a single peg in its mirrored position. On the English board the equivalent alternative games are to start with a hole and end with a peg at the same position.
There is no solution to the European board with the initial hole centrally located, if only orthogonal moves are permitted. This is easily seen as follows, by an argument from Hans Zantema. Divide the positions of the board into A, B and C positions as follows:
     A B C
   A B C A B
 A B C A B C A
 B C A B C A B
 C A B C A B C
   B C A B C
     A B C
Initially with only the central position free, the number of covered A positions is 12, the number of covered B positions is 12, and also the number of covered C positions is 12. After every move the number of covered A positions increases or decreases by one, and the same for the number of covered B positions and the number of covered C positions. Hence after an even number of moves all these three numbers are even, and after an odd number of moves all these three numbers are odd. Hence a final position with only one peg can not be reached: then one of these numbers is one (the position of the peg, one is odd), while the other two numbers are zero, hence even.
There are, however, several other configurations where a single initial hole can be reduced to a single peg.
A tactic that can be used is to divide the board into packages of three and to purge (remove) them entirely using one extra peg, the catalyst, that jumps out and then jumps back again. In the example below, the * is the catalyst.:
 '''*''' · o      [tpl]blue|¤[/tpl] [tpl]red|'''o'''[/tpl] [tpl]red|'''*'''[/tpl]      o [tpl]red|'''*'''[/tpl] ·      [tpl]red|'''*'''[/tpl] [tpl]red|'''o'''[/tpl] [tpl]blue|¤[/tpl]
   ·     →    ·    →     [tpl]red|'''o'''[/tpl]     →    o
   ·          ·          [tpl]blue|¤[/tpl]          o
This technique can be used with a line of 3, a block of 2·3 and a 6-peg L shape with a base of length 3 and upright of length 4.
Other alternate games include starting with two empty holes and finishing with two pegs in those holes. Also starting with one hole here and ending with one peg there. On an English board, the hole can be anywhere and the final peg can only end up where multiples of three permit. Thus a hole at a can only leave a single peg at a, p, O or C.

===Studies on peg solitaire===

A thorough analysis of the game is provided in Winning Ways ISBN 0-12-091102-7 in the UK and ISBN 1-56881-144-6 in the US (Vol 4, 2nd edition). 
They introduced a notion called pagoda function which is a strong tool to show the infeasibility of a given (generalized) peg solitaire problem. 
A problem for finding a pagoda function (which concludes the infeasibility of a given problem) is formulated as a linear programming problem and solvable in polynomial time (see Kiyomi and Matsui 2001). 
Uehara and Iwata (1990) dealt with the generalized Hi-Q problems which are equivalent to the peg solitaire problems and showed their NP-completeness.
Avis and Deza (1996) formulated a peg solitaire problem as a combinatorial optimization problem and discussed the properties of the feasible region called 'a solitaire cone'.
Kiyomi and Matsui (2001) proposed an efficient method for solving peg solitaire problems.
An unpublished study from 1989 on a generalised version of the game on the English board showed that each possible problem in the generalised game has 29 possible distinct solutions, excluding symmetries, as the English board contains 9 distinct 3×3 sub-squares.  One consequence of this analysis is to put a lower bound on the size of possible 'inverted position' problems, in which the cells initially occupied are left empty and vice versa. Any solution to such a problem must contain a minimum of 11 moves, irrespective of the exact details of the problem.
It can be proved using abstract algebra that there are only 5 fixed board positions where the game can successfully end with one peg.Mathematics and brainvita

===Solutions to the English game===

The shortest solution to the standard English game involves 18 moves, counting multiple jumps as single moves:
This solution was found in 1912 by Ernest Bergholt and proven to be the shortest possible by John Beasley in 1964.For Beasley's proof see Winning Ways, volume #4 (second edition).
This solution can also be seen on a page that also introduces the Wolstenholme notation, which is designed to make memorizing the solution easier.
Other solutions include the following list. In these, the notation used is
 x:x=ex,lj,ck,Pf,DP,GI,JH,mG,GI,ik,gi,LJ,JH,Hl,lj,jh,CK,pF,AC,CK,Mg,gi,ac,ck,kI,dp,pF,FD,DP,Pp,ox
 x:x=ex,lj,xe/hj,Ki,jh/ai,ca,fd,hj,ai,jh/MK,gM,hL,Fp,MK,pF/CK,DF,AC,JL,CK,LJ/PD,GI,mG,JH,GI,DP/Ox
 j:j=lj,Ik,jl/hj,Ki,jh/mk,Gm,Hl,fP,mk,Pf/ai,ca,fd,hj,ai,jh/MK,gM,hL,Fp,MK,pF/CK,DF,AC,JL,CK,LJ/Jj
 i:i=ki,Jj,ik/lj,Ik,jl/AI,FD,CA,HJ,AI,JH/mk,Hl,Gm,fP,mk,Pf/ai,ca,fd,hj,ai,jh/gi,Mg,Lh,pd,gi,dp/Ki
 e:e=xe/lj,Ik,jl/ck,ac,df,lj,ck,jl/GI,lH,mG,DP,GI,PD/AI,FD,CA,JH,AI,HJ/pF,MK,gM,JL,MK,Fp/hj,ox,xe
 d:d=fd,xe,df/lj,ck,ac,Pf,ck,jl/DP,KI,PD/GI,lH,mG,DP,GI,PD/CK,DF,AC,LJ,CK,JL/MK,gM,hL,pF,MK,Fp/pd
 b:b=jb,lj/ck,ac,Pf,ck/DP,GI,mG,JH,GI,PD/LJ,CK,JL/MK,gM,hL,pF,MK,Fp/xo,dp,ox/xe/AI/BJ,JH,Hl,lj,jb
 b:x=jb,lj/ck,ac,Pf,ck/DP,GI,mG,JH,GI,PD/LJ,CK,JL/MK,gM,hL,pF,MK,Fp/xo,dp,ox/xe/AI/BJ,JH,Hl,lj,ex
 a:a=ca,jb,ac/lj,ck,jl/Ik,pP,KI,lj,Ik,jl/GI,lH,mG,DP,GI,PD/CK,DF,AC,LJ,CK,JL/dp,gi,pd,Mg,Lh,gi/ia
 a:p=ca,jb,ac/lj,ck,jl/Ik,pP,KI,lj,Ik,jl/GI,lH,mG,DP,GI,PD/CK,DF,AC,LJ,CK,JL/dp,gi,pd,Mg,Lh,gi/dp

===attack on standard English peg solitaire===

The only place it is possible to end up with a solitary peg, is the centre, or the middle of one of the edges; on the last jump, there will always be an option of choosing whether to end in the centre or the edge.
Following is a table over the number (Possible Board Positions) of possible board positions after n jumps, and the number (No Further Jumps) of those positions from which no further jumps are possible.
If one board position can be rotated and/or flipped into another board position, the board positions are counted as identical.

Since the maximum number of board positions at any jump is 3,626,632, and there can only be 31 jumps, modern computers can easily examine all game positions in a reasonable time.
The above sequence "PBP" has been entered as A112737 in OEIS.  Note that the total number of reachable board positions (sum of the sequence) is 23,475,688, while the total number of possible board positions is 2^33, or approximately 2^33/8 ~ 1 billion when symmetry is taken into account.  So only about 2.2% of all possible board positions can be reached starting with the center vacant.
It is also possible to generate all board positions. The results below have been obtained using
the mcrl2 toolset (see the peg_solitaire example in the distribution).

===Solutions to the European game===

There are 3 initial non-congruent positions that have solutions.[tpl]Citation needed|date=December 2008[/tpl] These are:
1)
           0 1 2 3 4 5 6
         0     o · ·
         1   · · · · ·
         2 · · · · · · ·
         3 · · · · · · ·
         4 · · · · · · ·
         5   · · · · ·
         6     · · ·
Possible solution: 2:0-2:2, 1:4-1:2, 3:4-1:4, 3:2-3:4, 2:3-2:1, 5:3-3:3, 3:0-3:2, 5:1-3:1, 4:5-4:3, 5:5-5:3, 0:4-2:4, 2:1-4:1, 2:4-4:4, 5:2-5:4, 3:6-3:4, 1:1-1:3, 2:6-2:4, 0:3-2:3, 3:2-5:2, 3:4-3:2, 6:2-4:2, 3:2-5:2, 4:0-4:2, 4:3-4:1, 6:4-6:2, 6:2-4:2, 4:1-4:3, 4:3-4:5, 4:6-4:4, 5:4-3:4, 3:4-1:4, 1:5-1:3, 2:3-0:3, 0:2-0:4
2)
           0 1 2 3 4 5 6
         0     · · ·
         1   · · o · ·
         2 · · · · · · ·
         3 · · · · · · ·
         4 · · · · · · ·
         5   · · · · ·
         6     · · ·
Possible solution: 3:2-1:2, 3:4-3:2, 1:4-3:4, 5:3-3:3, 4:1-4:3, 2:1-4:1, 2:6-2:4, 4:4-4:2, 3:4-1:4, 3:2-3:4, 5:1-3:1, 4:6-2:6, 3:0-3:2, 4:5-2:5, 0:2-2:2, 2:6-2:4, 6:4-4:4, 3:4-5:4, 2:3-2:1, 2:0-2:2, 1:4-3:4, 5:5-5:3, 6:3-4:3, 4:3-4:1, 6:2-4:2, 3:2-5:2, 4:0-4:2, 5:2-3:2, 3:2-1:2, 1:2-1:4, 0:4-2:4, 3:4-1:4, 1:5-1:3, 0:3-2:3
and 
3)
           0 1 2 3 4 5 6
         0     · · ·
         1   · · · · ·
         2 · · · o · · ·
         3 · · · · · · ·
         4 · · · · · · ·
         5   · · · · ·
         6     · · ·
Possible solution: 0:2-2:2, 4:1-2:1, 4:3-4:1, 2:3-4:3, 1:4-1:2, 2:1-2:3, 0:4-0:2, 4:4-4:2, 3:4-1:4, 6:3-4:3, 1:1-1:3, 4:6-4:4, 5:1-3:1, 2:6-2:4, 1:4-1:2, 0:2-2:2, 3:6-3:4, 4:3-4:1, 6:2-4:2, 2:3-2:1, 4:1-4:3, 5:5-5:3, 2:0-2:2, 2:2-4:2, 3:4-5:4, 4:3-4:1, 3:0-3:2, 6:4-4:4, 4:0-4:2, 3:2-5:2, 5:2-5:4, 5:4-3:4, 3:4-1:4, 1:5-1:3

===Board variants===

Peg solitaire has been played on other size boards, although the two given above are the most popular.  It has also been played on a triangular board, with jumps allowed in all 3 directions.  As long as the variant has the proper "parity" and is large enough, it will probably be solvable.
