[[Flash memory]]

CATEGORIES: Computer memory, Non-volatile memory, Solid-state computer storage media, Japanese inventions

Flash memory is an electronic non-volatile computer storage medium that can be electrically erased and reprogrammed.
Introduced by Toshiba in 1984, flash memory was developed from EEPROM (electrically erasable programmable read-only memory). There are two main types of flash memory, which are named after the NAND and NOR logic gates. The internal characteristics of the individual flash memory cells exhibit characteristics similar to those of the corresponding gates.
Whereas EPROMs had to be completely erased before being rewritten, NAND type flash memory may be written and read in blocks (or pages) which are generally much smaller than the entire device. NOR type flash allows a single machine word (byte) to be written[tpl]mdashb[/tpl]to an erased location[tpl]mdashb[/tpl]or read independently.
The NAND type is primarily used in main memory, memory cards, USB flash drives, solid-state drives, and similar products, for general storage and transfer of data. The NOR type, which allows true random access and therefore direct code execution, is used as a replacement for the older EPROM and as an alternative to certain kinds of ROM applications, whereas NOR flash memory may emulate ROM primarily at the machine code level; many digital designs need ROM (or PLA) structures for other uses, often at significantly higher speeds than (economical) flash memory may achieve.[tpl]citation needed|date=August 2013[/tpl] NAND or NOR flash memory is also often used to store configuration data in numerous digital products, a task previously made possible by EEPROMs or battery-powered static RAM.
Example applications of both types of flash memory include personal computers, PDAs, digital audio players, digital cameras, mobile phones, synthesizers, video games, scientific instrumentation, industrial robotics, medical electronics, and so on. In addition to being non-volatile, flash memory offers fast read access times, as fast as dynamic RAM, although not as fast as static RAM or ROM. Its mechanical shock resistance helps explain its popularity over hard disks in portable devices, as does its high durability, being able to withstand high pressure, temperature, immersion in water, etc.[tpl]cite news| url=http://news.bbc.co.uk/1/hi/england/8510314.stm |work=BBC News | title=Owners of QM2 seabed camera found | date=11 February 2010[/tpl]
Although flash memory is technically a type of EEPROM, the term "EEPROM" is generally used to refer specifically to non-flash EEPROM which is erasable in small blocks, typically bytes. Because erase cycles are slow, the large block sizes used in flash memory erasing give it a significant speed advantage over non-flash EEPROM when writing large amounts of data. [tpl]As of | 2013[/tpl], flash memory costs much less than byte-programmable EEPROM and has become the dominant memory type wherever a system requires a significant amount of non-volatile, solid state storage.

==History==

Flash memory (both NOR and NAND types) was invented by Dr. Fujio Masuoka while working for Toshiba circa 1980.[tpl]cite web|last=Fulford|first= Benjamin|title=Unsung hero|work=Forbes|date=24 June 2002|accessdate=18 March 2008|url= http://www.forbes.com/global/2002/0624/030.html[/tpl][tpl]patent|US|4531203|Fujio Masuoka[/tpl] According to Toshiba, the name "flash" was suggested by Masuoka's colleague, Shōji Ariizumi, because the erasure process of the memory contents reminded him of the flash of a camera.[tpl]Citation needed|date=January 2013[/tpl] Masuoka and colleagues presented the invention at the IEEE 1984 International Electron Devices Meeting (IEDM) held in San Francisco.[tpl]cite web |url=http://ieeexplore.ieee.org/xpl/articleDetails.jsp?arnumber=1487443 |title=New ultra high density EPROM and flash EEPROM with NAND structure cell  |last1=Masuoka |first1=F. |last2=Momodomi |first2=M. |last3=Iwata |first3=Y. |last4=Shirota |first4=R. |year=1987 |work=Electron Devices Meeting, 1987 International |publisher=IEEE |accessdate=4 January 2013[/tpl]
Intel Corporation saw the massive potential of the invention and introduced the first commercial NOR type flash chip in 1988.[tpl]cite web|url=http://www2.electronicproducts.com/NAND_vs_NOR_flash_technology-article-FEBMSY1-FEB2002.aspx|title=NAND vs. NOR flash technology: The designer should weigh the options when using flash memory|last=Tal|first=Arie|date=February 2002|accessdate=31 July 2010[/tpl] NOR-based flash has long erase and write times, but provides full address and data buses, allowing random access to any memory location. This makes it a suitable replacement for older read-only memory (ROM) chips, which are used to store program code that rarely needs to be updated, such as a computer's BIOS or the firmware of set-top boxes. Its endurance may be from as little as 100 erase cycles for an on-chip flash memory,[tpl]cite web | url = http://www.renesas.com/req/product_document_lineup_child.do?REGION_KEY=1&LAYER_KEY=98&PDF_URL=http://documentation.renesas.com/doc/products/mpumcu/rej09b0138_h8s2357.pdf&TKUPDATE=true&APNOTE=true | title = H8S/2357 Group, H8S/2357F-ZTATTM, H8S/2398F-ZTATTM Hardware Manual, Section 19.6.1 | accessdate =23 January 2012 | date = October 2004 | format = PDF | publisher = Renesas | quote = The flash memory can be reprogrammed up to 100 times.[/tpl] to a more typical 10,000 or 100,000 erase cycles, up to 1,000,000 erase cycles.[tpl]cite web | url = http://www.spansion.com/Support/Application%20Notes/AMD%20DL160%20and%20DL320%20Series%20Flash-%20New%20Densities,%20New%20Features.pdf | title = AMD DL160 and DL320 Series Flash: New Densities, New Features | accessdate =23 January 2012 | date = 2003-17 | format = PDF | publisher = AMD | quote = The devices offer single-power-supply operation (2.7 V to 3.6 V), sector architecture, Embedded Algorithms, high performance, and a 1,000,000 program/erase cycle endurance guarantee.[/tpl] NOR-based flash was the basis of early flash-based removable media; CompactFlash was originally based on it, though later cards moved to less expensive NAND flash.
NAND flash has reduced erase and write times, and requires less chip area per cell, thus allowing greater storage density and lower cost per bit than NOR flash; it also has up to ten times the endurance of NOR flash. However, the I/O interface of NAND flash does not provide a random-access external address bus. Rather, data must be read on a block-wise basis, with typical block sizes of hundreds to thousands of bits. This makes NAND flash unsuitable as a drop-in replacement for program ROM, since most microprocessors and microcontrollers required byte-level random access. In this regard, NAND flash is similar to other secondary data storage devices, such as hard disks and optical media, and is thus very suitable for use in mass-storage devices, such as memory cards. The first NAND-based removable media format was SmartMedia in 1995, and many others have followed, including:
A new generation of memory card formats, including RS-MMC, miniSD and microSD, and Intelligent Stick, feature extremely small form factors. For example, the microSD card has an area of just over 1.5 cm2, with a thickness of less than 1 mm. microSD capacities range from 64 MB to 128 GB, as of February 2014.[tpl]cite web|url=http://www.sandisk.com/about-sandisk/press-room/press-releases/2014/sandisk-introduces-worlds-highest-capacity-microsdxc-memory-card-at-128gb/ |title=SANDISK INTRODUCES WORLD’S HIGHEST CAPACITY microSDXC MEMORY CARD AT 128GB |date=24 February 2014 |last1=Culp |first1=Natassia |publisher=Sandisk |accessdate=4 January 2013[/tpl]

==Principles of operation==

Flash memory stores information in an array of memory cells made from floating-gate transistors. In traditional single-level cell (SLC) devices, each cell stores only one bit of information. Some newer flash memory, known as multi-level cell (MLC) devices, including triple-level cell (TLC) devices, can store more than one bit per cell by choosing between multiple levels of electrical charge to apply to the floating gates of its cells.
The floating gate may be conductive (typically polysilicon in most kinds of flash memory) or non-conductive (as in SONOS flash memory).[tpl]Citation |first=Matt |last=Basinger |title=PSoC Designer Device Selection Guide |date=18 January 2007 |id=AN2209 |url=http://www.psocdeveloper.com/uploads/tx_piapappnote/an2209_03.pdf |quote=The PSoC ... utilizes a unique Flash process: SONOS [/tpl]

===Floating-gate transistor===

In flash memory, each memory cell resembles a standard MOSFET, except the transistor has two gates instead of one. On top is the control gate (CG), as in other MOS transistors, but below this there is a floating gate (FG) insulated all around by an oxide layer. The FG is interposed between the CG and the MOSFET channel. Because the FG is electrically isolated by its insulating layer, any electrons placed on it are trapped there and, under normal conditions, will not discharge for many years. When the FG holds a charge, it screens (partially cancels) the electric field from the CG, which modifies the threshold voltage (VT) of the cell (more voltage has to be applied to the CG to make the channel conduct). For read-out, a voltage intermediate between the possible threshold voltages is applied to the CG, and the MOSFET channel's conductivity tested (if it's conducting or insulating), which is influenced by the FG. The current flow through the MOSFET channel is sensed and forms a binary code, reproducing the stored data. In a multi-level cell device, which stores more than one bit per cell, the amount of current flow is sensed (rather than simply its presence or absence), in order to determine more precisely the level of charge on the FG.

====Internal charge pumps====

Despite the need for high programming and erasing voltages, virtually all flash chips today require only a single supply voltage, and produce the high voltages via on-chip charge pumps.
Over half the energy used by a 1.8 V NAND flash chip is lost in the charge pump itself. Since boost converters are inherently more efficient than charge pumps, researchers developing low-power SSDs have proposed returning to the dual Vcc/Vpp supply voltages used on all the early flash chips, driving the high Vpp voltage for all flash chips in a SSD with a single shared external boost converter.[tpl]Citation |first1=Tadashi |last1=Yasufuku |first2=Koichi |last2=Ishida |first3=Shinji |last3=Miyamoto |first4=Hiroto |last4=Nakai |first5=Makoto |last5=Takamiya |first6=Takayasu |last6=Sakurai |first7=Ken |last7=Takeuchi |url=http://www.computer.org/csdl/proceedings/islped/2009/8684/00/86840087-abs.html |title=Inductor design of 20-V boost converter for low power 3D solid state drive with NAND flash memories |pages=87–92 |conference=Proceedings of the 14th ACM/IEEE international symposium on Low power electronics and design (ISLPED '09)|year=2009 [/tpl] (abstract).[tpl]citation |first1=Rino |last1=Micheloni |first2=Alessia |last2=Marelli |first3=Kam |last3=Eshghi |url=http://books.google.com/books?id=8LS3egzcBG4C&pg=PA188&lpg=PA188 |title=Inside Solid State Drives (SSDs) |year=2012 |isbn= [/tpl][tpl]citation |first1=Rino |last1=Micheloni |first2=Luca |last2=Crippa |url=http://books.google.com/books?id=vaq11vKwo_kC&pg=PA530&lpg=PA530 |title=Inside NAND Flash Memories |year=2010 |isbn= [/tpl] In particular, pp 515-536: K. Takeuchi. "Low power 3D-integrated SSD"[tpl]citation |first1=Tracey |last1=Mozel |url=http://books.google.com/books?id=XlbOf-m8fdYC&pg=RA5-PA3&lpg=RA5-PA3 |title=CMOSET Fall 2009 Circuits and Memories Track Presentation Slides |year=2009[/tpl]Tadashi Yasufuku et al., "Inductor and TSV Design of 20-V Boost Converter for Low Power 3D Solid State Drive with NAND Flash Memories". 2010.[ref]Hatanaka, T. and Takeuchi, K.
"4-times faster rising VPASS (10V), 15% lower power VPGM (20V), wide output voltage range voltage generator system for 4-times faster 3D-integrated solid-state drives". 2011.[/ref]Takeuchi, K., "Low power 3D-integrated Solid-State Drive (SSD) with adaptive voltage generator". 2010.Ishida, K. et al., "1.8 V Low-Transient-Energy Adaptive Program-Voltage Generator Based on Boost Converter for 3D-Integrated NAND Flash SSD". 2011.
In spacecraft and other high-radiation environments, the on-chip charge pump is the first part of the flash chip to fail.
Flash memories continue to work at much higher radiation levels in read-only mode.[ref]A. H. Johnston, "Space Radiation Effects in Advanced Flash Memories".
NASA Electronic Parts and Packaging Program (NEPP). 2001. "... internal transistors used for the charge pump and erase/write control have much thicker oxides because of the requirement for high voltage. This causes flash devices to be considerably more sensitive to total dose damage compared to other ULSI technologies. It also implies that write and erase functions will be the first parameters to fail from total dose. ... Flash memories will work at much higher radiation levels in the read mode. ... The charge pumps that are required to generate the high voltage for erasing and writing are usually the most sensitive circuit functions, usually failing below 10 krad(SI)."[/ref]

===NOR flash===

In NOR gate flash, each cell has one end connected directly to ground, and the other end connected directly to a bit line.
This arrangement is called "NOR flash" because it acts like a NOR gate: when one of the word lines (connected to the cell's CG) is brought high, the corresponding storage transistor acts to pull the output bit line low. NOR flash continues to be the technology of choice for embedded applications requiring a discrete non-volatile memory device.  The low read latencies characteristic of NOR devices allow for both direct code execution and data storage in a single memory product.[tpl]cite web|last=Zitlaw|first=Cliff|title=The Future of NOR Flash Memory|url=http://www.eetimes.com/design/memory-design/4215634|work=Memory Designline|publisher=UBM Media|accessdate=3 May 2011[/tpl]

====Programming====

A single-level NOR flash cell in its default state is logically equivalent to a binary "1" value, because current will flow through the channel under application of an appropriate voltage to the control gate, so that the bitline voltage is pulled down. A NOR flash cell can be programmed, or set to a binary "0" value, by the following procedure:

====Erasing====

To erase a NOR flash cell (resetting it to the "1" state), a large voltage of the opposite polarity is applied between the CG and source terminal, pulling the electrons off the FG through quantum tunneling. Modern NOR flash memory chips are divided into erase segments (often called blocks or sectors). The erase operation can be performed only on a block-wise basis; all the cells in an erase segment must be erased together. Programming of NOR cells, however, generally can be performed one byte or word at a time.

===NAND flash===

NAND flash also uses floating-gate transistors, but they are connected in a way that resembles a NAND gate: several transistors are connected in series, and only if all word lines are pulled high (above the transistors' VT) is the bit line pulled low. These groups are then connected via some additional transistors to a NOR-style bit line array in the same way that single transistors are linked in NOR flash.
Compared to NOR flash, replacing single transistors with serial-linked groups adds an extra level of addressing.  Whereas NOR flash might address memory by page then word, NAND flash might address it by page, word and bit.  Bit-level addressing suits bit-serial applications (such as hard disk emulation), which access only 1 bit at a time.  Execute-In-Place applications, on the other hand, require every bit in a word to be accessed simultaneously.  This requires word-level addressing.  In any case, both bit and word addressing modes are possible with either NOR or NAND flash.
To read, first the desired group is selected (in the same way that a single transistor is selected from a NOR array).  Next, most of the word lines are pulled up above the VT of a programmed bit, while one of them is pulled up to just over the VT of an erased bit. The series group will conduct (and pull the bit line low) if the selected bit has not been programmed.
Despite the additional transistors, the reduction in ground wires and bit lines allows a denser layout and greater storage capacity per chip. (The ground wires and bit lines are actually much wider than the lines in the diagrams.)  In addition, NAND flash is typically permitted to contain a certain number of faults (NOR flash, as is used for a BIOS ROM, is expected to be fault-free). Manufacturers try to maximize the amount of usable storage by shrinking the size of the transistor below the size where they can be made reliably, to the size where further reductions would increase the number of faults faster than it would increase the total storage available.

====Writing and erasing====

NAND flash uses tunnel injection for writing and tunnel release for erasing. NAND flash memory forms the core of the removable USB storage devices known as USB flash drives, as well as most memory card formats and solid-state drives available today.

===Vertical NAND===

Vertical NAND (V-NAND) memory stacks memory cells vertically and uses a charge trap flash architecture. The vertical layers allow larger areal bit densities without requiring smaller individual cells.[tpl]cite web|url=http://www.gizmag.com/samsung-v-nand-flash-chip-ssd/28655 |title=Samsung moves into mass production of 3D flash memory |publisher=Gizmag.com |date= |accessdate=2013-08-27[/tpl]

====Structure====

V-NAND uses a charge trap flash geometry (pioneered in 2002 by AMD) that stores charge on an embedded silicon nitride film. Such a film is more robust against point defects and can be made thicker to hold larger numbers of electrons. V-NAND wraps a planar charge trap cell into a cylindrical form.
An individual memory cell is made up of one planar polysilicon layer containing a hole filled by multiple concentric vertical cylinders. The hole's polysilicon surface acts as the gate electrode. The outermost silicon dioxide cylinder acts as the gate dielectric, enclosing a silicon nitride cylinder that stores charge, in turn enclosing a silicon dioxide cylinder as the tunnel dielectric that surrounds a central rod of conducting polysilicon which acts as the conducting channel.
Memory cells in different vertical layers do not interfere with each other, as the charges cannot move vertically through the silicon nitride storage medium, and the electric fields associated with the gates are closely confined within each layer. The vertical collection is electrically identical to the serial-linked groups in which conventional NAND flash memory is configured.

====Construction====

Growth of a group of V-NAND cells begins with an alternating stack of conducting (doped) polysilicon layers and insulating silicon dioxide layers.
The next step is to form a cylindrical hole through these layers. In practice, a 128 Gbit V-NAND chip with 24 layers of memory cells requires about 2.9 billion such holes. Next the hole's inner surface receives multiple coatings, first silicon dioxide, then silicon nitride, then a second layer of silicon dioxide. Finally, the hole is filled with conducting (doped) polysilicon.

====Performance====

As of 2013, V-NAND flash architecture allows read and write operations twice as fast as conventional NAND and can last up to 10 times as long, while consuming 50 percent less power. They offer comparable physical bit density using 10-nm lithography, but may be able to increase bit density by up to two orders of magnitude.

==Limitations==

===Block erasure===

One limitation of flash memory is that, although it can be read or programmed a byte or a word at a time in a random access fashion, it can only be erased a "block" at a time. This generally sets all bits in the block to 1. Starting with a freshly erased block, any location within that block can be programmed. However, once a bit has been set to 0, only by erasing the entire block can it be changed back to 1. In other words, flash memory (specifically NOR flash) offers random-access read and programming operations, but does not offer arbitrary random-access rewrite or erase operations. A location can, however, be rewritten as long as the new value's 0 bits are a superset of the over-written values. For example, a nibble value may be erased to 1111, then written e.g. as 1110. Successive writes to that nibble can change it to 1010, then 0010, and finally 0000. Essentially, erasure sets all bits to 1, and programming can only clear bits to 0. File systems designed for flash devices can make use of this capability, for example to represent sector metadata.
Although data structures in flash memory cannot be updated in completely general ways, this allows members to be "removed" by marking them as invalid. This technique may need to be modified for multi-level cell devices, where one memory cell holds more than one bit.
Common flash devices such as USB flash drives and memory cards provide only a block-level interface, or flash translation layer (FTL), which writes to a different cell each time to wear-level the device. This prevents incremental writing within a block, however it does not help the device from being prematurely worn out by poorly designed systems (for example, the MS-FAT file system, having been designed for DOS and disk media).

===Memory wear===

Another limitation is that flash memory has a finite number of program-erase cycles (typically written as P/E cycles). Most commercially available flash products are guaranteed to withstand around 100,000 P/E cycles before the wear begins to deteriorate the integrity of the storage.[tpl]cite journal|url= http://www.snia.org/sites/default/files/SSSI_NAND_Reliability_White_Paper_0.pdf|format= PDF|title=NAND Flash Solid State Storage for the Enterprise, An In-depth Look at Reliability|date= April 2009|accessdate=6 December 2011|author=Jonathan Thatcher, Fusion-io; Tom Coughlin, Coughlin Associates; Jim Handy, Objective-Analysis; Neal Ekker, Texas Memory Systems|publisher=Solid State Storage Initiative (SSSI) of the Storage Network Industry Association (SNIA)[/tpl] Micron Technology and Sun Microsystems announced an SLC NAND flash memory chip rated for 1,000,000 P/E cycles on 17 December 2008.[tpl]cite press release|url=http://investors.micron.com/releasedetail.cfm?ReleaseID=440650|title=Micron Collaborates with Sun Microsystems to Extend Lifespan of Flash-Based Storage, Achieves One Million Write Cycles|date=17 December 2008| publisher=Micron Technology, Inc.[/tpl]
The guaranteed cycle count may apply only to block zero (as is the case with TSOP NAND devices), or to all blocks (as in NOR). This effect is partially offset in some chip firmware or file system drivers by counting the writes and dynamically remapping blocks in order to spread write operations between sectors; this technique is called wear leveling. Another approach is to perform write verification and remapping to spare sectors in case of write failure, a technique called bad block management (BBM). For portable consumer devices, these wearout management techniques typically extend the life of the flash memory beyond the life of the device itself, and some data loss may be acceptable in these applications. For high reliability data storage, however, it is not advisable to use flash memory that would have to go through a large number of programming cycles. This limitation is meaningless for 'read-only' applications such as thin clients and routers, which are programmed only once or at most a few times during their lifetimes.
In December 2012, Taiwanese engineers from Macronix revealed their intention to announce at the 2012 IEEE International Electron Devices Meeting that it has figured out how to improve NAND flash storage read/write cycles from 10,000 to 100 million cycles using a “self-healing” process that uses a flash chip with “onboard heaters that could anneal small groups of memory cells.”"Flash memory breakthrough could lead to even more reliable data storage."
The built-in thermal annealing replaces the usual erase cycle with a local high temperature process that not only erases the stored charge, but also repairs the electron induced stress in the chip, giving write cycles of at least 100 million."Flash memory made immortal by fiery heat."
The result is a chip that can be erased and rewritten on over and over, even when it should theoretically break down. As promising as Macronix’s breakthrough could be for the mobile industry, however, there are no plans for a commercial product to be released any time in the near future."Flash memory breakthrough could lead to even more reliable data storage."

===Read disturb===

The method used to read NAND flash memory can cause nearby cells in the same memory block to change over time (become programmed). This is known as read disturb. The threshold number of reads is generally in the hundreds of thousands of reads between intervening erase operations. If reading continually from one cell, that cell will not fail but rather one of the surrounding cells on a subsequent read. To avoid the read disturb problem the flash controller will typically count the total number of reads to a block since the last erase.  When the count exceeds a target limit, the affected block is copied over to a new block, erased, then released to the block pool. The original block is as good as new after the erase.  If the flash controller does not intervene in time, however, a read disturb error will occur with possible data loss if the errors are too numerous to correct with ECC.[tpl]cite web |url=http://download.micron.com/pdf/technotes/nand/tn2917.pdf |title=TN-29-17 NAND Flash Design and Use Considerations Introduction |publisher=Micron |date=April 2010 |accessdate=29 July 2011[/tpl][tpl]cite web | url=http://techon.nikkeibp.co.jp/NEA/solutions/0808002.pdf |title=TECHNOLOGY FOR MANAGING NAND FLASH |last=Kawamatus |first=Tatsuya|publisher=Hagiwara sys-com co., LTD |accessdate=1 August 2011[/tpl]

===X-ray effects===

Most flash ICs come in ball grid array (BGA) packages, and even the ones that do not are often mounted on a PCB next to other BGA packages.
After PCB Assembly, boards with BGA packages are often X-rayed to see if the balls are making proper connections to the proper pad, or if the BGA needs rework.
These X-rays can erase programmed bits in a flash chip (convert programmed "0" bits into erased "1" bits).
Erased bits ("1" bits) are not affected by X rays.[ref]
Richard Blish.
"Dose Minimization During X-ray Inspection of Surface-Mounted Flash ICs".
p. 1.
[/ref][ref]
Richard Blish.
"Impact of X-Ray Inspection on Spansion Flash Memory".
[/ref]

==Low-level access==

The low-level interface to flash memory chips differs from those of other memory types such as DRAM, ROM, and EEPROM, which support bit-alterability (both zero to one and one to zero) and random access via externally accessible address buses.
NOR memory has an external address bus for reading and programming. For NOR memory, reading and programming are random-access, and unlocking and erasing are block-wise. For NAND memory, reading and programming are page-wise, and unlocking and erasing are block-wise.

===NOR memories===

Reading from NOR flash is similar to reading from random-access memory, provided the address and data bus are mapped correctly. Because of this, most microprocessors can use NOR flash memory as execute in place (XIP) memory, meaning that programs stored in NOR flash can be executed directly from the NOR flash without needing to be copied into RAM first. NOR flash may be programmed in a random-access manner similar to reading. Programming changes bits from a logical one to a zero. Bits that are already zero are left unchanged. Erasure must happen a block at a time, and resets all the bits in the erased block back to one. Typical block sizes are 64, 128, or 256 KB.
Bad block management is a relatively new feature in NOR chips. In older NOR devices not supporting bad block management, the software or device driver controlling the memory chip must correct for blocks that wear out, or the device will cease to work reliably.
The specific commands used to lock, unlock, program, or erase NOR memories differ for each manufacturer. To avoid needing unique driver software for every device made, special Common Flash Memory Interface (CFI) commands allow the device to identify itself and its critical operating parameters.
Besides its use as random-access ROM, NOR flash can also be used as a storage device, by taking advantage of random-access programming. Some devices offer read-while-write functionality so that code continues to execute even while a program or erase operation is occurring in the background. For sequential data writes, NOR flash chips typically have slow write speeds, compared with NAND flash.
Typical NOR flash does not need an error correcting code.[ref]
Spansion.
"What Types of ECC Should Be Used on Flash Memory?".
2011.
[/ref]

===NAND memories===

NAND flash architecture was introduced by Toshiba in 1989.[tpl]cite web|url=http://www.tgc.com/dsstar/02/0917/104762.html |title=DSstar: TOSHIBA ANNOUNCES 0.13 MICRON 1GB MONOLITHIC NAND |publisher=Tgc.com |date=2002-04-23 |accessdate=2013-08-27[/tpl] These memories are accessed much like block devices, such as hard disks. Each block consists of a number of pages. The pages are typically 512[ref]
[tpl]Cite news|last=Kim|first=Jesung|last2=Kim|first2=John Min|last3=Noh|first3=Sam H.|last4=Min| first4=Sang Lyul|last5=Cho|first5=Yookun|publication-date=2002-05|title=A Space-Efficient Flash Translation Layer for CompactFlash Systems|periodical=Proceedings of the IEEE|volume=48|issue=2| pages=366–375|url=http://ieeexplore.ieee.org/iel5/30/21778/01010143.pdf?tp=&isnumber=&arnumber=1010143|accessdate=15 August 2008[/tpl][/ref] or 2,048 or 4,096 bytes in size. Associated with each page are a few bytes (typically 1/32 of the data size) that can be used for storage of an error correcting code (ECC) checksum.
Typical block sizes include:
While reading and programming is performed on a page basis, erasure can only be performed on a block basis.[tpl]cite web |url=https://www.snia.org/sites/default/education/tutorials/2009/spring/solid/JonathanThatcher_NandFlash_SSS_PerformanceV10-nc.pdf |title=NAND Flash Solid State Storage Performance and Capability – an In-depth Look |last=Thatcher |first=Jonathan |date=18 August 2009 |publisher=SNIA |accessdate=2012-08-28[/tpl] Number of Operations (NOPs) is the number of times the pages can be programmed. So far, this number for MLC flash is always one while, for SLC flash, it is four.[tpl]Citation needed|date=August 2008[/tpl]
NAND devices also require bad block management by the device driver software, or by a separate controller chip. SD cards, for example, include controller circuitry to perform bad block management and wear leveling. When a logical block is accessed by high-level software, it is mapped to a physical block by the device driver or controller. A number of blocks on the flash chip may be set aside for storing mapping tables to deal with bad blocks, or the system may simply check each block at power-up to create a bad block map in RAM. The overall memory capacity gradually shrinks as more blocks are marked as bad.
NAND relies on ECC to compensate for bits that may spontaneously fail during normal device operation. A typical ECC will correct a one-bit error in each 2048 bits (256 bytes) using 22 bits of ECC code, or a one-bit error in each 4096 bits (512 bytes) using 24 bits of ECC code.[tpl]cite web|url=http://www.elnec.com/sw/samsung_ecc_algorithm_for_256b.pdf| format=PDF|title=Samsung ECC algorithm|accessdate=15 August 2008|publisher=Samsung|date=June 2008[/tpl] If the ECC cannot correct the error during read, it may still detect the error. When doing erase or program operations, the device can detect blocks that fail to program or erase and mark them bad. The data is then written to a different, good block, and the bad block map is updated.
Hamming codes are the most commonly used ECC for SLC NAND flash.
Reed-Solomon codes and Bose-Chaudhuri-Hocquenghem codes are commonly used ECC for MLC NAND flash.
Some MLC NAND flash chips internally generate the appropriate BCH error correction codes.

Most NAND devices are shipped from the factory with some bad blocks. These are typically marked according to a specified bad block marking strategy. By allowing some bad blocks, the manufacturers achieve far higher yields than would be possible if all blocks had to be verified good. This significantly reduces NAND flash costs and only slightly decreases the storage capacity of the parts.
When executing software from NAND memories, virtual memory strategies are often used: memory contents must first be paged or copied into memory-mapped RAM and executed there (leading to the common combination of NAND + RAM). A memory management unit (MMU) in the system is helpful, but this can also be accomplished with overlays. For this reason, some systems will use a combination of NOR and NAND memories, where a smaller NOR memory is used as software ROM and a larger NAND memory is partitioned with a file system for use as a non-volatile data storage area.
NAND sacrifices the random-access and execute-in-place advantages of NOR. NAND is best suited to systems requiring high capacity data storage. It offers higher densities, larger capacities, and lower cost. It has faster erases, sequential writes, and sequential reads.

===Standardization===

A group called the Open NAND Flash Interface Working Group (ONFI) has developed a standardized low-level interface for NAND flash chips. This allows interoperability between conforming NAND devices from different vendors. The ONFI specification version 1.0[tpl]cite web|url=http://onfi.org/wp-content/uploads/2009/02/onfi_1_0_gold.pdf |format=PDF|title=Open NAND Flash Interface Specification |publisher=Open NAND Flash Interface|date=28 December 2006|accessdate=31 July 2010[/tpl] was released on 28 December 2006. It specifies:
The ONFI group is supported by major NAND flash manufacturers, including Hynix, Intel, Micron Technology, and Numonyx, as well as by major manufacturers of devices incorporating NAND flash chips.A list of ONFi members is available at http://onfi.org/membership/.
One major flash device manufacturer, Toshiba, has chosen to use an interface of their own design known as Toggle Mode (and now Toggle V2.0). This interface isn't directly, pin for pin compatible with the ONFI specification. The result is a product designed for one vendor's devices, can't use other vendor's devices.http://www.toshiba.com/taec/news/press_releases/2010/memy_10_599.jsp
A group of vendors, including Intel, Dell, and Microsoft, formed a Non-Volatile Memory Host Controller Interface (NVMHCI) Working Group.[tpl]cite web|url=http://www.intel.com/pressroom/archive/releases/20070530corp.htm|title=Dell, Intel And Microsoft Join Forces To Increase Adoption Of NAND-Based Flash Memory In PC Platforms|publisher=Intel|date=30 May 2007|location=REDMOND, Wash |accessdate=30 November 2008[/tpl] [tpl]Dead link|date=September 2010|bot=H3llBot[/tpl] The goal of the group is to provide standard software and hardware programming interfaces for nonvolatile memory subsystems, including the "flash cache" device connected to the PCI Express bus.

==Distinction between NOR and NAND flash==

NOR and NAND flash differ in two important ways:
These two are linked by the design choices made in the development of NAND flash. A goal of NAND flash development was to reduce the chip area required to implement a given capacity of flash memory, and thereby to reduce cost per bit and increase maximum chip capacity so that flash memory could compete with magnetic storage devices like hard disks.[tpl]Citation needed|date=October 2009[/tpl]
NOR and NAND flash get their names from the structure of the interconnections between memory cells.See pages 5–7 of Toshiba's "NAND Applications Design Guide" under External links. In NOR flash, cells are connected in parallel to the bit lines, allowing cells to be read and programmed individually. The parallel connection of cells resembles the parallel connection of transistors in a CMOS NOR gate. In NAND flash, cells are connected in series, resembling a NAND gate. The series connections consume less space than parallel ones, reducing the cost of NAND flash. It does not, by itself, prevent NAND cells from being read and programmed individually.
Each NOR flash cell is larger than a NAND flash cell — 10 F2 vs 4 F2 — even when using exactly the same semiconductor device fabrication and so each transistor, contact, etc. is exactly the same size -- because NOR flash cells require a separate metal contact for each cell.[tpl]Citation |publisher=Micron |url=http://www.micron.com/~/media/Documents/Products/Technical%20Note/NAND%20Flash/tn2919_nand_101.pdf |id=TN-29-19 |title=NAND Flash 101: An Introduction to NAND Flash and How to Design It In to Your Next Product |pages=2–3[/tpl]
When NOR flash was developed, it was envisioned as a more economical and conveniently rewritable ROM than contemporary EPROM and EEPROM memories. Thus random-access reading circuitry was necessary. However, it was expected that NOR flash ROM would be read much more often than written, so the write circuitry included was fairly slow and could only erase in a block-wise fashion. On the other hand, applications that use flash as a replacement for disk drives do not require word-level write address, which would only add to the complexity and cost unnecessarily.[tpl]Citation needed|date=October 2009[/tpl]
Because of the series connection and removal of wordline contacts, a large grid of NAND flash memory cells will occupy perhaps only 60% of the area of equivalent NOR cells[tpl]Cite news|last=Pavan|first=Paolo|last2=Bez|first2=Roberto|last3=Olivo| first3=Piero|last4=Zononi|first4=Enrico|publication-date=August 1997|title=Flash Memory Cells – An Overview|periodical=Proceedings of the IEEE|volume=85|issue=8|pages=1248–1271|url= http://ieeexplore.ieee.org/iel3/5/13533/00622505.pdf?tp=&isnumber=&arnumber=622505|accessdate=15 August 2008|doi=10.1109/5.622505|year=1997[/tpl] (assuming the same CMOS process resolution, for example, 130 nm, 90 nm, or 65 nm). NAND flash's designers realized that the area of a NAND chip, and thus the cost, could be further reduced by removing the external address and data bus circuitry. Instead, external devices could communicate with NAND flash via sequential-accessed command and data registers, which would internally retrieve and output the necessary data. This design choice made random-access of NAND flash memory impossible, but the goal of NAND flash was to replace hard disks, not to replace ROMs.

===Write endurance===

The write endurance of SLC floating-gate NOR flash is typically equal to or greater than that of NAND flash, while MLC NOR and NAND flash have similar endurance capabilities. Example Endurance cycle ratings listed in datasheets for NAND and NOR flash are provided.
However, by applying certain algorithms and design paradigms such as wear leveling and memory over-provisioning, the endurance of a storage system can be tuned to serve specific requirements.[tpl]cite web |url=http://www.wdc.com/WDProducts/SSD/whitepapers/en/NAND_Evolution_0812.pdf |title=NAND Evolution and its Effects on Solid State Drive Useable Life |publisher=Western Digital |year=2009 |accessdate=22 April 2012[/tpl]

==Flash file systems==

Because of the particular characteristics of flash memory, it is best used with either a controller to perform wear leveling and error correction or specifically designed flash file systems, which spread writes over the media and deal with the long erase times of NOR flash blocks. The basic concept behind flash file systems is the following: when the flash store is to be updated, the file system will write a new copy of the changed data to a fresh block, remap the file pointers, then erase the old block later when it has time.
In practice, flash file systems are only used for memory technology devices (MTDs), which are embedded flash memories that do not have a controller. Removable flash memory cards and USB flash drives have built-in controllers to perform wear leveling and error correction so use of a specific flash file system does not add any benefit.

==Capacity==

Multiple chips are often arrayed to achieve higher capacities[tpl]cite news|url=http://www.dailycircuitry.com/2012/04/as-follow-up-to-our-flash-vs-dram.html|title=Flash vs DRAM follow-up: chip stacking|publisher=The Daily Circuit|date= 22 April 2012|accessdate=22 April 2012[/tpl] for use in consumer electronic devices such as multimedia players or GPSs. The capacity of flash chips generally follows Moore's Law because they are manufactured with many of the same integrated circuits techniques and equipment.
Consumer flash storage devices typically are advertised with usable sizes expressed as a small integral power of two (2, 4, 8, etc.) and a designation of megabytes (MB) or gigabytes (GB); e.g., 512 MB, 8 GB. Device packaging uses "decimal prefixes", meaning 1,000,000 bytes and 1,000,000,000 bytes, respectively.[tpl]Citation needed|date=April 2013[/tpl] This includes SSDs marketed as hard drive replacements, in accordance with traditional hard drives, which also use decimal prefixes. Thus, an SSD marked as "64 GB" is actually at least 64 × 1,0003 bytes (64 GB), or often a bit more. Most users will have slightly less capacity than this available for their files, due to the space taken by file system metadata.
The flash memory chips inside them are sized in strict binary multiples, but the actual total capacity of the chips is not usable at the drive interface.
It is considerably larger than the advertised capacity in order to allow for distribution of writes (wear leveling), for sparing, for error correction codes, and for other metadata needed by the device's internal firmware.
In 2005, Toshiba and SanDisk developed a NAND flash chip capable of storing 1 GB of data using multi-level cell (MLC) technology, capable of storing two bits of data per cell. In September 2005, Samsung Electronics announced that it had developed the world’s first 2 GB chip.[tpl]cite news|first=Anton|last=Shilov|url=http://www.xbitlabs.com/news/memory/display/20050912212649.html|title=Samsung Unveils 2GB Flash Memory Chip|publisher=X-bit labs|date= 12 September 2005|accessdate=30 November 2008[/tpl]
In March 2006, Samsung announced flash hard drives with a capacity of 4 GB, essentially the same order of magnitude as smaller laptop hard drives, and in September 2006, Samsung announced an 8 GB chip produced using a 40 nm manufacturing process.[tpl]cite news|first=Wolfgang|last= Gruener|url=http://www.tgdaily.com/content/view/28504/135/|title=Samsung announces 40 nm Flash, predicts 20 nm devices|publisher=TG Daily|date=11 September 2006|accessdate=30 November 2008[/tpl]
In January 2008, SanDisk announced availability of their 16 GB MicroSDHC and 32 GB SDHC Plus cards.12 GB MicroSDHC32 GB SDHC Plus
More recent flash drives (as of 2012) have much greater capacities, holding 64, 128, and 256 GB.http://www.pcworld.com/businesscenter/article/225370/look_out_for_the_256gb_thumb_drive_and_the_128gb_tablet.html; http://techcrunch.com/2009/07/20/kingston-outs-the-first-256gb-flash-drive/ 20 July 2009, Kingston DataTraveler 300 is 256 GB.
There are still flash chips manufactured with capacities under or around 1 MB, e.g., for BIOS-ROMs and embedded applications.

==Transfer rates==

NAND flash memory cards are much faster at reading than writing so it is the maximum read speed that is commonly advertised.
As a chip wears out, its erase/program operations slow down considerably,[tpl]Citation needed|reason=That's a very serious assertion. How much slowdown exactly, if any. Aren't you confusing between chip slowdown vs. slowdown caused flash file system fragmentation.|date=May 2010[/tpl] requiring more retries and bad block remapping. Transferring multiple small files, each smaller than the chip-specific block size, could lead to a much lower rate. Access latency also influences performance, but less so than with their hard drive counterpart.
The speed is sometimes quoted in MB/s (megabytes per second), or as a multiple of that of a legacy single speed CD-ROM, such as 60×, 100× or 150×. Here 1× is equivalent to 150 kB/s. For example, a 100× memory card gives 150 kB/s × 100 = 15,000 kB/s.[tpl]Citation needed|date=April 2013[/tpl]
Performance also depends on the quality of memory controllers. Even when the only change to manufacturing is die-shrink, the absence of an appropriate controller can result in degraded speeds.Samsung Confirms 32nm Flash Problems, Working on New SSD Controller

==Applications==

===Serial flash===

Serial flash is a small, low-power flash memory that uses a serial interface, typically Serial Peripheral Interface Bus (SPI), for sequential data access. When incorporated into an embedded system, serial flash requires fewer wires on the PCB than parallel flash memories, since it transmits and receives data one bit at a time. This may permit a reduction in board space, power consumption, and total system cost.
There are several reasons why a serial device, with fewer external pins than a parallel device, can significantly reduce overall cost:
There are two major SPI flash types. The first type is characterized by small pages and one or more internal SRAM page buffers allowing a complete page to be read to the buffer, partially modified, and then written back (for example, the Atmel AT45 DataFlash or the Micron Technology Page Erase NOR Flash). The second type has larger sectors. The smallest sectors typically found in an SPI flash are 4 kB, but they can be as large as 64 kB. Since the SPI flash lacks an internal SRAM buffer, the complete page must be read out and modified before being written back, making it slow to manage. SPI flash is cheaper than DataFlash and is therefore a good choice when the application is code shadowing.
The two types are not easily exchangeable, since they do not have the same pinout, and the command sets are incompatible.

====Firmware storage====

With the increasing speed of modern CPUs, parallel flash devices are often much slower than the memory bus of the computer they are connected to. Conversely, modern SRAM offers access times below 10 ns, while DDR2 SDRAM offers access times below 20 ns. Because of this, it is often desirable to shadow code stored in flash into RAM; that is, the code is copied from flash into RAM before execution, so that the CPU may access it at full speed. Device firmware may be stored in a serial flash device, and then copied into SDRAM or SRAM when the device is powered-up.Many serial flash devices implement a bulk read mode and incorporate an internal address counter, so that it is trivial to configure them to transfer their entire contents to RAM on power-up. When clocked at 50 MHz, for example, a serial flash could transfer a 64 Mbit firmware image in less than two seconds. Using an external serial flash device rather than on-chip flash removes the need for significant process compromise (a process that is good for high-speed logic is generally not good for flash and vice-versa). Once it is decided to read the firmware in as one big block it is common to add compression to allow a smaller flash chip to be used. Typical applications for serial flash include storing firmware for hard drives, Ethernet controllers, DSL modems, wireless network devices, etc.

===Flash memory as a replacement for hard drives===

One more recent application for flash memory is as a replacement for hard disks. Flash memory does not have the mechanical limitations and latencies of hard drives, so a solid-state drive (SSD) is attractive when considering speed, noise, power consumption, and reliability. Flash drives are gaining traction as mobile device secondary storage devices; they are also used as substitutes for hard drives in high-performance desktop computers and some servers with RAID and SAN architectures.
There remain some aspects of flash-based SSDs that make them unattractive. The cost per gigabyte of flash memory remains significantly higher than that of hard disks.[tpl]cite web|url= http://elitepcbuilding.com/ssd-vs-hdd |title=SSD vs. HDD |author=Lyth0s |publisher=elitepcbuilding.com |date=17 March 2011|accessdate=11 July 2011[/tpl] Also flash memory has a finite number of P/E cycles, but this seems to be currently under control since warranties on flash-based SSDs are approaching those of current hard drives.[tpl]cite web|url= http://www.storagesearch.com/bitmicro-art1.html|title=Flash Solid State Disks – Inferior Technology or Closet Superstar?|publisher=STORAGEsearch|accessdate=30 November 2008[/tpl]
For relational databases or other systems that require ACID transactions, even a modest amount of Flash storage can offer vast speedups over arrays of disk drives."Intel SSD 910 vs HDD RAID in tpcc-mysql benchmark."Matsunobu, Yoshinori. "SSD Deployment Strategies for MySQL." Sun Microsystems, 15 April 2010.
In June 2006, Samsung Electronics released the first flash-memory based PCs, the Q1-SSD and Q30-SSD, both of which used 32 GB SSDs, and were at least initially available only in South Korea.[tpl]cite web|url=http://www.samsung.com/he/presscenter/pressrelease/pressrelease_20060524_0000257996.asp|title=Samsung Electronics Launches the World’s First PCs with NAND Flash-based Solid State Disk|work=Press Release|publisher=Samsung|date=24 May 2006| accessdate=30 November 2008[/tpl]
A solid-state drive was offered as an option with the first Macbook Air introduced in 2008, and from 2010 onwards, all Macbook Air laptops shipped with an SSD. Starting in late 2011, as part of Intel's Ultrabook initiative, an increasing number of ultra thin laptops are being shipped with SSDs standard.
There are also hybrid techniques such as hybrid drive and ReadyBoost that attempt to combine the advantages of both technologies, using flash as a high-speed non-volatile cache for files on the disk that are often referenced, but rarely modified, such as application and operating system executable files.

===Flash memory as RAM===

As of 2012, there are attempts to use flash memory as the main computer memory, DRAM.Douglas Perry (2012) Princeton: Replacing RAM with Flash Can Save Massive Power. In this role, it is slower than conventional DRAM, but uses up to ten times less power and is also significantly cheaper.[tpl]Citation needed|date=August 2013[/tpl]

===Archival or long-term storage===

It is unclear how long flash memory will persist under archival conditions—i.e., benign temperature and humidity with infrequent access with or without prophylactic rewrite. Anecdotal evidence suggests that the technology is reasonably robust on the scale of years.

==Industry==

One source states that, in 2008, the flash memory industry includes about US$9.1 billion in production and sales. Other sources put the flash memory market at a size of more than US$20 billion in 2006, accounting for more than eight percent of the overall semiconductor market and more than 34 percent of the total semiconductor memory market.[tpl]cite journal|last=Yinug|first=Christopher Falan|date=July 2007|title=The Rise of the Flash Memory Market: Its Impact on Firm Behavior and Global Semiconductor Trade Patterns|journal=Journal of International Commerce and Economics|url= http://www.usitc.gov/journal/Final_falan_article1.pdf|format=PDF|accessdate=19 April 2008 |archiveurl = http://web.archive.org/web/20080529180622/http://www.usitc.gov/journal/Final_falan_article1.pdf  |archivedate = 29 May 2008[/tpl]
In 2012, the market was estimated at $26.8 billion.NAND memory market rockets, April 17, 2013, Nermin Hajdarbegovic, TG Daily, retrieved at 18 April 2013

==Flash scalability==

Due to its relatively simple structure and high demand for higher capacity, NAND flash memory is the most aggressively scaled technology among electronic devices. The heavy competition among the top few manufacturers only adds to the aggressiveness in shrinking the design rule or process technology node. While the expected shrink timeline is a factor of two every three years per original version of Moore's law, this has recently been accelerated in the case of NAND flash to a factor of two every two years.  In November 2012, Samsung announced that it had started production of 10 nm scale chips, which implies a minimum geometry of between 10 and 19 nm.Humphries, Matthew (15 November 2012)."Samsung starts producing 10nm NAND memory chips" Geek.com.Retrieved 18 November 2012.Clarke, Peter (20 November 2012). "Samsung takes NAND memory below 20-nm" eetimes.com. Retrieved 21 December 2012.
As the feature size of flash memory cells reaches the minimum limit, further flash density increases will be driven by greater levels of MLC, possibly 3-D stacking of transistors, and improvements to the manufacturing process. The decrease in endurance and increase in uncorrectable bit error rates that accompany feature size shrinking can be compensated by improved error correction mechanisms.[tpl]cite news|first=Anand|last=Lal Shimpi|url=http://www.anandtech.com/show/4043/micron-announces-clearnand-25nm-with-ecc|title=Micron's ClearNAND: 25nm + ECC, Combats Increasing Error Rates|publisher=Anandtech|date= 2 December 2010|accessdate=2 December 2010[/tpl]  Even with these advances, it may be impossible to economically scale flash to smaller and smaller dimensions. Many promising new technologies (such as FeRAM, MRAM, PMC, PCM, ReRAM, and others) are under investigation and development as possible more scalable replacements for flash.[tpl]Cite book|last=Kim|first=Kinam|last2=Koh|first2=Gwan-Hyeob|publication-date=2004-05|title=Future Memory Technology including Emerging New Memories|publisher=Proceedings of the 24th International Conference on Microelectronics|place=Serbia and Montenegro|date=16 May 2004|pages=377–384|url= http://ieeexplore.ieee.org/iel5/9193/29143/01314646.pdf?tp=&isnumber=&arnumber=1314646|accessdate=15 August 2008[/tpl]

==See also==

==References==

==External links==


