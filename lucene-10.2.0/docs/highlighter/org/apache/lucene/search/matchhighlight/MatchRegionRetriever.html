<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (21) on Fri Apr 04 15:37:34 CEST 2025 -->
<title>MatchRegionRetriever (Lucene 10.2.0 highlighter API)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="dc.created" content="2025-04-04">
<meta name="description" content="declaration: package: org.apache.lucene.search.matchhighlight, class: MatchRegionRetriever">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../script-dir/jquery-ui.min.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
<script type="text/javascript" src="../../../../../script-dir/jquery-3.6.1.min.js"></script>
<script type="text/javascript" src="../../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var pathtoroot = "../../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top"><button id="navbar-toggle-button" aria-controls="navbar-top" aria-expanded="false" aria-label="Toggle navigation links"><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span></button>
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="class-use/MatchRegionRetriever.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html#class">Help</a></li>
</ul>
<ul class="sub-nav-list-small">
<li>
<p>Summary:</p>
<ul>
<li><a href="#nested-class-summary">Nested</a></li>
<li>Field</li>
<li><a href="#constructor-summary">Constr</a></li>
<li><a href="#method-summary">Method</a></li>
</ul>
</li>
<li>
<p>Detail:</p>
<ul>
<li>Field</li>
<li><a href="#constructor-detail">Constr</a></li>
<li><a href="#method-detail">Method</a></li>
</ul>
</li>
</ul>
</div>
<div class="sub-nav">
<div id="navbar-sub-list">
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li><a href="#nested-class-summary">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor-summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor-detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><a href="../../../../../search.html">SEARCH</a>
<input type="text" id="search-input" disabled placeholder="Search">
<input type="reset" id="reset-button" disabled value="reset">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">org.apache.lucene.search.matchhighlight</a></div>
<h1 title="Class MatchRegionRetriever" class="title">Class MatchRegionRetriever</h1>
</div>
<div class="inheritance" title="Inheritance Tree"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">java.lang.Object</a>
<div class="inheritance">org.apache.lucene.search.matchhighlight.MatchRegionRetriever</div>
</div>
<section class="class-description" id="class-description">
<hr>
<div class="type-signature"><span class="modifiers">public class </span><span class="element-name type-name-label">MatchRegionRetriever</span>
<span class="extends-implements">extends <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></span></div>
<div class="block">Utility class to compute a list of "match regions" for a given query, searcher and document(s)
 using <a href="../../../../../../core/org/apache/lucene/search/Matches.html" title="class or interface in org.apache.lucene.search" class="external-link"><code>Matches</code></a> API.</div>
</section>
<section class="summary">
<ul class="summary-list">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<li>
<section class="nested-class-summary" id="nested-class-summary">
<h2>Nested Class Summary</h2>
<div class="caption"><span>Nested Classes</span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Class</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code>static interface&nbsp;</code></div>
<div class="col-second even-row-color"><code><a href="MatchRegionRetriever.FieldValueProvider.html" class="type-name-link" title="interface in org.apache.lucene.search.matchhighlight">MatchRegionRetriever.FieldValueProvider</a></code></div>
<div class="col-last even-row-color">
<div class="block">Access to field values of the highlighted document.</div>
</div>
<div class="col-first odd-row-color"><code>static interface&nbsp;</code></div>
<div class="col-second odd-row-color"><code><a href="MatchRegionRetriever.MatchOffsetsConsumer.html" class="type-name-link" title="interface in org.apache.lucene.search.matchhighlight">MatchRegionRetriever.MatchOffsetsConsumer</a></code></div>
<div class="col-last odd-row-color">
<div class="block">A callback invoked for each document selected by the query.</div>
</div>
</div>
</section>
</li>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<li>
<section class="constructor-summary" id="constructor-summary">
<h2>Constructor Summary</h2>
<div class="caption"><span>Constructors</span></div>
<div class="summary-table two-column-summary">
<div class="table-header col-first">Constructor</div>
<div class="table-header col-last">Description</div>
<div class="col-constructor-name even-row-color"><code><a href="#%3Cinit%3E(org.apache.lucene.search.IndexSearcher,org.apache.lucene.search.Query,org.apache.lucene.analysis.Analyzer,java.util.function.Predicate,java.util.function.Predicate)" class="member-name-link">MatchRegionRetriever</a><wbr>(<a href="../../../../../../core/org/apache/lucene/search/IndexSearcher.html" title="class or interface in org.apache.lucene.search" class="external-link">IndexSearcher</a>&nbsp;searcher,
 <a href="../../../../../../core/org/apache/lucene/search/Query.html" title="class or interface in org.apache.lucene.search" class="external-link">Query</a>&nbsp;query,
 <a href="../../../../../../core/org/apache/lucene/analysis/Analyzer.html" title="class or interface in org.apache.lucene.analysis" class="external-link">Analyzer</a>&nbsp;analyzer,
 <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/function/Predicate.html" title="class or interface in java.util.function" class="external-link">Predicate</a>&lt;<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;&nbsp;fieldsToLoadUnconditionally,
 <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/function/Predicate.html" title="class or interface in java.util.function" class="external-link">Predicate</a>&lt;<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;&nbsp;fieldsToLoadIfWithHits)</code></div>
<div class="col-last even-row-color">
<div class="block">This constructor uses the default offset strategy supplier from <a href="#computeOffsetRetrievalStrategies(org.apache.lucene.index.IndexReader,org.apache.lucene.analysis.Analyzer)"><code>computeOffsetRetrievalStrategies(IndexReader, Analyzer)</code></a>.</div>
</div>
<div class="col-constructor-name odd-row-color"><code><a href="#%3Cinit%3E(org.apache.lucene.search.IndexSearcher,org.apache.lucene.search.Query,org.apache.lucene.search.matchhighlight.OffsetsRetrievalStrategySupplier,java.util.function.Predicate,java.util.function.Predicate)" class="member-name-link">MatchRegionRetriever</a><wbr>(<a href="../../../../../../core/org/apache/lucene/search/IndexSearcher.html" title="class or interface in org.apache.lucene.search" class="external-link">IndexSearcher</a>&nbsp;searcher,
 <a href="../../../../../../core/org/apache/lucene/search/Query.html" title="class or interface in org.apache.lucene.search" class="external-link">Query</a>&nbsp;query,
 <a href="OffsetsRetrievalStrategySupplier.html" title="interface in org.apache.lucene.search.matchhighlight">OffsetsRetrievalStrategySupplier</a>&nbsp;fieldOffsetStrategySupplier,
 <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/function/Predicate.html" title="class or interface in java.util.function" class="external-link">Predicate</a>&lt;<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;&nbsp;fieldsToLoadUnconditionally,
 <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/function/Predicate.html" title="class or interface in java.util.function" class="external-link">Predicate</a>&lt;<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;&nbsp;fieldsToLoadIfWithHits)</code></div>
<div class="col-last odd-row-color">&nbsp;</div>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab1" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab1', 3)" class="table-tab">Static Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab4" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab4', 3)" class="table-tab">Concrete Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel">
<div class="summary-table three-column-summary" aria-labelledby="method-summary-table-tab0">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static <a href="OffsetsRetrievalStrategySupplier.html" title="interface in org.apache.lucene.search.matchhighlight">OffsetsRetrievalStrategySupplier</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#computeOffsetRetrievalStrategies(org.apache.lucene.index.IndexReader,org.apache.lucene.analysis.Analyzer)" class="member-name-link">computeOffsetRetrievalStrategies</a><wbr>(<a href="../../../../../../core/org/apache/lucene/index/IndexReader.html" title="class or interface in org.apache.lucene.index" class="external-link">IndexReader</a>&nbsp;reader,
 <a href="../../../../../../core/org/apache/lucene/analysis/Analyzer.html" title="class or interface in org.apache.lucene.analysis" class="external-link">Analyzer</a>&nbsp;analyzer)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Compute default strategies for retrieving offsets from <a href="../../../../../../core/org/apache/lucene/search/MatchesIterator.html" title="class or interface in org.apache.lucene.search" class="external-link"><code>MatchesIterator</code></a> instances for a
 set of given fields.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#highlightDocument(org.apache.lucene.index.LeafReaderContext,int,org.apache.lucene.search.matchhighlight.MatchRegionRetriever.FieldValueProvider,java.util.function.ToIntFunction,java.util.Map)" class="member-name-link">highlightDocument</a><wbr>(<a href="../../../../../../core/org/apache/lucene/index/LeafReaderContext.html" title="class or interface in org.apache.lucene.index" class="external-link">LeafReaderContext</a>&nbsp;leafReaderContext,
 int&nbsp;contextDocId,
 <a href="MatchRegionRetriever.FieldValueProvider.html" title="interface in org.apache.lucene.search.matchhighlight">MatchRegionRetriever.FieldValueProvider</a>&nbsp;doc,
 <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/function/ToIntFunction.html" title="class or interface in java.util.function" class="external-link">ToIntFunction</a>&lt;<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;&nbsp;maxHitsPerField,
 <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="OffsetRange.html" title="class in org.apache.lucene.search.matchhighlight">OffsetRange</a>&gt;&gt;&nbsp;outputHighlights)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Low-level method for retrieving hit ranges for a single document.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#highlightDocuments(java.util.PrimitiveIterator.OfInt,org.apache.lucene.search.matchhighlight.MatchRegionRetriever.MatchOffsetsConsumer,java.util.function.ToIntFunction)" class="member-name-link">highlightDocuments</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/PrimitiveIterator.OfInt.html" title="class or interface in java.util" class="external-link">PrimitiveIterator.OfInt</a>&nbsp;docIds,
 <a href="MatchRegionRetriever.MatchOffsetsConsumer.html" title="interface in org.apache.lucene.search.matchhighlight">MatchRegionRetriever.MatchOffsetsConsumer</a>&nbsp;consumer,
 <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/function/ToIntFunction.html" title="class or interface in java.util.function" class="external-link">ToIntFunction</a>&lt;<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;&nbsp;maxHitsPerField)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Low-level, high-efficiency method for highlighting large numbers of documents at once.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#highlightDocuments(java.util.PrimitiveIterator.OfInt,org.apache.lucene.search.matchhighlight.MatchRegionRetriever.MatchOffsetsConsumer,java.util.function.ToIntFunction,int,int)" class="member-name-link">highlightDocuments</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/PrimitiveIterator.OfInt.html" title="class or interface in java.util" class="external-link">PrimitiveIterator.OfInt</a>&nbsp;docIds,
 <a href="MatchRegionRetriever.MatchOffsetsConsumer.html" title="interface in org.apache.lucene.search.matchhighlight">MatchRegionRetriever.MatchOffsetsConsumer</a>&nbsp;consumer,
 <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/function/ToIntFunction.html" title="class or interface in java.util.function" class="external-link">ToIntFunction</a>&lt;<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;&nbsp;maxHitsPerField,
 int&nbsp;maxBlockSize,
 int&nbsp;maxBlocksProcessedInParallel)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Low-level, high-efficiency method for highlighting large numbers of documents at once.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#highlightDocuments(org.apache.lucene.search.TopDocs,org.apache.lucene.search.matchhighlight.MatchRegionRetriever.MatchOffsetsConsumer)" class="member-name-link">highlightDocuments</a><wbr>(<a href="../../../../../../core/org/apache/lucene/search/TopDocs.html" title="class or interface in org.apache.lucene.search" class="external-link">TopDocs</a>&nbsp;topDocs,
 <a href="MatchRegionRetriever.MatchOffsetsConsumer.html" title="interface in org.apache.lucene.search.matchhighlight">MatchRegionRetriever.MatchOffsetsConsumer</a>&nbsp;consumer)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Processes <a href="../../../../../../core/org/apache/lucene/search/TopDocs.html" title="class or interface in org.apache.lucene.search" class="external-link"><code>TopDocs</code></a> with reasonable defaults.</div>
</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-java.lang.Object">Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></h3>
<code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#clone--" title="class or interface in java.lang" class="external-link">clone</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#equals-java.lang.Object-" title="class or interface in java.lang" class="external-link">equals</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#finalize--" title="class or interface in java.lang" class="external-link">finalize</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#getClass--" title="class or interface in java.lang" class="external-link">getClass</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#hashCode--" title="class or interface in java.lang" class="external-link">hashCode</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#notify--" title="class or interface in java.lang" class="external-link">notify</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#notifyAll--" title="class or interface in java.lang" class="external-link">notifyAll</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#toString--" title="class or interface in java.lang" class="external-link">toString</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#wait--" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#wait-long-" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#wait-long-int-" title="class or interface in java.lang" class="external-link">wait</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<li>
<section class="constructor-details" id="constructor-detail">
<h2>Constructor Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="&lt;init&gt;(org.apache.lucene.search.IndexSearcher,org.apache.lucene.search.Query,org.apache.lucene.analysis.Analyzer,java.util.function.Predicate,java.util.function.Predicate)">
<h3>MatchRegionRetriever</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name">MatchRegionRetriever</span><wbr><span class="parameters">(<a href="../../../../../../core/org/apache/lucene/search/IndexSearcher.html" title="class or interface in org.apache.lucene.search" class="external-link">IndexSearcher</a>&nbsp;searcher,
 <a href="../../../../../../core/org/apache/lucene/search/Query.html" title="class or interface in org.apache.lucene.search" class="external-link">Query</a>&nbsp;query,
 <a href="../../../../../../core/org/apache/lucene/analysis/Analyzer.html" title="class or interface in org.apache.lucene.analysis" class="external-link">Analyzer</a>&nbsp;analyzer,
 <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/function/Predicate.html" title="class or interface in java.util.function" class="external-link">Predicate</a>&lt;<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;&nbsp;fieldsToLoadUnconditionally,
 <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/function/Predicate.html" title="class or interface in java.util.function" class="external-link">Predicate</a>&lt;<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;&nbsp;fieldsToLoadIfWithHits)</span>
                     throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<div class="block">This constructor uses the default offset strategy supplier from <a href="#computeOffsetRetrievalStrategies(org.apache.lucene.index.IndexReader,org.apache.lucene.analysis.Analyzer)"><code>computeOffsetRetrievalStrategies(IndexReader, Analyzer)</code></a>.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>searcher</code> - The <a href="../../../../../../core/org/apache/lucene/search/IndexSearcher.html" title="class or interface in org.apache.lucene.search" class="external-link"><code>IndexSearcher</code></a> used to execute the query. The index searcher's
     <a href="../../../../../../core/org/apache/lucene/search/IndexSearcher.html#getTaskExecutor()" title="class or interface in org.apache.lucene.search" class="external-link">task executor</a> is also used for computing
     highlights concurrently.</dd>
<dd><code>query</code> - The query for which highlights should be returned.</dd>
<dd><code>analyzer</code> - An analyzer that may be used to reprocess (retokenize) document fields in the
     absence of position offsets in the index. Note that the analyzer must return tokens
     (positions and offsets) identical to the ones stored in the index.</dd>
<dd><code>fieldsToLoadUnconditionally</code> - A custom predicate that should return <code>true</code> for any
     field that should be preloaded and made available through <a href="MatchRegionRetriever.FieldValueProvider.html" title="interface in org.apache.lucene.search.matchhighlight"><code>MatchRegionRetriever.FieldValueProvider</code></a>,
     regardless of whether the query affected the field or not. This predicate can be used to
     load additional fields during field highlighting, making them available to <a href="MatchRegionRetriever.MatchOffsetsConsumer.html" title="interface in org.apache.lucene.search.matchhighlight"><code>MatchRegionRetriever.MatchOffsetsConsumer</code></a>s.</dd>
<dd><code>fieldsToLoadIfWithHits</code> - A custom predicate that should return <code>true</code> for fields
     that should be highlighted. Typically, this would always return <code>true</code> indicating any
     field affected by the query should be highlighted. However, sometimes highlights may not be
     needed: for example, if they affect fields that are only used for filtering purposes.
     Returning <code>false</code> for such fields saves the costs of loading those fields into memory
     and scanning through field matches.</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="&lt;init&gt;(org.apache.lucene.search.IndexSearcher,org.apache.lucene.search.Query,org.apache.lucene.search.matchhighlight.OffsetsRetrievalStrategySupplier,java.util.function.Predicate,java.util.function.Predicate)">
<h3>MatchRegionRetriever</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name">MatchRegionRetriever</span><wbr><span class="parameters">(<a href="../../../../../../core/org/apache/lucene/search/IndexSearcher.html" title="class or interface in org.apache.lucene.search" class="external-link">IndexSearcher</a>&nbsp;searcher,
 <a href="../../../../../../core/org/apache/lucene/search/Query.html" title="class or interface in org.apache.lucene.search" class="external-link">Query</a>&nbsp;query,
 <a href="OffsetsRetrievalStrategySupplier.html" title="interface in org.apache.lucene.search.matchhighlight">OffsetsRetrievalStrategySupplier</a>&nbsp;fieldOffsetStrategySupplier,
 <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/function/Predicate.html" title="class or interface in java.util.function" class="external-link">Predicate</a>&lt;<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;&nbsp;fieldsToLoadUnconditionally,
 <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/function/Predicate.html" title="class or interface in java.util.function" class="external-link">Predicate</a>&lt;<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;&nbsp;fieldsToLoadIfWithHits)</span>
                     throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>searcher</code> - The <a href="../../../../../../core/org/apache/lucene/search/IndexSearcher.html" title="class or interface in org.apache.lucene.search" class="external-link"><code>IndexSearcher</code></a> used to execute the query. The index searcher's
     <a href="../../../../../../core/org/apache/lucene/search/IndexSearcher.html#getTaskExecutor()" title="class or interface in org.apache.lucene.search" class="external-link">task executor</a> is also used for computing
     highlights concurrently.</dd>
<dd><code>query</code> - The query for which matches should be retrieved. The query should be rewritten
     against the provided searcher.</dd>
<dd><code>fieldOffsetStrategySupplier</code> - A custom supplier of per-field <a href="OffsetsRetrievalStrategy.html" title="interface in org.apache.lucene.search.matchhighlight"><code>OffsetsRetrievalStrategy</code></a> instances.</dd>
<dd><code>fieldsToLoadUnconditionally</code> - A custom predicate that should return <code>true</code> for any
     field that should be preloaded and made available through <a href="MatchRegionRetriever.FieldValueProvider.html" title="interface in org.apache.lucene.search.matchhighlight"><code>MatchRegionRetriever.FieldValueProvider</code></a>,
     regardless of whether the query affected the field or not. This predicate can be used to
     load additional fields during field highlighting, making them available to <a href="MatchRegionRetriever.MatchOffsetsConsumer.html" title="interface in org.apache.lucene.search.matchhighlight"><code>MatchRegionRetriever.MatchOffsetsConsumer</code></a>s.</dd>
<dd><code>fieldsToLoadIfWithHits</code> - A custom predicate that should return <code>true</code> for fields
     that should be highlighted. Typically, this would always return <code>true</code> indicating any
     field affected by the query should be highlighted. However, sometimes highlights may not be
     needed: for example, if they affect fields that are only used for filtering purposes.
     Returning <code>false</code> for such fields saves the costs of loading those fields into memory
     and scanning through field matches.</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code></dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="highlightDocuments(org.apache.lucene.search.TopDocs,org.apache.lucene.search.matchhighlight.MatchRegionRetriever.MatchOffsetsConsumer)">
<h3>highlightDocuments</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">highlightDocuments</span><wbr><span class="parameters">(<a href="../../../../../../core/org/apache/lucene/search/TopDocs.html" title="class or interface in org.apache.lucene.search" class="external-link">TopDocs</a>&nbsp;topDocs,
 <a href="MatchRegionRetriever.MatchOffsetsConsumer.html" title="interface in org.apache.lucene.search.matchhighlight">MatchRegionRetriever.MatchOffsetsConsumer</a>&nbsp;consumer)</span>
                        throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<div class="block">Processes <a href="../../../../../../core/org/apache/lucene/search/TopDocs.html" title="class or interface in org.apache.lucene.search" class="external-link"><code>TopDocs</code></a> with reasonable defaults. See variants of this method for low-level
 tuning parameters.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>topDocs</code> - Search results.</dd>
<dd><code>consumer</code> - A streaming consumer for document-hits pairs.</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code></dd>
<dt>See Also:</dt>
<dd>
<ul class="tag-list-long">
<li><a href="#highlightDocuments(java.util.PrimitiveIterator.OfInt,org.apache.lucene.search.matchhighlight.MatchRegionRetriever.MatchOffsetsConsumer,java.util.function.ToIntFunction,int,int)"><code>highlightDocuments(PrimitiveIterator.OfInt, MatchOffsetsConsumer, ToIntFunction, int, int)</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="highlightDocuments(java.util.PrimitiveIterator.OfInt,org.apache.lucene.search.matchhighlight.MatchRegionRetriever.MatchOffsetsConsumer,java.util.function.ToIntFunction)">
<h3>highlightDocuments</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">highlightDocuments</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/PrimitiveIterator.OfInt.html" title="class or interface in java.util" class="external-link">PrimitiveIterator.OfInt</a>&nbsp;docIds,
 <a href="MatchRegionRetriever.MatchOffsetsConsumer.html" title="interface in org.apache.lucene.search.matchhighlight">MatchRegionRetriever.MatchOffsetsConsumer</a>&nbsp;consumer,
 <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/function/ToIntFunction.html" title="class or interface in java.util.function" class="external-link">ToIntFunction</a>&lt;<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;&nbsp;maxHitsPerField)</span>
                        throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<div class="block">Low-level, high-efficiency method for highlighting large numbers of documents at once.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>docIds</code> - A stream of <em>sorted</em> document identifiers for which hit ranges should be
     returned.</dd>
<dd><code>consumer</code> - A streaming consumer for document-hits pairs.</dd>
<dd><code>maxHitsPerField</code> - A predicate that should, for the provided field, return the maximum
     number of hit regions to consider when scoring passages. The predicate should return <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Integer.html#MAX_VALUE" title="class or interface in java.lang" class="external-link"><code>Integer.MAX_VALUE</code></a> for all hits to be considered, although typically 3-10 hits are
     sufficient and lead to performance savings in long fields with large numbers of hit ranges.</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code></dd>
<dt>See Also:</dt>
<dd>
<ul class="tag-list-long">
<li><a href="#highlightDocuments(java.util.PrimitiveIterator.OfInt,org.apache.lucene.search.matchhighlight.MatchRegionRetriever.MatchOffsetsConsumer,java.util.function.ToIntFunction,int,int)"><code>highlightDocuments(PrimitiveIterator.OfInt, MatchOffsetsConsumer, ToIntFunction, int, int)</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="highlightDocuments(java.util.PrimitiveIterator.OfInt,org.apache.lucene.search.matchhighlight.MatchRegionRetriever.MatchOffsetsConsumer,java.util.function.ToIntFunction,int,int)">
<h3>highlightDocuments</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">highlightDocuments</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/PrimitiveIterator.OfInt.html" title="class or interface in java.util" class="external-link">PrimitiveIterator.OfInt</a>&nbsp;docIds,
 <a href="MatchRegionRetriever.MatchOffsetsConsumer.html" title="interface in org.apache.lucene.search.matchhighlight">MatchRegionRetriever.MatchOffsetsConsumer</a>&nbsp;consumer,
 <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/function/ToIntFunction.html" title="class or interface in java.util.function" class="external-link">ToIntFunction</a>&lt;<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;&nbsp;maxHitsPerField,
 int&nbsp;maxBlockSize,
 int&nbsp;maxBlocksProcessedInParallel)</span>
                        throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<div class="block">Low-level, high-efficiency method for highlighting large numbers of documents at once.

 <p>Document IDs are grouped into sequential "blocks". For each block, highlights are computed
 (this can use parallel threads, if <a href="../../../../../../core/org/apache/lucene/search/IndexSearcher.html#getTaskExecutor()" title="class or interface in org.apache.lucene.search" class="external-link"><code>IndexSearcher.getTaskExecutor()</code></a>) can execute tasks
 in parallel. Finally, processed highlights are passed to the <code>consumer</code>.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>docIds</code> - A stream of <em>sorted</em> document identifiers for which hit ranges should be
     returned.</dd>
<dd><code>consumer</code> - A streaming consumer for document-query hits pairs. This consumer will be
     called sequentially, with document ordering corresponding to that of the query results.</dd>
<dd><code>maxHitsPerField</code> - A predicate that should, for the provided field, return the maximum
     number of hit regions to consider when scoring passages. The predicate should return <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Integer.html#MAX_VALUE" title="class or interface in java.lang" class="external-link"><code>Integer.MAX_VALUE</code></a> for all hits to be considered, although typically 3-10 hits are
     sufficient and lead to performance savings in long fields with large numbers of hit ranges.</dd>
<dd><code>maxBlockSize</code> - The maximum size of a single contiguous "block" of documents. Each block
     can be processed in parallel, using the index searcher's task executor.</dd>
<dd><code>maxBlocksProcessedInParallel</code> - Maximum number of queued document "blocks"; when reached,
     the queue is processed (possibly concurrently) and then passed to the <code>consumer</code>. Set
     this value to <code>1</code> to process blocks sequentially.</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="highlightDocument(org.apache.lucene.index.LeafReaderContext,int,org.apache.lucene.search.matchhighlight.MatchRegionRetriever.FieldValueProvider,java.util.function.ToIntFunction,java.util.Map)">
<h3>highlightDocument</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">highlightDocument</span><wbr><span class="parameters">(<a href="../../../../../../core/org/apache/lucene/index/LeafReaderContext.html" title="class or interface in org.apache.lucene.index" class="external-link">LeafReaderContext</a>&nbsp;leafReaderContext,
 int&nbsp;contextDocId,
 <a href="MatchRegionRetriever.FieldValueProvider.html" title="interface in org.apache.lucene.search.matchhighlight">MatchRegionRetriever.FieldValueProvider</a>&nbsp;doc,
 <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/function/ToIntFunction.html" title="class or interface in java.util.function" class="external-link">ToIntFunction</a>&lt;<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;&nbsp;maxHitsPerField,
 <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="OffsetRange.html" title="class in org.apache.lucene.search.matchhighlight">OffsetRange</a>&gt;&gt;&nbsp;outputHighlights)</span>
                       throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<div class="block">Low-level method for retrieving hit ranges for a single document. This method can be used with
 custom document <a href="MatchRegionRetriever.FieldValueProvider.html" title="interface in org.apache.lucene.search.matchhighlight"><code>MatchRegionRetriever.FieldValueProvider</code></a>.</div>
<dl class="notes">
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="computeOffsetRetrievalStrategies(org.apache.lucene.index.IndexReader,org.apache.lucene.analysis.Analyzer)">
<h3>computeOffsetRetrievalStrategies</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type"><a href="OffsetsRetrievalStrategySupplier.html" title="interface in org.apache.lucene.search.matchhighlight">OffsetsRetrievalStrategySupplier</a></span>&nbsp;<span class="element-name">computeOffsetRetrievalStrategies</span><wbr><span class="parameters">(<a href="../../../../../../core/org/apache/lucene/index/IndexReader.html" title="class or interface in org.apache.lucene.index" class="external-link">IndexReader</a>&nbsp;reader,
 <a href="../../../../../../core/org/apache/lucene/analysis/Analyzer.html" title="class or interface in org.apache.lucene.analysis" class="external-link">Analyzer</a>&nbsp;analyzer)</span></div>
<div class="block">Compute default strategies for retrieving offsets from <a href="../../../../../../core/org/apache/lucene/search/MatchesIterator.html" title="class or interface in org.apache.lucene.search" class="external-link"><code>MatchesIterator</code></a> instances for a
 set of given fields.</div>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
<footer role="contentinfo">
<hr>
<p class="legal-copy"><small><i>Copyright &copy; 2000-2025 Apache Software Foundation. All Rights Reserved.</i></small></p>
</footer>
</div>
</div>
</body>
</html>
