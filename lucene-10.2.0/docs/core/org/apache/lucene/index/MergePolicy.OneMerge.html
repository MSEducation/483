<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (21) on Fri Apr 04 15:37:21 CEST 2025 -->
<title>MergePolicy.OneMerge (Lucene 10.2.0 core API)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="dc.created" content="2025-04-04">
<meta name="description" content="declaration: package: org.apache.lucene.index, class: MergePolicy, class: OneMerge">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../script-dir/jquery-ui.min.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
<script type="text/javascript" src="../../../../script-dir/jquery-3.6.1.min.js"></script>
<script type="text/javascript" src="../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var pathtoroot = "../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top"><button id="navbar-toggle-button" aria-controls="navbar-top" aria-expanded="false" aria-label="Toggle navigation links"><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span></button>
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="class-use/MergePolicy.OneMerge.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html#class">Help</a></li>
</ul>
<ul class="sub-nav-list-small">
<li>
<p>Summary:</p>
<ul>
<li>Nested</li>
<li><a href="#field-summary">Field</a></li>
<li><a href="#constructor-summary">Constr</a></li>
<li><a href="#method-summary">Method</a></li>
</ul>
</li>
<li>
<p>Detail:</p>
<ul>
<li><a href="#field-detail">Field</a></li>
<li><a href="#constructor-detail">Constr</a></li>
<li><a href="#method-detail">Method</a></li>
</ul>
</li>
</ul>
</div>
<div class="sub-nav">
<div id="navbar-sub-list">
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field-summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor-summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li><a href="#field-detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor-detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><a href="../../../../search.html">SEARCH</a>
<input type="text" id="search-input" disabled placeholder="Search">
<input type="reset" id="reset-button" disabled value="reset">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">org.apache.lucene.index</a></div>
<h1 title="Class MergePolicy.OneMerge" class="title">Class MergePolicy.OneMerge</h1>
</div>
<div class="inheritance" title="Inheritance Tree"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">java.lang.Object</a>
<div class="inheritance">org.apache.lucene.index.MergePolicy.OneMerge</div>
</div>
<section class="class-description" id="class-description">
<dl class="notes">
<dt>Enclosing class:</dt>
<dd><code><a href="MergePolicy.html" title="class in org.apache.lucene.index">MergePolicy</a></code></dd>
</dl>
<hr>
<div class="type-signature"><span class="modifiers">public static class </span><span class="element-name type-name-label">MergePolicy.OneMerge</span>
<span class="extends-implements">extends <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></span></div>
<div class="block">OneMerge provides the information necessary to perform an individual primitive merge operation,
 resulting in a single new segment. The merge spec includes the subset of segments to be merged
 as well as whether the new segment should use the compound file format.</div>
<dl class="notes">
<dt>WARNING: This API is experimental and might change in incompatible ways in the next release.</dt>
</dl>
</section>
<section class="summary">
<ul class="summary-list">
<!-- =========== FIELD SUMMARY =========== -->
<li>
<section class="field-summary" id="field-summary">
<h2>Field Summary</h2>
<div class="caption"><span>Fields</span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Field</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code>long</code></div>
<div class="col-second even-row-color"><code><a href="#estimatedMergeBytes" class="member-name-link">estimatedMergeBytes</a></code></div>
<div class="col-last even-row-color">
<div class="block">Estimated size in bytes of the merged segment.</div>
</div>
<div class="col-first odd-row-color"><code>final <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a><wbr>&lt;<a href="SegmentCommitInfo.html" title="class in org.apache.lucene.index">SegmentCommitInfo</a>&gt;</code></div>
<div class="col-second odd-row-color"><code><a href="#segments" class="member-name-link">segments</a></code></div>
<div class="col-last odd-row-color">
<div class="block">Segments to be merged.</div>
</div>
</div>
</section>
</li>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<li>
<section class="constructor-summary" id="constructor-summary">
<h2>Constructor Summary</h2>
<div class="caption"><span>Constructors</span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier</div>
<div class="table-header col-second">Constructor</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code>&nbsp;</code></div>
<div class="col-constructor-name even-row-color"><code><a href="#%3Cinit%3E(java.util.List)" class="member-name-link">OneMerge</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="SegmentCommitInfo.html" title="class in org.apache.lucene.index">SegmentCommitInfo</a>&gt;&nbsp;segments)</code></div>
<div class="col-last even-row-color">
<div class="block">Sole constructor.</div>
</div>
<div class="col-first odd-row-color"><code>&nbsp;</code></div>
<div class="col-constructor-name odd-row-color"><code><a href="#%3Cinit%3E(org.apache.lucene.index.CodecReader...)" class="member-name-link">OneMerge</a><wbr>(<a href="CodecReader.html" title="class in org.apache.lucene.index">CodecReader</a>...&nbsp;codecReaders)</code></div>
<div class="col-last odd-row-color">
<div class="block">Create a OneMerge directly from CodecReaders.</div>
</div>
<div class="col-first even-row-color"><code>protected </code></div>
<div class="col-constructor-name even-row-color"><code><a href="#%3Cinit%3E(org.apache.lucene.index.MergePolicy.OneMerge)" class="member-name-link">OneMerge</a><wbr>(<a href="MergePolicy.OneMerge.html" title="class in org.apache.lucene.index">MergePolicy.OneMerge</a>&nbsp;oneMerge)</code></div>
<div class="col-last even-row-color">
<div class="block">Constructor for wrapping.</div>
</div>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab4" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab4', 3)" class="table-tab">Concrete Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel">
<div class="summary-table three-column-summary" aria-labelledby="method-summary-table-tab0">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#checkAborted()" class="member-name-link">checkAborted</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Checks if merge has been aborted and throws a merge exception if so.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="SegmentCommitInfo.html" title="class in org.apache.lucene.index">SegmentCommitInfo</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getMergeInfo()" class="member-name-link">getMergeInfo</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns the <a href="SegmentCommitInfo.html" title="class in org.apache.lucene.index"><code>SegmentCommitInfo</code></a> for the merged segment, or null if it hasn't been set
 yet.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="MergePolicy.OneMergeProgress.html" title="class in org.apache.lucene.index">MergePolicy.OneMergeProgress</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getMergeProgress()" class="member-name-link">getMergeProgress</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns a <a href="MergePolicy.OneMergeProgress.html" title="class in org.apache.lucene.index"><code>MergePolicy.OneMergeProgress</code></a> instance for this merge, which provides statistics of the
 merge threads (run time vs.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="../store/MergeInfo.html" title="class in org.apache.lucene.store">MergeInfo</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getStoreMergeInfo()" class="member-name-link">getStoreMergeInfo</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Return <a href="../store/MergeInfo.html" title="class in org.apache.lucene.store"><code>MergeInfo</code></a> describing this merge.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#isAborted()" class="member-name-link">isAborted</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns true if this merge was or should be aborted.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#mergeFinished(boolean,boolean)" class="member-name-link">mergeFinished</a><wbr>(boolean&nbsp;success,
 boolean&nbsp;segmentDropped)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Called by <a href="IndexWriter.html" title="class in org.apache.lucene.index"><code>IndexWriter</code></a> after the merge is done and all readers have been closed.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#mergeInit()" class="member-name-link">mergeInit</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Called by <a href="IndexWriter.html" title="class in org.apache.lucene.index"><code>IndexWriter</code></a> after the merge started and from the thread that will be
 executing the merge.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="Sorter.DocMap.html" title="class in org.apache.lucene.index">Sorter.DocMap</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#reorder(org.apache.lucene.index.CodecReader,org.apache.lucene.store.Directory,java.util.concurrent.Executor)" class="member-name-link">reorder</a><wbr>(<a href="CodecReader.html" title="class in org.apache.lucene.index">CodecReader</a>&nbsp;reader,
 <a href="../store/Directory.html" title="class in org.apache.lucene.store">Directory</a>&nbsp;dir,
 <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/concurrent/Executor.html" title="class or interface in java.util.concurrent" class="external-link">Executor</a>&nbsp;executor)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Extend this method if you wish to renumber doc IDs.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#segString()" class="member-name-link">segString</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns a readable description of the current merge state.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#setAborted()" class="member-name-link">setAborted</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Marks this merge as aborted.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#setMergeInfo(org.apache.lucene.index.SegmentCommitInfo)" class="member-name-link">setMergeInfo</a><wbr>(<a href="SegmentCommitInfo.html" title="class in org.apache.lucene.index">SegmentCommitInfo</a>&nbsp;info)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Expert: Sets the <a href="SegmentCommitInfo.html" title="class in org.apache.lucene.index"><code>SegmentCommitInfo</code></a> of the merged segment.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>long</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#totalBytesSize()" class="member-name-link">totalBytesSize</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns the total size in bytes of this merge.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>int</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#totalNumDocs()" class="member-name-link">totalNumDocs</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns the total number of documents that are included with this merge.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="CodecReader.html" title="class in org.apache.lucene.index">CodecReader</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#wrapForMerge(org.apache.lucene.index.CodecReader)" class="member-name-link">wrapForMerge</a><wbr>(<a href="CodecReader.html" title="class in org.apache.lucene.index">CodecReader</a>&nbsp;reader)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Wrap a reader prior to merging in order to add/remove fields or documents.</div>
</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-java.lang.Object">Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></h3>
<code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#clone--" title="class or interface in java.lang" class="external-link">clone</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#equals-java.lang.Object-" title="class or interface in java.lang" class="external-link">equals</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#finalize--" title="class or interface in java.lang" class="external-link">finalize</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#getClass--" title="class or interface in java.lang" class="external-link">getClass</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#hashCode--" title="class or interface in java.lang" class="external-link">hashCode</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#notify--" title="class or interface in java.lang" class="external-link">notify</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#notifyAll--" title="class or interface in java.lang" class="external-link">notifyAll</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#toString--" title="class or interface in java.lang" class="external-link">toString</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#wait--" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#wait-long-" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#wait-long-int-" title="class or interface in java.lang" class="external-link">wait</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ============ FIELD DETAIL =========== -->
<li>
<section class="field-details" id="field-detail">
<h2>Field Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="estimatedMergeBytes">
<h3>estimatedMergeBytes</h3>
<div class="member-signature"><span class="modifiers">public volatile</span>&nbsp;<span class="return-type">long</span>&nbsp;<span class="element-name">estimatedMergeBytes</span></div>
<div class="block">Estimated size in bytes of the merged segment.</div>
</section>
</li>
<li>
<section class="detail" id="segments">
<h3>segments</h3>
<div class="member-signature"><span class="modifiers">public final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="SegmentCommitInfo.html" title="class in org.apache.lucene.index">SegmentCommitInfo</a>&gt;</span>&nbsp;<span class="element-name">segments</span></div>
<div class="block">Segments to be merged.</div>
</section>
</li>
</ul>
</section>
</li>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<li>
<section class="constructor-details" id="constructor-detail">
<h2>Constructor Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="&lt;init&gt;(java.util.List)">
<h3>OneMerge</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name">OneMerge</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="SegmentCommitInfo.html" title="class in org.apache.lucene.index">SegmentCommitInfo</a>&gt;&nbsp;segments)</span></div>
<div class="block">Sole constructor.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>segments</code> - List of <a href="SegmentCommitInfo.html" title="class in org.apache.lucene.index"><code>SegmentCommitInfo</code></a>s to be merged.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="&lt;init&gt;(org.apache.lucene.index.CodecReader...)">
<h3>OneMerge</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name">OneMerge</span><wbr><span class="parameters">(<a href="CodecReader.html" title="class in org.apache.lucene.index">CodecReader</a>...&nbsp;codecReaders)</span></div>
<div class="block">Create a OneMerge directly from CodecReaders. Used to merge incoming readers in <a href="IndexWriter.html#addIndexes(org.apache.lucene.index.CodecReader...)"><code>IndexWriter.addIndexes(CodecReader...)</code></a>. This OneMerge works directly on readers and has an
 empty segments list.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>codecReaders</code> - Codec readers to merge</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="&lt;init&gt;(org.apache.lucene.index.MergePolicy.OneMerge)">
<h3>OneMerge</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="element-name">OneMerge</span><wbr><span class="parameters">(<a href="MergePolicy.OneMerge.html" title="class in org.apache.lucene.index">MergePolicy.OneMerge</a>&nbsp;oneMerge)</span></div>
<div class="block">Constructor for wrapping.</div>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="mergeInit()">
<h3>mergeInit</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">mergeInit</span>()
               throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<div class="block">Called by <a href="IndexWriter.html" title="class in org.apache.lucene.index"><code>IndexWriter</code></a> after the merge started and from the thread that will be
 executing the merge.</div>
<dl class="notes">
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="mergeFinished(boolean,boolean)">
<h3>mergeFinished</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">mergeFinished</span><wbr><span class="parameters">(boolean&nbsp;success,
 boolean&nbsp;segmentDropped)</span>
                   throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<div class="block">Called by <a href="IndexWriter.html" title="class in org.apache.lucene.index"><code>IndexWriter</code></a> after the merge is done and all readers have been closed.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>success</code> - true iff the merge finished successfully i.e. was committed</dd>
<dd><code>segmentDropped</code> - true iff the merged segment was dropped since it was fully deleted</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="wrapForMerge(org.apache.lucene.index.CodecReader)">
<h3>wrapForMerge</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="CodecReader.html" title="class in org.apache.lucene.index">CodecReader</a></span>&nbsp;<span class="element-name">wrapForMerge</span><wbr><span class="parameters">(<a href="CodecReader.html" title="class in org.apache.lucene.index">CodecReader</a>&nbsp;reader)</span>
                         throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<div class="block">Wrap a reader prior to merging in order to add/remove fields or documents.

 <p><b>NOTE:</b> It is illegal to reorder doc IDs here, use <a href="#reorder(org.apache.lucene.index.CodecReader,org.apache.lucene.store.Directory,java.util.concurrent.Executor)"><code>reorder(CodecReader,Directory,Executor)</code></a> instead.</div>
<dl class="notes">
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="reorder(org.apache.lucene.index.CodecReader,org.apache.lucene.store.Directory,java.util.concurrent.Executor)">
<h3>reorder</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="Sorter.DocMap.html" title="class in org.apache.lucene.index">Sorter.DocMap</a></span>&nbsp;<span class="element-name">reorder</span><wbr><span class="parameters">(<a href="CodecReader.html" title="class in org.apache.lucene.index">CodecReader</a>&nbsp;reader,
 <a href="../store/Directory.html" title="class in org.apache.lucene.store">Directory</a>&nbsp;dir,
 <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/concurrent/Executor.html" title="class or interface in java.util.concurrent" class="external-link">Executor</a>&nbsp;executor)</span>
                      throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<div class="block">Extend this method if you wish to renumber doc IDs. This method will be called when index
 sorting is disabled on a merged view of the <a href="MergePolicy.OneMerge.html" title="class in org.apache.lucene.index"><code>MergePolicy.OneMerge</code></a>. A <code>null</code> return value
 indicates that doc IDs should not be reordered.

 <p><b>NOTE:</b> Returning a non-null value here disables several optimizations and increases
 the merging overhead.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>reader</code> - The reader to reorder.</dd>
<dd><code>dir</code> - The <a href="../store/Directory.html" title="class in org.apache.lucene.store"><code>Directory</code></a> of the index, which may be used to create temporary files.</dd>
<dd><code>executor</code> - An executor that can be used to parallelize the reordering logic. May be
     <code>null</code> if no concurrency is supported.</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code></dd>
<dt>WARNING: This API is experimental and might change in incompatible ways in the next release.</dt>
</dl>
</section>
</li>
<li>
<section class="detail" id="setMergeInfo(org.apache.lucene.index.SegmentCommitInfo)">
<h3>setMergeInfo</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">setMergeInfo</span><wbr><span class="parameters">(<a href="SegmentCommitInfo.html" title="class in org.apache.lucene.index">SegmentCommitInfo</a>&nbsp;info)</span></div>
<div class="block">Expert: Sets the <a href="SegmentCommitInfo.html" title="class in org.apache.lucene.index"><code>SegmentCommitInfo</code></a> of the merged segment. Allows sub-classes to e.g.
 <a href="SegmentInfo.html#addDiagnostics(java.util.Map)"><code>add diagnostic</code></a> properties.</div>
</section>
</li>
<li>
<section class="detail" id="getMergeInfo()">
<h3>getMergeInfo</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="SegmentCommitInfo.html" title="class in org.apache.lucene.index">SegmentCommitInfo</a></span>&nbsp;<span class="element-name">getMergeInfo</span>()</div>
<div class="block">Returns the <a href="SegmentCommitInfo.html" title="class in org.apache.lucene.index"><code>SegmentCommitInfo</code></a> for the merged segment, or null if it hasn't been set
 yet.</div>
</section>
</li>
<li>
<section class="detail" id="segString()">
<h3>segString</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">segString</span>()</div>
<div class="block">Returns a readable description of the current merge state.</div>
</section>
</li>
<li>
<section class="detail" id="totalBytesSize()">
<h3>totalBytesSize</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">long</span>&nbsp;<span class="element-name">totalBytesSize</span>()</div>
<div class="block">Returns the total size in bytes of this merge. Note that this does not indicate the size of
 the merged segment, but the input total size. This is only set once the merge is initialized
 by IndexWriter.</div>
</section>
</li>
<li>
<section class="detail" id="totalNumDocs()">
<h3>totalNumDocs</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">totalNumDocs</span>()</div>
<div class="block">Returns the total number of documents that are included with this merge. Note that this does
 not indicate the number of documents after the merge.</div>
</section>
</li>
<li>
<section class="detail" id="getStoreMergeInfo()">
<h3>getStoreMergeInfo</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="../store/MergeInfo.html" title="class in org.apache.lucene.store">MergeInfo</a></span>&nbsp;<span class="element-name">getStoreMergeInfo</span>()</div>
<div class="block">Return <a href="../store/MergeInfo.html" title="class in org.apache.lucene.store"><code>MergeInfo</code></a> describing this merge.</div>
</section>
</li>
<li>
<section class="detail" id="isAborted()">
<h3>isAborted</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">isAborted</span>()</div>
<div class="block">Returns true if this merge was or should be aborted.</div>
</section>
</li>
<li>
<section class="detail" id="setAborted()">
<h3>setAborted</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">setAborted</span>()</div>
<div class="block">Marks this merge as aborted. The merge thread should terminate at the soonest possible
 moment.</div>
</section>
</li>
<li>
<section class="detail" id="checkAborted()">
<h3>checkAborted</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">checkAborted</span>()
                  throws <span class="exceptions"><a href="MergePolicy.MergeAbortedException.html" title="class in org.apache.lucene.index">MergePolicy.MergeAbortedException</a></span></div>
<div class="block">Checks if merge has been aborted and throws a merge exception if so.</div>
<dl class="notes">
<dt>Throws:</dt>
<dd><code><a href="MergePolicy.MergeAbortedException.html" title="class in org.apache.lucene.index">MergePolicy.MergeAbortedException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getMergeProgress()">
<h3>getMergeProgress</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="MergePolicy.OneMergeProgress.html" title="class in org.apache.lucene.index">MergePolicy.OneMergeProgress</a></span>&nbsp;<span class="element-name">getMergeProgress</span>()</div>
<div class="block">Returns a <a href="MergePolicy.OneMergeProgress.html" title="class in org.apache.lucene.index"><code>MergePolicy.OneMergeProgress</code></a> instance for this merge, which provides statistics of the
 merge threads (run time vs. sleep time) if merging is throttled.</div>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
<footer role="contentinfo">
<hr>
<p class="legal-copy"><small><i>Copyright &copy; 2000-2025 Apache Software Foundation. All Rights Reserved.</i></small></p>
</footer>
</div>
</div>
</body>
</html>
