<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (21) on Fri Apr 04 15:37:21 CEST 2025 -->
<title>CodecUtil (Lucene 10.2.0 core API)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="dc.created" content="2025-04-04">
<meta name="description" content="declaration: package: org.apache.lucene.codecs, class: CodecUtil">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../script-dir/jquery-ui.min.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
<script type="text/javascript" src="../../../../script-dir/jquery-3.6.1.min.js"></script>
<script type="text/javascript" src="../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var pathtoroot = "../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top"><button id="navbar-toggle-button" aria-controls="navbar-top" aria-expanded="false" aria-label="Toggle navigation links"><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span></button>
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="class-use/CodecUtil.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html#class">Help</a></li>
</ul>
<ul class="sub-nav-list-small">
<li>
<p>Summary:</p>
<ul>
<li>Nested</li>
<li><a href="#field-summary">Field</a></li>
<li>Constr</li>
<li><a href="#method-summary">Method</a></li>
</ul>
</li>
<li>
<p>Detail:</p>
<ul>
<li><a href="#field-detail">Field</a></li>
<li>Constr</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</li>
</ul>
</div>
<div class="sub-nav">
<div id="navbar-sub-list">
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field-summary">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li><a href="#field-detail">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><a href="../../../../search.html">SEARCH</a>
<input type="text" id="search-input" disabled placeholder="Search">
<input type="reset" id="reset-button" disabled value="reset">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">org.apache.lucene.codecs</a></div>
<h1 title="Class CodecUtil" class="title">Class CodecUtil</h1>
</div>
<div class="inheritance" title="Inheritance Tree"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">java.lang.Object</a>
<div class="inheritance">org.apache.lucene.codecs.CodecUtil</div>
</div>
<section class="class-description" id="class-description">
<hr>
<div class="type-signature"><span class="modifiers">public final class </span><span class="element-name type-name-label">CodecUtil</span>
<span class="extends-implements">extends <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></span></div>
<div class="block">Utility class for reading and writing versioned headers.

 <p>Writing codec headers is useful to ensure that a file is in the format you think it is.</div>
<dl class="notes">
<dt>WARNING: This API is experimental and might change in incompatible ways in the next release.</dt>
</dl>
</section>
<section class="summary">
<ul class="summary-list">
<!-- =========== FIELD SUMMARY =========== -->
<li>
<section class="field-summary" id="field-summary">
<h2>Field Summary</h2>
<div class="caption"><span>Fields</span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Field</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code>static final int</code></div>
<div class="col-second even-row-color"><code><a href="#CODEC_MAGIC" class="member-name-link">CODEC_MAGIC</a></code></div>
<div class="col-last even-row-color">
<div class="block">Constant to identify the start of a codec header.</div>
</div>
<div class="col-first odd-row-color"><code>static final int</code></div>
<div class="col-second odd-row-color"><code><a href="#FOOTER_MAGIC" class="member-name-link">FOOTER_MAGIC</a></code></div>
<div class="col-last odd-row-color">
<div class="block">Constant to identify the start of a codec footer.</div>
</div>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab1" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab1', 3)" class="table-tab">Static Methods</button><button id="method-summary-table-tab4" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab4', 3)" class="table-tab">Concrete Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel">
<div class="summary-table three-column-summary" aria-labelledby="method-summary-table-tab0">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static long</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#checkFooter(org.apache.lucene.store.ChecksumIndexInput)" class="member-name-link">checkFooter</a><wbr>(<a href="../store/ChecksumIndexInput.html" title="class in org.apache.lucene.store">ChecksumIndexInput</a>&nbsp;in)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Validates the codec footer previously written by <a href="#writeFooter(org.apache.lucene.store.IndexOutput)"><code>writeFooter(org.apache.lucene.store.IndexOutput)</code></a>.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#checkFooter(org.apache.lucene.store.ChecksumIndexInput,java.lang.Throwable)" class="member-name-link">checkFooter</a><wbr>(<a href="../store/ChecksumIndexInput.html" title="class in org.apache.lucene.store">ChecksumIndexInput</a>&nbsp;in,
 <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Throwable.html" title="class or interface in java.lang" class="external-link">Throwable</a>&nbsp;priorException)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Validates the codec footer previously written by <a href="#writeFooter(org.apache.lucene.store.IndexOutput)"><code>writeFooter(org.apache.lucene.store.IndexOutput)</code></a>, optionally passing an
 unexpected exception that has already occurred.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static int</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#checkHeader(org.apache.lucene.store.DataInput,java.lang.String,int,int)" class="member-name-link">checkHeader</a><wbr>(<a href="../store/DataInput.html" title="class in org.apache.lucene.store">DataInput</a>&nbsp;in,
 <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;codec,
 int&nbsp;minVersion,
 int&nbsp;maxVersion)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Reads and validates a header previously written with <a href="#writeHeader(org.apache.lucene.store.DataOutput,java.lang.String,int)"><code>writeHeader(DataOutput, String, int)</code></a>.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static int</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#checkHeaderNoMagic(org.apache.lucene.store.DataInput,java.lang.String,int,int)" class="member-name-link">checkHeaderNoMagic</a><wbr>(<a href="../store/DataInput.html" title="class in org.apache.lucene.store">DataInput</a>&nbsp;in,
 <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;codec,
 int&nbsp;minVersion,
 int&nbsp;maxVersion)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Like <a href="#checkHeader(org.apache.lucene.store.DataInput,java.lang.String,int,int)"><code>checkHeader(DataInput,String,int,int)</code></a> except this version assumes the first int
 has already been read and validated from the input.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static int</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#checkIndexHeader(org.apache.lucene.store.DataInput,java.lang.String,int,int,byte%5B%5D,java.lang.String)" class="member-name-link">checkIndexHeader</a><wbr>(<a href="../store/DataInput.html" title="class in org.apache.lucene.store">DataInput</a>&nbsp;in,
 <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;codec,
 int&nbsp;minVersion,
 int&nbsp;maxVersion,
 byte[]&nbsp;expectedID,
 <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;expectedSuffix)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Reads and validates a header previously written with <a href="#writeIndexHeader(org.apache.lucene.store.DataOutput,java.lang.String,int,byte%5B%5D,java.lang.String)"><code>writeIndexHeader(DataOutput, String, int, byte[], String)</code></a>.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static byte[]</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#checkIndexHeaderID(org.apache.lucene.store.DataInput,byte%5B%5D)" class="member-name-link">checkIndexHeaderID</a><wbr>(<a href="../store/DataInput.html" title="class in org.apache.lucene.store">DataInput</a>&nbsp;in,
 byte[]&nbsp;expectedID)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Expert: just reads and verifies the object ID of an index header</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#checkIndexHeaderSuffix(org.apache.lucene.store.DataInput,java.lang.String)" class="member-name-link">checkIndexHeaderSuffix</a><wbr>(<a href="../store/DataInput.html" title="class in org.apache.lucene.store">DataInput</a>&nbsp;in,
 <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;expectedSuffix)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Expert: just reads and verifies the suffix of an index header</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static long</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#checksumEntireFile(org.apache.lucene.store.IndexInput)" class="member-name-link">checksumEntireFile</a><wbr>(<a href="../store/IndexInput.html" title="class in org.apache.lucene.store">IndexInput</a>&nbsp;input)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Clones the provided input, reads all bytes from the file, and calls <a href="#checkFooter(org.apache.lucene.store.ChecksumIndexInput)"><code>checkFooter(org.apache.lucene.store.ChecksumIndexInput)</code></a></div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static int</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#footerLength()" class="member-name-link">footerLength</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Computes the length of a codec footer.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static int</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#headerLength(java.lang.String)" class="member-name-link">headerLength</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;codec)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Computes the length of a codec header.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static int</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#indexHeaderLength(java.lang.String,java.lang.String)" class="member-name-link">indexHeaderLength</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;codec,
 <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;suffix)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Computes the length of an index header.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static int</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#readBEInt(org.apache.lucene.store.DataInput)" class="member-name-link">readBEInt</a><wbr>(<a href="../store/DataInput.html" title="class in org.apache.lucene.store">DataInput</a>&nbsp;in)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">read int value from header / footer with big endian order</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static long</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#readBELong(org.apache.lucene.store.DataInput)" class="member-name-link">readBELong</a><wbr>(<a href="../store/DataInput.html" title="class in org.apache.lucene.store">DataInput</a>&nbsp;in)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">read long value from header / footer with big endian order</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static byte[]</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#readFooter(org.apache.lucene.store.IndexInput)" class="member-name-link">readFooter</a><wbr>(<a href="../store/IndexInput.html" title="class in org.apache.lucene.store">IndexInput</a>&nbsp;in)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Retrieves the full footer from the provided <a href="../store/IndexInput.html" title="class in org.apache.lucene.store"><code>IndexInput</code></a>.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static byte[]</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#readIndexHeader(org.apache.lucene.store.IndexInput)" class="member-name-link">readIndexHeader</a><wbr>(<a href="../store/IndexInput.html" title="class in org.apache.lucene.store">IndexInput</a>&nbsp;in)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Retrieves the full index header from the provided <a href="../store/IndexInput.html" title="class in org.apache.lucene.store"><code>IndexInput</code></a>.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static long</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#retrieveChecksum(org.apache.lucene.store.IndexInput)" class="member-name-link">retrieveChecksum</a><wbr>(<a href="../store/IndexInput.html" title="class in org.apache.lucene.store">IndexInput</a>&nbsp;in)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Returns (but does not validate) the checksum previously written by <a href="#checkFooter(org.apache.lucene.store.ChecksumIndexInput)"><code>checkFooter(org.apache.lucene.store.ChecksumIndexInput)</code></a>.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static long</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#retrieveChecksum(org.apache.lucene.store.IndexInput,long)" class="member-name-link">retrieveChecksum</a><wbr>(<a href="../store/IndexInput.html" title="class in org.apache.lucene.store">IndexInput</a>&nbsp;in,
 long&nbsp;expectedLength)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Returns (but does not validate) the checksum previously written by <a href="#checkFooter(org.apache.lucene.store.ChecksumIndexInput)"><code>checkFooter(org.apache.lucene.store.ChecksumIndexInput)</code></a>.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#verifyAndCopyIndexHeader(org.apache.lucene.store.IndexInput,org.apache.lucene.store.DataOutput,byte%5B%5D)" class="member-name-link">verifyAndCopyIndexHeader</a><wbr>(<a href="../store/IndexInput.html" title="class in org.apache.lucene.store">IndexInput</a>&nbsp;in,
 <a href="../store/DataOutput.html" title="class in org.apache.lucene.store">DataOutput</a>&nbsp;out,
 byte[]&nbsp;expectedID)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Expert: verifies the incoming <a href="../store/IndexInput.html" title="class in org.apache.lucene.store"><code>IndexInput</code></a> has an index header and that its segment ID
 matches the expected one, and then copies that index header into the provided <a href="../store/DataOutput.html" title="class in org.apache.lucene.store"><code>DataOutput</code></a>.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#writeBEInt(org.apache.lucene.store.DataOutput,int)" class="member-name-link">writeBEInt</a><wbr>(<a href="../store/DataOutput.html" title="class in org.apache.lucene.store">DataOutput</a>&nbsp;out,
 int&nbsp;i)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">write int value on header / footer with big endian order</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#writeBELong(org.apache.lucene.store.DataOutput,long)" class="member-name-link">writeBELong</a><wbr>(<a href="../store/DataOutput.html" title="class in org.apache.lucene.store">DataOutput</a>&nbsp;out,
 long&nbsp;l)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">write long value on header / footer with big endian order</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#writeFooter(org.apache.lucene.store.IndexOutput)" class="member-name-link">writeFooter</a><wbr>(<a href="../store/IndexOutput.html" title="class in org.apache.lucene.store">IndexOutput</a>&nbsp;out)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Writes a codec footer, which records both a checksum algorithm ID and a checksum.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#writeHeader(org.apache.lucene.store.DataOutput,java.lang.String,int)" class="member-name-link">writeHeader</a><wbr>(<a href="../store/DataOutput.html" title="class in org.apache.lucene.store">DataOutput</a>&nbsp;out,
 <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;codec,
 int&nbsp;version)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Writes a codec header, which records both a string to identify the file and a version number.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#writeIndexHeader(org.apache.lucene.store.DataOutput,java.lang.String,int,byte%5B%5D,java.lang.String)" class="member-name-link">writeIndexHeader</a><wbr>(<a href="../store/DataOutput.html" title="class in org.apache.lucene.store">DataOutput</a>&nbsp;out,
 <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;codec,
 int&nbsp;version,
 byte[]&nbsp;id,
 <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;suffix)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Writes a codec header for an index file, which records both a string to identify the format of
 the file, a version number, and data to identify the file instance (ID and auxiliary suffix
 such as generation).</div>
</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-java.lang.Object">Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></h3>
<code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#clone--" title="class or interface in java.lang" class="external-link">clone</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#equals-java.lang.Object-" title="class or interface in java.lang" class="external-link">equals</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#finalize--" title="class or interface in java.lang" class="external-link">finalize</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#getClass--" title="class or interface in java.lang" class="external-link">getClass</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#hashCode--" title="class or interface in java.lang" class="external-link">hashCode</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#notify--" title="class or interface in java.lang" class="external-link">notify</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#notifyAll--" title="class or interface in java.lang" class="external-link">notifyAll</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#toString--" title="class or interface in java.lang" class="external-link">toString</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#wait--" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#wait-long-" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#wait-long-int-" title="class or interface in java.lang" class="external-link">wait</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ============ FIELD DETAIL =========== -->
<li>
<section class="field-details" id="field-detail">
<h2>Field Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="CODEC_MAGIC">
<h3>CODEC_MAGIC</h3>
<div class="member-signature"><span class="modifiers">public static final</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">CODEC_MAGIC</span></div>
<div class="block">Constant to identify the start of a codec header.</div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="tag-list">
<li><a href="../../../../constant-values.html#org.apache.lucene.codecs.CodecUtil.CODEC_MAGIC">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="FOOTER_MAGIC">
<h3>FOOTER_MAGIC</h3>
<div class="member-signature"><span class="modifiers">public static final</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">FOOTER_MAGIC</span></div>
<div class="block">Constant to identify the start of a codec footer.</div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="tag-list">
<li><a href="../../../../constant-values.html#org.apache.lucene.codecs.CodecUtil.FOOTER_MAGIC">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="writeHeader(org.apache.lucene.store.DataOutput,java.lang.String,int)">
<h3>writeHeader</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">writeHeader</span><wbr><span class="parameters">(<a href="../store/DataOutput.html" title="class in org.apache.lucene.store">DataOutput</a>&nbsp;out,
 <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;codec,
 int&nbsp;version)</span>
                        throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<div class="block">Writes a codec header, which records both a string to identify the file and a version number.
 This header can be parsed and validated with <a href="#checkHeader(org.apache.lucene.store.DataInput,java.lang.String,int,int)"><code>checkHeader()</code></a>.

 <p>CodecHeader --&gt; Magic,CodecName,Version

 <ul>
   <li>Magic --&gt; <a href="../store/DataOutput.html#writeInt(int)"><code>Uint32</code></a>. This identifies the start of the header.
       It is always <a href="#CODEC_MAGIC">1071082519</a>.
   <li>CodecName --&gt; <a href="../store/DataOutput.html#writeString(java.lang.String)"><code>String</code></a>. This is a string to identify this
       file.
   <li>Version --&gt; <a href="../store/DataOutput.html#writeInt(int)"><code>Uint32</code></a>. Records the version of the file.
 </ul>

 <p>Note that the length of a codec header depends only upon the name of the codec, so this
 length can be computed at any time with <a href="#headerLength(java.lang.String)"><code>headerLength(String)</code></a>.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>out</code> - Output stream</dd>
<dd><code>codec</code> - String to identify this file. It should be simple ASCII, less than 128 characters
     in length.</dd>
<dd><code>version</code> - Version number</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code> - If there is an I/O error writing to the underlying medium.</dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - If the codec name is not simple ASCII, or is more than 127
     characters in length</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="writeIndexHeader(org.apache.lucene.store.DataOutput,java.lang.String,int,byte[],java.lang.String)">
<h3>writeIndexHeader</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">writeIndexHeader</span><wbr><span class="parameters">(<a href="../store/DataOutput.html" title="class in org.apache.lucene.store">DataOutput</a>&nbsp;out,
 <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;codec,
 int&nbsp;version,
 byte[]&nbsp;id,
 <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;suffix)</span>
                             throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<div class="block">Writes a codec header for an index file, which records both a string to identify the format of
 the file, a version number, and data to identify the file instance (ID and auxiliary suffix
 such as generation).

 <p>This header can be parsed and validated with <a href="#checkIndexHeader(org.apache.lucene.store.DataInput,java.lang.String,int,int,byte%5B%5D,java.lang.String)"><code>checkIndexHeader()</code></a>.

 <p>IndexHeader --&gt; CodecHeader,ObjectID,ObjectSuffix

 <ul>
   <li>CodecHeader --&gt; <a href="#writeHeader(org.apache.lucene.store.DataOutput,java.lang.String,int)"><code>writeHeader(org.apache.lucene.store.DataOutput, java.lang.String, int)</code></a>
   <li>ObjectID --&gt; <a href="../store/DataOutput.html#writeByte(byte)"><code>byte</code></a><sup>16</sup>
   <li>ObjectSuffix --&gt; SuffixLength,SuffixBytes
   <li>SuffixLength --&gt; <a href="../store/DataOutput.html#writeByte(byte)"><code>byte</code></a>
   <li>SuffixBytes --&gt; <a href="../store/DataOutput.html#writeByte(byte)"><code>byte</code></a><sup>SuffixLength</sup>
 </ul>

 <p>Note that the length of an index header depends only upon the name of the codec and suffix,
 so this length can be computed at any time with <a href="#indexHeaderLength(java.lang.String,java.lang.String)"><code>indexHeaderLength(String,String)</code></a>.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>out</code> - Output stream</dd>
<dd><code>codec</code> - String to identify the format of this file. It should be simple ASCII, less than
     128 characters in length.</dd>
<dd><code>version</code> - Version number</dd>
<dd><code>id</code> - Unique identifier for this particular file instance.</dd>
<dd><code>suffix</code> - auxiliary suffix information for the file. It should be simple ASCII, less than
     256 characters in length.</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code> - If there is an I/O error writing to the underlying medium.</dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - If the codec name is not simple ASCII, or is more than 127
     characters in length, or if id is invalid, or if the suffix is not simple ASCII, or more
     than 255 characters in length.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="headerLength(java.lang.String)">
<h3>headerLength</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">headerLength</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;codec)</span></div>
<div class="block">Computes the length of a codec header.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>codec</code> - Codec name.</dd>
<dt>Returns:</dt>
<dd>length of the entire codec header.</dd>
<dt>See Also:</dt>
<dd>
<ul class="tag-list-long">
<li><a href="#writeHeader(org.apache.lucene.store.DataOutput,java.lang.String,int)"><code>writeHeader(DataOutput, String, int)</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="indexHeaderLength(java.lang.String,java.lang.String)">
<h3>indexHeaderLength</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">indexHeaderLength</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;codec,
 <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;suffix)</span></div>
<div class="block">Computes the length of an index header.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>codec</code> - Codec name.</dd>
<dt>Returns:</dt>
<dd>length of the entire index header.</dd>
<dt>See Also:</dt>
<dd>
<ul class="tag-list-long">
<li><a href="#writeIndexHeader(org.apache.lucene.store.DataOutput,java.lang.String,int,byte%5B%5D,java.lang.String)"><code>writeIndexHeader(DataOutput, String, int, byte[], String)</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="checkHeader(org.apache.lucene.store.DataInput,java.lang.String,int,int)">
<h3>checkHeader</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">checkHeader</span><wbr><span class="parameters">(<a href="../store/DataInput.html" title="class in org.apache.lucene.store">DataInput</a>&nbsp;in,
 <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;codec,
 int&nbsp;minVersion,
 int&nbsp;maxVersion)</span>
                       throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<div class="block">Reads and validates a header previously written with <a href="#writeHeader(org.apache.lucene.store.DataOutput,java.lang.String,int)"><code>writeHeader(DataOutput, String, int)</code></a>.

 <p>When reading a file, supply the expected <code>codec</code> and an expected version range (
 <code>minVersion to maxVersion</code>).</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>in</code> - Input stream, positioned at the point where the header was previously written.
     Typically this is located at the beginning of the file.</dd>
<dd><code>codec</code> - The expected codec name.</dd>
<dd><code>minVersion</code> - The minimum supported expected version number.</dd>
<dd><code>maxVersion</code> - The maximum supported expected version number.</dd>
<dt>Returns:</dt>
<dd>The actual version found, when a valid header is found that matches <code>codec</code>,
     with an actual version where <code>minVersion &lt;= actual &lt;= maxVersion</code>. Otherwise an
     exception is thrown.</dd>
<dt>Throws:</dt>
<dd><code><a href="../index/CorruptIndexException.html" title="class in org.apache.lucene.index">CorruptIndexException</a></code> - If the first four bytes are not <a href="#CODEC_MAGIC"><code>CODEC_MAGIC</code></a>, or if the
     actual codec found is not <code>codec</code>.</dd>
<dd><code><a href="../index/IndexFormatTooOldException.html" title="class in org.apache.lucene.index">IndexFormatTooOldException</a></code> - If the actual version is less than <code>minVersion</code>.</dd>
<dd><code><a href="../index/IndexFormatTooNewException.html" title="class in org.apache.lucene.index">IndexFormatTooNewException</a></code> - If the actual version is greater than <code>maxVersion
     </code>.</dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code> - If there is an I/O error reading from the underlying medium.</dd>
<dt>See Also:</dt>
<dd>
<ul class="tag-list-long">
<li><a href="#writeHeader(org.apache.lucene.store.DataOutput,java.lang.String,int)"><code>writeHeader(DataOutput, String, int)</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="checkHeaderNoMagic(org.apache.lucene.store.DataInput,java.lang.String,int,int)">
<h3>checkHeaderNoMagic</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">checkHeaderNoMagic</span><wbr><span class="parameters">(<a href="../store/DataInput.html" title="class in org.apache.lucene.store">DataInput</a>&nbsp;in,
 <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;codec,
 int&nbsp;minVersion,
 int&nbsp;maxVersion)</span>
                              throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<div class="block">Like <a href="#checkHeader(org.apache.lucene.store.DataInput,java.lang.String,int,int)"><code>checkHeader(DataInput,String,int,int)</code></a> except this version assumes the first int
 has already been read and validated from the input.</div>
<dl class="notes">
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="checkIndexHeader(org.apache.lucene.store.DataInput,java.lang.String,int,int,byte[],java.lang.String)">
<h3>checkIndexHeader</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">checkIndexHeader</span><wbr><span class="parameters">(<a href="../store/DataInput.html" title="class in org.apache.lucene.store">DataInput</a>&nbsp;in,
 <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;codec,
 int&nbsp;minVersion,
 int&nbsp;maxVersion,
 byte[]&nbsp;expectedID,
 <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;expectedSuffix)</span>
                            throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<div class="block">Reads and validates a header previously written with <a href="#writeIndexHeader(org.apache.lucene.store.DataOutput,java.lang.String,int,byte%5B%5D,java.lang.String)"><code>writeIndexHeader(DataOutput, String, int, byte[], String)</code></a>.

 <p>When reading a file, supply the expected <code>codec</code>, expected version range (<code>
 minVersion to maxVersion</code>), and object ID and suffix.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>in</code> - Input stream, positioned at the point where the header was previously written.
     Typically this is located at the beginning of the file.</dd>
<dd><code>codec</code> - The expected codec name.</dd>
<dd><code>minVersion</code> - The minimum supported expected version number.</dd>
<dd><code>maxVersion</code> - The maximum supported expected version number.</dd>
<dd><code>expectedID</code> - The expected object identifier for this file.</dd>
<dd><code>expectedSuffix</code> - The expected auxiliary suffix for this file.</dd>
<dt>Returns:</dt>
<dd>The actual version found, when a valid header is found that matches <code>codec</code>,
     with an actual version where <code>minVersion &lt;= actual &lt;= maxVersion</code>, and matching
     <code>expectedID</code> and <code>expectedSuffix</code> Otherwise an exception is thrown.</dd>
<dt>Throws:</dt>
<dd><code><a href="../index/CorruptIndexException.html" title="class in org.apache.lucene.index">CorruptIndexException</a></code> - If the first four bytes are not <a href="#CODEC_MAGIC"><code>CODEC_MAGIC</code></a>, or if the
     actual codec found is not <code>codec</code>, or if the <code>expectedID</code> or <code>
     expectedSuffix</code> do not match.</dd>
<dd><code><a href="../index/IndexFormatTooOldException.html" title="class in org.apache.lucene.index">IndexFormatTooOldException</a></code> - If the actual version is less than <code>minVersion</code>.</dd>
<dd><code><a href="../index/IndexFormatTooNewException.html" title="class in org.apache.lucene.index">IndexFormatTooNewException</a></code> - If the actual version is greater than <code>maxVersion
     </code>.</dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code> - If there is an I/O error reading from the underlying medium.</dd>
<dt>See Also:</dt>
<dd>
<ul class="tag-list-long">
<li><a href="#writeIndexHeader(org.apache.lucene.store.DataOutput,java.lang.String,int,byte%5B%5D,java.lang.String)"><code>writeIndexHeader(DataOutput, String, int, byte[],String)</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="verifyAndCopyIndexHeader(org.apache.lucene.store.IndexInput,org.apache.lucene.store.DataOutput,byte[])">
<h3>verifyAndCopyIndexHeader</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">verifyAndCopyIndexHeader</span><wbr><span class="parameters">(<a href="../store/IndexInput.html" title="class in org.apache.lucene.store">IndexInput</a>&nbsp;in,
 <a href="../store/DataOutput.html" title="class in org.apache.lucene.store">DataOutput</a>&nbsp;out,
 byte[]&nbsp;expectedID)</span>
                                     throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<div class="block">Expert: verifies the incoming <a href="../store/IndexInput.html" title="class in org.apache.lucene.store"><code>IndexInput</code></a> has an index header and that its segment ID
 matches the expected one, and then copies that index header into the provided <a href="../store/DataOutput.html" title="class in org.apache.lucene.store"><code>DataOutput</code></a>. This is useful when building compound files.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>in</code> - Input stream, positioned at the point where the index header was previously written.
     Typically this is located at the beginning of the file.</dd>
<dd><code>out</code> - Output stream, where the header will be copied to.</dd>
<dd><code>expectedID</code> - Expected segment ID</dd>
<dt>Throws:</dt>
<dd><code><a href="../index/CorruptIndexException.html" title="class in org.apache.lucene.index">CorruptIndexException</a></code> - If the first four bytes are not <a href="#CODEC_MAGIC"><code>CODEC_MAGIC</code></a>, or if the
     <code>expectedID</code> does not match.</dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code> - If there is an I/O error reading from the underlying medium.</dd>
<dt>NOTE: This API is for internal purposes only and might change in incompatible ways in the next release.</dt>
</dl>
</section>
</li>
<li>
<section class="detail" id="readIndexHeader(org.apache.lucene.store.IndexInput)">
<h3>readIndexHeader</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">byte[]</span>&nbsp;<span class="element-name">readIndexHeader</span><wbr><span class="parameters">(<a href="../store/IndexInput.html" title="class in org.apache.lucene.store">IndexInput</a>&nbsp;in)</span>
                              throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<div class="block">Retrieves the full index header from the provided <a href="../store/IndexInput.html" title="class in org.apache.lucene.store"><code>IndexInput</code></a>. This throws <a href="../index/CorruptIndexException.html" title="class in org.apache.lucene.index"><code>CorruptIndexException</code></a> if this file does not appear to be an index file.</div>
<dl class="notes">
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="readFooter(org.apache.lucene.store.IndexInput)">
<h3>readFooter</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">byte[]</span>&nbsp;<span class="element-name">readFooter</span><wbr><span class="parameters">(<a href="../store/IndexInput.html" title="class in org.apache.lucene.store">IndexInput</a>&nbsp;in)</span>
                         throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<div class="block">Retrieves the full footer from the provided <a href="../store/IndexInput.html" title="class in org.apache.lucene.store"><code>IndexInput</code></a>. This throws <a href="../index/CorruptIndexException.html" title="class in org.apache.lucene.index"><code>CorruptIndexException</code></a> if this file does not have a valid footer.</div>
<dl class="notes">
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="checkIndexHeaderID(org.apache.lucene.store.DataInput,byte[])">
<h3>checkIndexHeaderID</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">byte[]</span>&nbsp;<span class="element-name">checkIndexHeaderID</span><wbr><span class="parameters">(<a href="../store/DataInput.html" title="class in org.apache.lucene.store">DataInput</a>&nbsp;in,
 byte[]&nbsp;expectedID)</span>
                                 throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<div class="block">Expert: just reads and verifies the object ID of an index header</div>
<dl class="notes">
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="checkIndexHeaderSuffix(org.apache.lucene.store.DataInput,java.lang.String)">
<h3>checkIndexHeaderSuffix</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">checkIndexHeaderSuffix</span><wbr><span class="parameters">(<a href="../store/DataInput.html" title="class in org.apache.lucene.store">DataInput</a>&nbsp;in,
 <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;expectedSuffix)</span>
                                     throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<div class="block">Expert: just reads and verifies the suffix of an index header</div>
<dl class="notes">
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="writeFooter(org.apache.lucene.store.IndexOutput)">
<h3>writeFooter</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">writeFooter</span><wbr><span class="parameters">(<a href="../store/IndexOutput.html" title="class in org.apache.lucene.store">IndexOutput</a>&nbsp;out)</span>
                        throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<div class="block">Writes a codec footer, which records both a checksum algorithm ID and a checksum. This footer
 can be parsed and validated with <a href="#checkFooter(org.apache.lucene.store.ChecksumIndexInput)"><code>checkFooter()</code></a>.

 <p>CodecFooter --&gt; Magic,AlgorithmID,Checksum

 <ul>
   <li>Magic --&gt; <a href="../store/DataOutput.html#writeInt(int)"><code>Uint32</code></a>. This identifies the start of the footer.
       It is always <a href="#FOOTER_MAGIC">-1071082520</a>.
   <li>AlgorithmID --&gt; <a href="../store/DataOutput.html#writeInt(int)"><code>Uint32</code></a>. This indicates the checksum
       algorithm used. Currently this is always 0, for zlib-crc32.
   <li>Checksum --&gt; <a href="../store/DataOutput.html#writeLong(long)"><code>Uint64</code></a>. The actual checksum value for all
       previous bytes in the stream, including the bytes from Magic and AlgorithmID.
 </ul></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>out</code> - Output stream</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code> - If there is an I/O error writing to the underlying medium.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="footerLength()">
<h3>footerLength</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">footerLength</span>()</div>
<div class="block">Computes the length of a codec footer.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>length of the entire codec footer.</dd>
<dt>See Also:</dt>
<dd>
<ul class="tag-list">
<li><a href="#writeFooter(org.apache.lucene.store.IndexOutput)"><code>writeFooter(IndexOutput)</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="checkFooter(org.apache.lucene.store.ChecksumIndexInput)">
<h3>checkFooter</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">long</span>&nbsp;<span class="element-name">checkFooter</span><wbr><span class="parameters">(<a href="../store/ChecksumIndexInput.html" title="class in org.apache.lucene.store">ChecksumIndexInput</a>&nbsp;in)</span>
                        throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<div class="block">Validates the codec footer previously written by <a href="#writeFooter(org.apache.lucene.store.IndexOutput)"><code>writeFooter(org.apache.lucene.store.IndexOutput)</code></a>.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>actual checksum value</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code> - if the footer is invalid, if the checksum does not match, or if <code>in</code>
     is not properly positioned before the footer at the end of the stream.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="checkFooter(org.apache.lucene.store.ChecksumIndexInput,java.lang.Throwable)">
<h3>checkFooter</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">checkFooter</span><wbr><span class="parameters">(<a href="../store/ChecksumIndexInput.html" title="class in org.apache.lucene.store">ChecksumIndexInput</a>&nbsp;in,
 <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Throwable.html" title="class or interface in java.lang" class="external-link">Throwable</a>&nbsp;priorException)</span>
                        throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<div class="block">Validates the codec footer previously written by <a href="#writeFooter(org.apache.lucene.store.IndexOutput)"><code>writeFooter(org.apache.lucene.store.IndexOutput)</code></a>, optionally passing an
 unexpected exception that has already occurred.

 <p>When a <code>priorException</code> is provided, this method will add a suppressed exception
 indicating whether the checksum for the stream passes, fails, or cannot be computed, and
 rethrow it. Otherwise it behaves the same as <a href="#checkFooter(org.apache.lucene.store.ChecksumIndexInput)"><code>checkFooter(ChecksumIndexInput)</code></a>.

 <p>Example usage:

 <pre class="prettyprint">
 try (ChecksumIndexInput input = ...) {
   Throwable priorE = null;
   try {
     // ... read a bunch of stuff ...
   } catch (Throwable exception) {
     priorE = exception;
   } finally {
     CodecUtil.checkFooter(input, priorE);
   }
 }
 </pre></div>
<dl class="notes">
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="retrieveChecksum(org.apache.lucene.store.IndexInput)">
<h3>retrieveChecksum</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">long</span>&nbsp;<span class="element-name">retrieveChecksum</span><wbr><span class="parameters">(<a href="../store/IndexInput.html" title="class in org.apache.lucene.store">IndexInput</a>&nbsp;in)</span>
                             throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<div class="block">Returns (but does not validate) the checksum previously written by <a href="#checkFooter(org.apache.lucene.store.ChecksumIndexInput)"><code>checkFooter(org.apache.lucene.store.ChecksumIndexInput)</code></a>.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>actual checksum value</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code> - if the footer is invalid</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="retrieveChecksum(org.apache.lucene.store.IndexInput,long)">
<h3>retrieveChecksum</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">long</span>&nbsp;<span class="element-name">retrieveChecksum</span><wbr><span class="parameters">(<a href="../store/IndexInput.html" title="class in org.apache.lucene.store">IndexInput</a>&nbsp;in,
 long&nbsp;expectedLength)</span>
                             throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<div class="block">Returns (but does not validate) the checksum previously written by <a href="#checkFooter(org.apache.lucene.store.ChecksumIndexInput)"><code>checkFooter(org.apache.lucene.store.ChecksumIndexInput)</code></a>.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>actual checksum value</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code> - if the footer is invalid</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="checksumEntireFile(org.apache.lucene.store.IndexInput)">
<h3>checksumEntireFile</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">long</span>&nbsp;<span class="element-name">checksumEntireFile</span><wbr><span class="parameters">(<a href="../store/IndexInput.html" title="class in org.apache.lucene.store">IndexInput</a>&nbsp;input)</span>
                               throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<div class="block">Clones the provided input, reads all bytes from the file, and calls <a href="#checkFooter(org.apache.lucene.store.ChecksumIndexInput)"><code>checkFooter(org.apache.lucene.store.ChecksumIndexInput)</code></a>

 <p>Note that this method may be slow, as it must process the entire file. If you just need to
 extract the checksum value, call <a href="#retrieveChecksum(org.apache.lucene.store.IndexInput)"><code>retrieveChecksum(org.apache.lucene.store.IndexInput)</code></a>.</div>
<dl class="notes">
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="writeBEInt(org.apache.lucene.store.DataOutput,int)">
<h3>writeBEInt</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">writeBEInt</span><wbr><span class="parameters">(<a href="../store/DataOutput.html" title="class in org.apache.lucene.store">DataOutput</a>&nbsp;out,
 int&nbsp;i)</span>
                       throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<div class="block">write int value on header / footer with big endian order</div>
<dl class="notes">
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="writeBELong(org.apache.lucene.store.DataOutput,long)">
<h3>writeBELong</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">writeBELong</span><wbr><span class="parameters">(<a href="../store/DataOutput.html" title="class in org.apache.lucene.store">DataOutput</a>&nbsp;out,
 long&nbsp;l)</span>
                        throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<div class="block">write long value on header / footer with big endian order</div>
<dl class="notes">
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="readBEInt(org.apache.lucene.store.DataInput)">
<h3>readBEInt</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">readBEInt</span><wbr><span class="parameters">(<a href="../store/DataInput.html" title="class in org.apache.lucene.store">DataInput</a>&nbsp;in)</span>
                     throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<div class="block">read int value from header / footer with big endian order</div>
<dl class="notes">
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="readBELong(org.apache.lucene.store.DataInput)">
<h3>readBELong</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">long</span>&nbsp;<span class="element-name">readBELong</span><wbr><span class="parameters">(<a href="../store/DataInput.html" title="class in org.apache.lucene.store">DataInput</a>&nbsp;in)</span>
                       throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<div class="block">read long value from header / footer with big endian order</div>
<dl class="notes">
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code></dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
<footer role="contentinfo">
<hr>
<p class="legal-copy"><small><i>Copyright &copy; 2000-2025 Apache Software Foundation. All Rights Reserved.</i></small></p>
</footer>
</div>
</div>
</body>
</html>
