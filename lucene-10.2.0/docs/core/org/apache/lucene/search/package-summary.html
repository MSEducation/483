<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (21) on Fri Apr 04 15:37:21 CEST 2025 -->
<title>org.apache.lucene.search (Lucene 10.2.0 core API)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="dc.created" content="2025-04-04">
<meta name="description" content="declaration: package: org.apache.lucene.search">
<meta name="generator" content="javadoc/PackageWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../script-dir/jquery-ui.min.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
<script type="text/javascript" src="../../../../script-dir/jquery-3.6.1.min.js"></script>
<script type="text/javascript" src="../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="package-declaration-page">
<script type="text/javascript">var pathtoroot = "../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top"><button id="navbar-toggle-button" aria-controls="navbar-top" aria-expanded="false" aria-label="Toggle navigation links"><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span></button>
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li class="nav-bar-cell1-rev">Package</li>
<li>Class</li>
<li><a href="package-use.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html#package">Help</a></li>
</ul>
<ul class="sub-nav-list-small">
<li>
<p>Package:</p>
<ul>
<li><a href="#package-description">Description</a></li>
<li><a href="#related-package-summary">Related Packages</a></li>
<li><a href="#class-summary">Classes and Interfaces</a></li>
</ul>
</li>
</ul>
</div>
<div class="sub-nav">
<div id="navbar-sub-list">
<ul class="sub-nav-list">
<li>Package:&nbsp;</li>
<li><a href="#package-description">Description</a>&nbsp;|&nbsp;</li>
<li><a href="#related-package-summary">Related Packages</a>&nbsp;|&nbsp;</li>
<li><a href="#class-summary">Classes and Interfaces</a></li>
</ul>
</div>
<div class="nav-list-search"><a href="../../../../search.html">SEARCH</a>
<input type="text" id="search-input" disabled placeholder="Search">
<input type="reset" id="reset-button" disabled value="reset">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<div class="header">
<h1 title="Package org.apache.lucene.search" class="title">Package org.apache.lucene.search</h1>
</div>
<hr>
<div class="package-signature">package <span class="element-name">org.apache.lucene.search</span></div>
<section class="package-description" id="package-description">
<div class="block">Code to search indices.

 <h2 id="table-of-contents-heading">Table Of Contents</h2>

 <ol>
   <li><a href="#search">Search Basics</a>
   <li><a href="#query">The Query Classes</a>
   <li><a href="#scoring">Scoring: Introduction</a>
   <li><a href="#scoringBasics">Scoring: Basics</a>
   <li><a href="#changingScoring">Changing the Scoring</a>
   <li><a href="#algorithm">Appendix: Search Algorithm</a>
 </ol>

 <a id="search"></a>

 <h2 id="search-basics-heading">Search Basics</h2>

 <p>Lucene offers a wide variety of <a href="Query.html" title="class in org.apache.lucene.search"><code>Query</code></a> implementations, most
 of which are in this package or the <a href="../../../../../queries/overview-summary.html">queries
 module</a>. These implementations can be combined in a wide variety of ways to provide complex
 querying capabilities along with information about where matches took place in the document
 collection. The <a href="#query">Query Classes</a> section below highlights some of the more
 important Query classes. For details on implementing your own Query class, see <a href="#customQueriesExpert">Custom Queries -- Expert Level</a> below.

 <p>Make sure to look at <a href="Query.html" title="class in org.apache.lucene.search"><code>Query</code></a> factory methods on <a href="../index/IndexableField.html" title="interface in org.apache.lucene.index"><code>IndexableField</code></a>s that you feed into the index writer, they are convenient
 to use and sometimes more efficient than a naively constructed <a href="Query.html" title="class in org.apache.lucene.search"><code>Query</code></a>. See <a href="../document/LongField.html#newRangeQuery(java.lang.String,long,long)"><code>LongField.newRangeQuery(String, long, long)</code></a> for instance.

 <p>To perform a search, applications usually call <a href="IndexSearcher.html#search(org.apache.lucene.search.Query,int)"><code>IndexSearcher.search(Query,int)</code></a>.

 <p>Once a Query has been created and submitted to the <a href="IndexSearcher.html" title="class in org.apache.lucene.search"><code>IndexSearcher</code></a>, the scoring process begins. After some
 infrastructure setup, control finally passes to the <a href="Weight.html" title="class in org.apache.lucene.search"><code>Weight</code></a> implementation and its <a href="Scorer.html" title="class in org.apache.lucene.search"><code>Scorer</code></a> or <a href="BulkScorer.html" title="class in org.apache.lucene.search"><code>BulkScorer</code></a> instances. See the <a href="#algorithm">Algorithm</a> section for more notes on the process.
 <!-- FILL IN MORE HERE -->
 <!-- TODO: this page over-links the same things too many times -->
 <a id="query"></a>

 <h2 id="query-classes-heading">Query Classes</h2>

 <h3 id="termquery-heading"><a href="TermQuery.html" title="class in org.apache.lucene.search"><code>TermQuery</code></a> </h3>

 <p>Of the various implementations of <a href="Query.html" title="class in org.apache.lucene.search"><code>Query</code></a>, the <a href="TermQuery.html" title="class in org.apache.lucene.search"><code>TermQuery</code></a> is the easiest to understand and the most often
 used in applications. A <a href="TermQuery.html" title="class in org.apache.lucene.search"><code>TermQuery</code></a> matches all the
 documents that contain the specified <a href="../index/Term.html" title="class in org.apache.lucene.index"><code>Term</code></a>, which is a word
 that occurs in a certain <a href="../document/Field.html" title="class in org.apache.lucene.document"><code>Field</code></a>. Thus, a <a href="TermQuery.html" title="class in org.apache.lucene.search"><code>TermQuery</code></a> identifies and scores all <a href="../document/Document.html" title="class in org.apache.lucene.document"><code>Document</code></a>s that have a <a href="../document/Field.html" title="class in org.apache.lucene.document"><code>Field</code></a> with the specified string in it. Constructing a <a href="TermQuery.html" title="class in org.apache.lucene.search"><code>TermQuery</code></a> is as simple as:

 <pre class="prettyprint">
 TermQuery tq = new TermQuery(new Term("fieldName", "term"));
 </pre>

 In this example, the <a href="Query.html" title="class in org.apache.lucene.search"><code>Query</code></a> identifies all <a href="../document/Document.html" title="class in org.apache.lucene.document"><code>Document</code></a>s that have the <a href="../document/Field.html" title="class in org.apache.lucene.document"><code>Field</code></a> named <code>"fieldName"</code> containing the word <code>
 "term"</code>.

 <h3 id="booleanquery-heading"><a href="BooleanQuery.html" title="class in org.apache.lucene.search"><code>BooleanQuery</code></a> </h3>

 <p>Things start to get interesting when one combines multiple <a href="TermQuery.html" title="class in org.apache.lucene.search"><code>TermQuery</code></a> instances into a <a href="BooleanQuery.html" title="class in org.apache.lucene.search"><code>BooleanQuery</code></a>. A <a href="BooleanQuery.html" title="class in org.apache.lucene.search"><code>BooleanQuery</code></a> contains multiple <a href="BooleanClause.html" title="class in org.apache.lucene.search"><code>BooleanClause</code></a>s, where each clause contains a sub-query
 (<a href="Query.html" title="class in org.apache.lucene.search"><code>Query</code></a> instance) and an operator (from <a href="BooleanClause.Occur.html" title="enum class in org.apache.lucene.search"><code>BooleanClause.Occur</code></a>) describing how that sub-query
 is combined with the other clauses:

 <ol>
   <li>
       <p><a href="BooleanClause.Occur.html#SHOULD"><code>SHOULD</code></a> &mdash; Use this
       operator when a clause can occur in the result set, but is not required. If a query is made
       up of all SHOULD clauses, then every document in the result set matches at least one of
       these clauses.
   <li>
       <p><a href="BooleanClause.Occur.html#MUST"><code>MUST</code></a> &mdash; Use this operator
       when a clause is required to occur in the result set and should contribute to the score.
       Every document in the result set will match all such clauses.
   <li>
       <p><a href="BooleanClause.Occur.html#FILTER"><code>FILTER</code></a> &mdash; Use this
       operator when a clause is required to occur in the result set but should not contribute to
       the score. Every document in the result set will match all such clauses.
   <li>
       <p><a href="BooleanClause.Occur.html#MUST_NOT"><code>MUST NOT</code></a> &mdash; Use this
       operator when a clause must not occur in the result set. No document in the result set will
       match any such clauses.
 </ol>

 Boolean queries are constructed by adding two or more <a href="BooleanClause.html" title="class in org.apache.lucene.search"><code>BooleanClause</code></a> instances. If too many clauses are added, a
 <a href="IndexSearcher.TooManyClauses.html" title="class in org.apache.lucene.search"><code>TooManyClauses</code></a> exception will be
 thrown during searching. This most often occurs when a <a href="Query.html" title="class in org.apache.lucene.search"><code>Query</code></a> is rewritten into a <a href="BooleanQuery.html" title="class in org.apache.lucene.search"><code>BooleanQuery</code></a> with many
 <a href="TermQuery.html" title="class in org.apache.lucene.search"><code>TermQuery</code></a> clauses, for example by <a href="WildcardQuery.html" title="class in org.apache.lucene.search"><code>WildcardQuery</code></a>. The default setting for the maximum number
 of clauses is 1024, but this can be changed via the static method <a href="IndexSearcher.html#setMaxClauseCount(int)"><code>IndexSearcher.setMaxClauseCount(int)</code></a>.

 <h3 id="phrases-heading">Phrases</h3>

 <p>Another common search is to find documents containing certain phrases. This is handled in
 different ways:

 <ol>
   <li>
       <p><a href="PhraseQuery.html" title="class in org.apache.lucene.search"><code>PhraseQuery</code></a> &mdash; Matches a sequence of
       <a href="../index/Term.html" title="class in org.apache.lucene.index"><code>Term</code></a>s. <a href="PhraseQuery.html" title="class in org.apache.lucene.search"><code>PhraseQuery</code></a> uses a slop factor to determine how many positions may occur between any two
       terms in the phrase and still be considered a match. The slop is 0 by default, meaning the
       phrase must match exactly.
   <li>
       <p><a href="MultiPhraseQuery.html" title="class in org.apache.lucene.search"><code>MultiPhraseQuery</code></a> &mdash; A more
       general form of PhraseQuery that accepts multiple Terms for a position in the phrase. For
       example, this can be used to perform phrase queries that also incorporate synonyms.
   <li>
       <p>Interval queries in the <a href="../../../../../queries/overview-summary.html">Queries
       module</a>
 </ol>

 <h3 id="pointrangequery-heading"><a href="PointRangeQuery.html" title="class in org.apache.lucene.search"><code>PointRangeQuery</code></a> </h3>

 <p>The <a href="PointRangeQuery.html" title="class in org.apache.lucene.search"><code>PointRangeQuery</code></a> matches all documents
 that occur in a numeric range. For PointRangeQuery to work, you must index the values using a one
 of the numeric fields (<a href="../document/IntPoint.html" title="class in org.apache.lucene.document"><code>IntPoint</code></a>, <a href="../document/LongPoint.html" title="class in org.apache.lucene.document"><code>LongPoint</code></a>, <a href="../document/FloatPoint.html" title="class in org.apache.lucene.document"><code>FloatPoint</code></a>, or <a href="../document/DoublePoint.html" title="class in org.apache.lucene.document"><code>DoublePoint</code></a>).

 <h3 id="prefixquery-wildcardquery-regexpquery-heading"><a href="PrefixQuery.html" title="class in org.apache.lucene.search"><code>PrefixQuery</code></a>, <a href="WildcardQuery.html" title="class in org.apache.lucene.search"><code>WildcardQuery</code></a>, <a href="RegexpQuery.html" title="class in org.apache.lucene.search"><code>RegexpQuery</code></a> </h3>

 <p>While the <a href="PrefixQuery.html" title="class in org.apache.lucene.search"><code>PrefixQuery</code></a> has a different
 implementation, it is essentially a special case of the <a href="WildcardQuery.html" title="class in org.apache.lucene.search"><code>WildcardQuery</code></a>. The <a href="PrefixQuery.html" title="class in org.apache.lucene.search"><code>PrefixQuery</code></a> allows an application to identify all documents
 with terms that begin with a certain string. The <a href="WildcardQuery.html" title="class in org.apache.lucene.search"><code>WildcardQuery</code></a> generalizes this by allowing for the use of <code>*</code> (matches 0 or more
 characters) and <code>?</code> (matches exactly one character) wildcards. Note that the <a href="WildcardQuery.html" title="class in org.apache.lucene.search"><code>WildcardQuery</code></a> can be quite slow. Also note that <a href="WildcardQuery.html" title="class in org.apache.lucene.search"><code>WildcardQuery</code></a> should not start with <code>*</code> and
 <code>?</code>, as these are extremely slow. Some QueryParsers may not allow this by default, but
 provide a <code>setAllowLeadingWildcard</code> method to remove that protection. The <a href="RegexpQuery.html" title="class in org.apache.lucene.search"><code>RegexpQuery</code></a> is even more general than WildcardQuery,
 allowing an application to identify all documents with terms that match a regular expression
 pattern.

 <h3 id="fuzzyquery-heading"><a href="FuzzyQuery.html" title="class in org.apache.lucene.search"><code>FuzzyQuery</code></a> </h3>

 <p>A <a href="FuzzyQuery.html" title="class in org.apache.lucene.search"><code>FuzzyQuery</code></a> matches documents that contain terms
 similar to the specified term. Similarity is determined using <a href="http://en.wikipedia.org/wiki/Levenshtein_distance">Levenshtein distance</a>. This type of
 query can be useful when accounting for spelling variations in the collection.

 <p><a id="scoring"></a>

 <h2 id="scoring-introduction-heading">Scoring &mdash; Introduction</h2>

 <p>Lucene scoring is the heart of why we all love Lucene. It is blazingly fast and it hides
 almost all of the complexity from the user. In a nutshell, it works. At least, that is, until it
 doesn't work, or doesn't work as one would expect it to work. Then we are left digging into
 Lucene internals or asking for help on <code>java-user@lucene.apache.org</code> to figure out why
 a document with five of our query terms scores lower than a different document with only one of
 the query terms.

 <p>While this document won't answer your specific scoring issues, it will, hopefully, point you
 to the places that can help you figure out the <i>what</i> and <i>why</i> of Lucene scoring.

 <p>Lucene scoring supports a number of pluggable information retrieval <a href="http://en.wikipedia.org/wiki/Information_retrieval#Model_types">models</a>, including:

 <ul>
   <li><a href="http://en.wikipedia.org/wiki/Vector_Space_Model">Vector Space Model (VSM)</a>
   <li><a href="http://en.wikipedia.org/wiki/Probabilistic_relevance_model">Probabilistic
       Models</a> such as <a href="http://en.wikipedia.org/wiki/Probabilistic_relevance_model_(BM25)">Okapi BM25</a> and
       <a href="http://en.wikipedia.org/wiki/Divergence-from-randomness_model">DFR</a>
   <li><a href="http://en.wikipedia.org/wiki/Language_model">Language models</a>
 </ul>

 These models can be plugged in via the <a href="similarities/package-summary.html"><code>Similarity
 API</code></a>, and offer extension hooks and parameters for tuning. In general, Lucene first finds the
 documents that need to be scored based on boolean logic in the Query specification, and then
 ranks this subset of matching documents via the retrieval model. For some valuable references on
 VSM and IR in general refer to <a href="https://cwiki.apache.org/confluence/display/LUCENEJAVA/InformationRetrieval">Lucene Wiki IR
 references</a>.

 <p>The rest of this document will cover <a href="#scoringBasics">Scoring basics</a> and explain
 how to change your <a href="similarities/Similarity.html" title="class in org.apache.lucene.search.similarities"><code>Similarity</code></a>. Next, it
 will cover ways you can customize the lucene internals in <a href="#customQueriesExpert">Custom
 Queries -- Expert Level</a>, which gives details on implementing your own <a href="Query.html" title="class in org.apache.lucene.search"><code>Query</code></a> class and related functionality. Finally, we will finish up
 with some reference material in the <a href="#algorithm">Appendix</a>.

 <p><a id="scoringBasics"></a>

 <h2 id="scoring-basics-heading">Scoring &mdash; Basics</h2>

 <p>Scoring is very much dependent on the way documents are indexed, so it is important to
 understand indexing. (see <a href="../../../../overview-summary.html#overview_description">Lucene
 overview</a> before continuing on with this section) Be sure to use the useful <a href="IndexSearcher.html#explain(org.apache.lucene.search.Query,int)"><code>IndexSearcher.explain(Query, doc)</code></a> to understand how the score for a certain matching document
 was computed.

 <p>Generally, the Query determines which documents match (a binary decision), while the
 Similarity determines how to assign scores to the matching documents.

 <h3 id="fields-and-documents-heading">Fields and Documents</h3>

 <p>In Lucene, the objects we are scoring are <a href="../document/Document.html" title="class in org.apache.lucene.document"><code>Document</code></a>s. A Document is a collection of <a href="../document/Field.html" title="class in org.apache.lucene.document"><code>Field</code></a>s. Each
 Field has <a href="../document/FieldType.html" title="class in org.apache.lucene.document"><code>semantics</code></a> about how it is created and
 stored (<a href="../document/FieldType.html#tokenized()"><code>tokenized</code></a>, <a href="../document/FieldType.html#stored()"><code>stored</code></a>, etc). It is important to note that Lucene
 scoring works on Fields and then combines the results to return Documents. This is important
 because two Documents with the exact same content, but one having the content in two Fields and
 the other in one Field may return different scores for the same query due to length
 normalization.

 <h3 id="score-boosting-heading">Score Boosting</h3>

 <p>Lucene allows influencing the score contribution of various parts of the query by wrapping
 with <a href="BoostQuery.html" title="class in org.apache.lucene.search"><code>BoostQuery</code></a>. <a id="changingScoring"></a>

 <h2 id="changing-scoring-similarity-heading">Changing Scoring &mdash; Similarity</h2>

 <h3 id="changing-the-scoring-formula-heading">Changing the scoring formula</h3>

 <p>Changing <a href="similarities/Similarity.html" title="class in org.apache.lucene.search.similarities"><code>Similarity</code></a> is an easy way to
 influence scoring, this is done at index-time with <a href="../index/IndexWriterConfig.html#setSimilarity(org.apache.lucene.search.similarities.Similarity)"><code>IndexWriterConfig.setSimilarity(Similarity)</code></a> and at query-time with <a href="IndexSearcher.html#setSimilarity(org.apache.lucene.search.similarities.Similarity)"><code>IndexSearcher.setSimilarity(Similarity)</code></a>. Be sure to use search-time similarities that encode the
 length normalization factor the same way as the similarity that you used at index time. All
 Lucene built-in similarities use the default encoding so they are compatible, but if you use a
 custom similarity that changes the encoding of the length normalization factor, you are on your
 own: Lucene makes no effort to ensure that the index-time and the search-time similarities are
 compatible.

 <p>You can influence scoring by configuring a different built-in Similarity implementation, or by
 tweaking its parameters, subclassing it to override behavior. Some implementations also offer a
 modular API which you can extend by plugging in a different component (e.g. term frequency
 normalizer).

 <p>Finally, you can extend the low level <a href="similarities/Similarity.html" title="class in org.apache.lucene.search.similarities"><code>Similarity</code></a> directly to implement a new retrieval model.

 <p>See the <a href="similarities/package-summary.html"><code>org.apache.lucene.search.similarities</code></a> package documentation for information on
 the built-in available scoring models and extending or changing Similarity.

 <h3 id="scoring-multiple-fields-heading">Scoring multiple fields</h3>

 <p>In the real world, documents often have multiple fields with different degrees of relevance. A
 robust way of scoring across multiple fields is called BM25F, which is implemented via <a href="CombinedFieldQuery.html" title="class in org.apache.lucene.search"><code>CombinedFieldQuery</code></a>. It scores documents with multiple fields as if
 their content had been indexed in a single combined field. It supports configuring per-field
 boosts where the value of the boost is interpreted as the number of times that the content of the
 field exists in the virtual combined field.

 <p>Here is an example that constructs a query on "apache OR lucene" on fields "title" with a
 boost of 10, and "body" with a boost of 1:

 <pre class="prettyprint">
 BooleanQuery.Builder builder = new BooleanQuery.Builder();
 for (String term : new String[] { "apache", "lucene" }) {
   Query query = new CombinedFieldQuery(term)
         .addField("title", 10f)
         .addField("body", 1f)
         .build();
   builder.add(query, Occur.SHOULD);
 }
 Query query = builder.build();
 </pre>

 <h3 id="integrating-field-values-into-the-score-heading">Integrating field values into the score</h3>

 <p>While similarities help score a document relatively to a query, it is also common for
 documents to hold features that measure the quality of a match. Such features are best integrated
 into the score by indexing a <a href="../document/FeatureField.html" title="class in org.apache.lucene.document"><code>FeatureField</code></a> with
 the document at index-time, and then combining the similarity score and the feature score using a
 linear combination. For instance the below query matches the same documents as <code>
 originalQuery</code> and computes scores as <code>similarityScore + 0.7 * featureScore</code>:

 <pre class="prettyprint">
 Query originalQuery = new BooleanQuery.Builder()
     .add(new TermQuery(new Term("body", "apache")), Occur.SHOULD)
     .add(new TermQuery(new Term("body", "lucene")), Occur.SHOULD)
     .build();
 Query featureQuery = FeatureField.newSaturationQuery("features", "pagerank");
 Query query = new BooleanQuery.Builder()
     .add(originalQuery, Occur.MUST)
     .add(new BoostQuery(featureQuery, 0.7f), Occur.SHOULD)
     .build();
 </pre>

 <p>A less efficient yet more flexible way of modifying scores is to index scoring features into
 doc-value fields and then combine them with the similarity score using a <a href="../../../../../queries/org/apache/lucene/queries/function/FunctionScoreQuery.html">FunctionScoreQuery</a>
 from the <a href="../../../../../queries/overview-summary.html">queries module</a>. For instance
 the below example shows how to compute scores as <code>similarityScore * Math.log(popularity)</code>
 using the <a href="../../../../../expressions/overview-summary.html">expressions module</a> and
 assuming that values for the <code>popularity</code> field have been set in a <a href="../document/NumericDocValuesField.html" title="class in org.apache.lucene.document"><code>NumericDocValuesField</code></a> at index time:

 <pre class="prettyprint">
   // compile an expression:
   Expression expr = JavascriptCompiler.compile("_score * ln(popularity)");

   // SimpleBindings just maps variables to DoubleValuesSource instances
   SimpleBindings bindings = new SimpleBindings();
   bindings.add("_score", DoubleValuesSource.SCORES);
   bindings.add("popularity", DoubleValuesSource.fromIntField("popularity"));

   // create a query that matches based on 'originalQuery' but
   // scores using expr
   Query query = new FunctionScoreQuery(
       originalQuery,
       expr.getDoubleValuesSource(bindings));
 </pre>

 <a id="customQueriesExpert"></a>

 <h3 id="multi-stage-retrieval-pipelines-heading">Multi-stage retrieval pipelines</h3>

 <p>The above explains how to influence the score when evaluating all matches of the query. This
 is expensive by design since it applies to all matches of the query, which could be millions. In
 order to apply more sophisticated ranking logic, a good approach consists of having a retrieval
 pipeline that runs a simple candidate retrieval stage that retrieves e.g. 1,000 hits, followed by
 a more sophisticated reranking stage that reranks these 1,000 hits to select the best 100 hits
 among them. Since the number of hits that this retrieval stage needs to operate on is bounded, it
 allows it to be more sophisticated.

 <p>Lucene exposes reranking via the <a href="Rescorer.html" title="class in org.apache.lucene.search"><code>Rescorer</code></a> abstract class,
 which has two main sub-classes:

 <ul>
   <li><a href="QueryRescorer.html" title="class in org.apache.lucene.search"><code>QueryRescorer</code></a>, to rescore using a query. For instance, the
       query string could be parsed as phrase query using <a href="../util/QueryBuilder.html#createPhraseQuery(java.lang.String,java.lang.String)"><code>QueryBuilder.createPhraseQuery(java.lang.String, java.lang.String)</code></a> instead of a boolean query in order
       to help boost hits which also match the query string as a phrase.
   <li><a href="SortRescorer.html" title="class in org.apache.lucene.search"><code>SortRescorer</code></a>, to rescore using a <a href="Sort.html" title="class in org.apache.lucene.search"><code>Sort</code></a>. For instance, the best 1,000 hits by BM25 score may be
       sorted by descending popularity in order to compute the final top-100 hits.
 </ul>

 <h3 id="top-hits-fusion-heading">Top hits fusion</h3>

 <p>Sometimes, multiple retrieval pipelines may make sense, having their own pros and cons. A
 typical example would be a lexical retrieval pipeline, matching exactly what the user requested,
 and a semantic retrieval pipeline, matching documents that are closest to the user's query from a
 semantic perspective. Combining scores is hazardous as different retrieval pipelines often
 produce scores that not only have different ranges, but also different distributions within this
 range. A robust way of combining multiple retrieval pipelines consists of combining the top hits
 that they produce through their ranks rather than through their scores using reciprocal rank
 fusion. This is exposed via <a href="TopDocs.html#rrf(int,int,org.apache.lucene.search.TopDocs%5B%5D)"><code>TopDocs.rrf(int topN, int k, TopDocs[] hits)</code></a>.

 <h2 id="custom-queries-expert-level-heading">Custom Queries &mdash; Expert Level</h2>

 <p>Custom queries are an expert level task, so tread carefully and be prepared to share your code
 if you want help.

 <p>With the warning out of the way, it is possible to change a lot more than just the Similarity
 when it comes to matching and scoring in Lucene. Lucene's search is a complex mechanism that is
 grounded by <span>three main classes</span>:

 <ol>
   <li><a href="Query.html" title="class in org.apache.lucene.search"><code>Query</code></a> &mdash; The abstract object representation of
       the user's information need.
   <li><a href="Weight.html" title="class in org.apache.lucene.search"><code>Weight</code></a> &mdash; A specialization of a Query for a
       given index. This typically associates a Query object with index statistics that are later
       used to compute document scores.
   <li><a href="Scorer.html" title="class in org.apache.lucene.search"><code>Scorer</code></a> &mdash; The core class of the scoring
       process: for a given segment, scorers return <a href="Scorer.html#iterator()"><code>iterators</code></a> over matches and give a way to compute
       the <a href="Scorable.html#score()"><code>score</code></a> of these matches.
   <li><a href="BulkScorer.html" title="class in org.apache.lucene.search"><code>BulkScorer</code></a> &mdash; An abstract class that
       scores a range of documents. A default implementation simply iterates through the hits from
       <a href="Scorer.html" title="class in org.apache.lucene.search"><code>Scorer</code></a>, but some queries such as <a href="BooleanQuery.html" title="class in org.apache.lucene.search"><code>BooleanQuery</code></a> have more efficient implementations.
 </ol>

 Details on each of these classes, and their children, can be found in the subsections below.

 <h3 id="the-query-class-heading">The Query Class</h3>

 <p>In some sense, the <a href="Query.html" title="class in org.apache.lucene.search"><code>Query</code></a> class is where it all begins.
 Without a Query, there would be nothing to score. Furthermore, the Query class is the catalyst
 for the other scoring classes as it is often responsible for creating them or coordinating the
 functionality between them. The <a href="Query.html" title="class in org.apache.lucene.search"><code>Query</code></a> class has several
 methods that are important for derived classes:

 <ol>
   <li><a href="Query.html#createWeight(org.apache.lucene.search.IndexSearcher,org.apache.lucene.search.ScoreMode,float)"><code>createWeight(IndexSearcher searcher, ScoreMode scoreMode, float boost)</code></a> &mdash; A <a href="Weight.html" title="class in org.apache.lucene.search"><code>Weight</code></a> is the internal representation of the Query, so
       each Query implementation must provide an implementation of Weight. See the subsection on
       <a href="#weightClass">The Weight Interface</a> below for details on implementing the
       Weight interface.
   <li><a href="Query.html#rewrite(org.apache.lucene.search.IndexSearcher)"><code>rewrite(IndexReader reader)</code></a>
       &mdash; Rewrites queries into primitive queries. Primitive queries are: <a href="TermQuery.html" title="class in org.apache.lucene.search"><code>TermQuery</code></a>, <a href="BooleanQuery.html" title="class in org.apache.lucene.search"><code>BooleanQuery</code></a>, <span>and other queries that implement <a href="Query.html#createWeight(org.apache.lucene.search.IndexSearcher,org.apache.lucene.search.ScoreMode,float)"><code>createWeight(IndexSearcher searcher,ScoreMode scoreMode, float boost)</code></a></span>
 </ol>

 <a id="weightClass"></a>

 <h3 id="the-weight-interface-heading">The Weight Interface</h3>

 <p>The <a href="Weight.html" title="class in org.apache.lucene.search"><code>Weight</code></a> interface provides an internal
 representation of the Query so that it can be reused. Any <a href="IndexSearcher.html" title="class in org.apache.lucene.search"><code>IndexSearcher</code></a> dependent state should be stored in the
 Weight implementation, not in the Query class. The interface defines four main methods:

 <ol>
   <li><a href="Weight.html#scorer(org.apache.lucene.index.LeafReaderContext)"><code>scorer()</code></a> &mdash; Construct a new <a href="Scorer.html" title="class in org.apache.lucene.search"><code>Scorer</code></a> for this Weight. See <a href="#scorerClass">The
       Scorer Class</a> below for help defining a Scorer. As the name implies, the Scorer is
       responsible for doing the actual scoring of documents given the Query.
   <li><a href="Weight.html#explain(org.apache.lucene.index.LeafReaderContext,int)"><code>explain(LeafReaderContext context, int doc)</code></a> &mdash; Provide a means for explaining
       why a given document was scored the way it was. Typically a weight such as TermWeight that
       scores via a <a href="similarities/Similarity.html" title="class in org.apache.lucene.search.similarities"><code>Similarity</code></a> will make
       use of the Similarity's implementation: <a href="similarities/Similarity.SimScorer.html#explain(org.apache.lucene.search.Explanation,long)"><code>SimScorer#explain(Explanation freq, long norm)</code></a>.
   <li><a href="Weight.html#matches(org.apache.lucene.index.LeafReaderContext,int)"><code>matches(LeafReaderContext context, int doc)</code></a>
       &mdash; Give information about positions and offsets of matches. This is typically useful
       to implement highlighting.
 </ol>

 <a id="scorerClass"></a>

 <h3 id="the-scorer-class-heading">The Scorer Class</h3>

 <p>The <a href="Scorer.html" title="class in org.apache.lucene.search"><code>Scorer</code></a> abstract class provides common scoring
 functionality for all Scorer implementations and is the heart of the Lucene scoring process. The
 Scorer defines the following methods which must be implemented:

 <ol>
   <li><a href="Scorer.html#iterator()"><code>iterator()</code></a> &mdash; Return a <a href="DocIdSetIterator.html" title="class in org.apache.lucene.search"><code>DocIdSetIterator</code></a> that can iterate over all
       document that matches this Query.
   <li><a href="Scorer.html#docID()"><code>docID()</code></a> &mdash; Returns the id of the <a href="../document/Document.html" title="class in org.apache.lucene.document"><code>Document</code></a> that contains the match.
   <li><a href="Scorable.html#score()"><code>score()</code></a> &mdash; Return the score of the
       current document. This value can be determined in any appropriate way for an application.
       For instance, the <a href="TermScorer.html" title="class in org.apache.lucene.search"><code>TermScorer</code></a> simply defers to
       the configured Similarity: <a href="similarities/Similarity.SimScorer.html#score(float,long)"><code>SimScorer.score(float freq, long norm)</code></a>.
   <li><a href="Scorable.html#getChildren()"><code>getChildren()</code></a> &mdash; Returns any child
       subscorers underneath this scorer. This allows for users to navigate the scorer hierarchy
       and receive more fine-grained details on the scoring process.
 </ol>

 <a id="bulkScorerClass"></a>

 <h3 id="the-bulkscorer-class-heading">The BulkScorer Class</h3>

 <p>The <a href="BulkScorer.html" title="class in org.apache.lucene.search"><code>BulkScorer</code></a> scores a range of documents. There
 is only one abstract method:

 <ol>
   <li><a href="BulkScorer.html#score(org.apache.lucene.search.LeafCollector,org.apache.lucene.util.Bits,int,int)"><code>score(LeafCollector,Bits,int,int)</code></a> &mdash; Score all documents up to but not including the
       specified max document.
 </ol>

 <h3 id="why-would-i-want-to-add-my-own-query--heading">Why would I want to add my own Query?</h3>

 <p>In a nutshell, you want to add your own custom Query implementation when you think that
 Lucene's aren't appropriate for the task that you want to do. You might be doing some cutting
 edge research or you need more information back out of Lucene (similar to Doug adding SpanQuery
 functionality).
 <!-- TODO: integrate this better, it's better served as an intro than an appendix -->
 <a id="algorithm"></a>

 <h2 id="appendix-search-algorithm-heading">Appendix: Search Algorithm</h2>

 <p>This section is mostly notes on stepping through the Scoring process and serves as fertilizer
 for the earlier sections.

 <p>In the typical search application, a <a href="Query.html" title="class in org.apache.lucene.search"><code>Query</code></a> is passed to
 the <a href="IndexSearcher.html" title="class in org.apache.lucene.search"><code>IndexSearcher</code></a>, beginning the scoring process.

 <p>Once inside the IndexSearcher, a <a href="Collector.html" title="interface in org.apache.lucene.search"><code>Collector</code></a> is used
 for the scoring and sorting of the search results. These important objects are involved in a
 search:

 <ol>
   <li>The <a href="Weight.html" title="class in org.apache.lucene.search"><code>Weight</code></a> object of the Query. The Weight object
       is an internal representation of the Query that allows the Query to be reused by the
       IndexSearcher.
   <li>The IndexSearcher that initiated the call.
   <li>A <a href="Sort.html" title="class in org.apache.lucene.search"><code>Sort</code></a> object for specifying how to sort the results
       if the standard score-based sort method is not desired.
 </ol>

 <p>Assuming we are not sorting (since sorting doesn't affect the raw Lucene score), we call one
 of the search methods of the IndexSearcher, passing in the <a href="Weight.html" title="class in org.apache.lucene.search"><code>Weight</code></a> object created by <a href="IndexSearcher.html#createWeight(org.apache.lucene.search.Query,org.apache.lucene.search.ScoreMode,float)"><code>IndexSearcher.createWeight(Query,ScoreMode,float)</code></a> and the number of results we want. This method
 returns a <a href="TopDocs.html" title="class in org.apache.lucene.search"><code>TopDocs</code></a> object, which is an internal
 collection of search results. The IndexSearcher creates a <a href="TopScoreDocCollector.html" title="class in org.apache.lucene.search"><code>TopScoreDocCollector</code></a> and passes it along with the
 Weight to another expert search method (for more on the <a href="Collector.html" title="interface in org.apache.lucene.search"><code>Collector</code></a> mechanism, see <a href="IndexSearcher.html" title="class in org.apache.lucene.search"><code>IndexSearcher</code></a>). The
 TopScoreDocCollector uses a <a href="../util/PriorityQueue.html" title="class in org.apache.lucene.util"><code>PriorityQueue</code></a> to collect
 the top results for the search.

 <p>At last, we are actually going to score some documents. The score method takes in the
 Collector (most likely the TopScoreDocCollector or TopFieldCollector) and does its business. Of
 course, here is where things get involved. The <a href="Scorer.html" title="class in org.apache.lucene.search"><code>Scorer</code></a>
 that is returned by the <a href="Weight.html" title="class in org.apache.lucene.search"><code>Weight</code></a> object depends on what
 type of Query was submitted. In most real world applications with multiple query terms, the
 <a href="Scorer.html" title="class in org.apache.lucene.search"><code>Scorer</code></a> is going to be a <code>BooleanScorer2</code>
 created from <code>BooleanWeight</code> (see the section on <a href="#customQueriesExpert">custom queries</a> for info on changing this).

 <p>Assuming a BooleanScorer2, we get a internal Scorer based on the required, optional and
 prohibited parts of the query. Using this internal Scorer, the BooleanScorer2 then proceeds into
 a while loop based on the <a href="DocIdSetIterator.html#nextDoc()"><code>DocIdSetIterator.nextDoc()</code></a> method. The nextDoc() method advances to the next document matching
 the query. This is an abstract method in the Scorer class and is thus overridden by all derived
 implementations. If you have a simple OR query your internal Scorer is most likely a
 DisjunctionSumScorer, which essentially combines the scorers from the sub scorers of the OR'd
 terms.</div>
</section>
<section class="summary">
<ul class="summary-list">
<li>
<div id="related-package-summary">
<div class="caption"><span>Related Packages</span></div>
<div class="summary-table two-column-summary">
<div class="table-header col-first">Package</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><a href="comparators/package-summary.html">org.apache.lucene.search.comparators</a></div>
<div class="col-last even-row-color">
<div class="block">Comparators, used to compare hits so as to determine their sort order when collecting the top
 results with <a href="TopFieldCollector.html" title="class in org.apache.lucene.search"><code>TopFieldCollector</code></a>.</div>
</div>
<div class="col-first odd-row-color"><a href="knn/package-summary.html">org.apache.lucene.search.knn</a></div>
<div class="col-last odd-row-color">
<div class="block">Classes related to vector search: knn and vector fields.</div>
</div>
<div class="col-first even-row-color"><a href="similarities/package-summary.html">org.apache.lucene.search.similarities</a></div>
<div class="col-last even-row-color">
<div class="block">This package contains the various ranking models that can be used in Lucene.</div>
</div>
</div>
</div>
</li>
<li>
<div id="class-summary">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="class-summary-tab0" role="tab" aria-selected="true" aria-controls="class-summary.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('class-summary', 'class-summary', 2)" class="active-table-tab">All Classes and Interfaces</button><button id="class-summary-tab1" role="tab" aria-selected="false" aria-controls="class-summary.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('class-summary', 'class-summary-tab1', 2)" class="table-tab">Interfaces</button><button id="class-summary-tab2" role="tab" aria-selected="false" aria-controls="class-summary.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('class-summary', 'class-summary-tab2', 2)" class="table-tab">Classes</button><button id="class-summary-tab3" role="tab" aria-selected="false" aria-controls="class-summary.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('class-summary', 'class-summary-tab3', 2)" class="table-tab">Enum Classes</button><button id="class-summary-tab4" role="tab" aria-selected="false" aria-controls="class-summary.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('class-summary', 'class-summary-tab4', 2)" class="table-tab">Record Classes</button><button id="class-summary-tab5" role="tab" aria-selected="false" aria-controls="class-summary.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('class-summary', 'class-summary-tab5', 2)" class="table-tab">Exception Classes</button></div>
<div id="class-summary.tabpanel" role="tabpanel">
<div class="summary-table two-column-summary" aria-labelledby="class-summary-tab0">
<div class="table-header col-first">Class</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color class-summary class-summary-tab2"><a href="AbstractKnnCollector.html" title="class in org.apache.lucene.search">AbstractKnnCollector</a></div>
<div class="col-last even-row-color class-summary class-summary-tab2">
<div class="block">AbstractKnnCollector is the default implementation for a knn collector used for gathering kNN
 results and providing topDocs from the gathered neighbors</div>
</div>
<div class="col-first odd-row-color class-summary class-summary-tab2"><a href="AutomatonQuery.html" title="class in org.apache.lucene.search">AutomatonQuery</a></div>
<div class="col-last odd-row-color class-summary class-summary-tab2">
<div class="block">A <a href="Query.html" title="class in org.apache.lucene.search"><code>Query</code></a> that will match terms against a finite-state machine.</div>
</div>
<div class="col-first even-row-color class-summary class-summary-tab2"><a href="BlendedTermQuery.html" title="class in org.apache.lucene.search">BlendedTermQuery</a></div>
<div class="col-last even-row-color class-summary class-summary-tab2">
<div class="block">A <a href="Query.html" title="class in org.apache.lucene.search"><code>Query</code></a> that blends index statistics across multiple terms.</div>
</div>
<div class="col-first odd-row-color class-summary class-summary-tab2"><a href="BlendedTermQuery.Builder.html" title="class in org.apache.lucene.search">BlendedTermQuery.Builder</a></div>
<div class="col-last odd-row-color class-summary class-summary-tab2">
<div class="block">A Builder for <a href="BlendedTermQuery.html" title="class in org.apache.lucene.search"><code>BlendedTermQuery</code></a>.</div>
</div>
<div class="col-first even-row-color class-summary class-summary-tab2"><a href="BlendedTermQuery.DisjunctionMaxRewrite.html" title="class in org.apache.lucene.search">BlendedTermQuery.DisjunctionMaxRewrite</a></div>
<div class="col-last even-row-color class-summary class-summary-tab2">
<div class="block">A <a href="BlendedTermQuery.RewriteMethod.html" title="class in org.apache.lucene.search"><code>BlendedTermQuery.RewriteMethod</code></a> that creates a <a href="DisjunctionMaxQuery.html" title="class in org.apache.lucene.search"><code>DisjunctionMaxQuery</code></a> out of the sub queries.</div>
</div>
<div class="col-first odd-row-color class-summary class-summary-tab2"><a href="BlendedTermQuery.RewriteMethod.html" title="class in org.apache.lucene.search">BlendedTermQuery.RewriteMethod</a></div>
<div class="col-last odd-row-color class-summary class-summary-tab2">
<div class="block">A <a href="BlendedTermQuery.RewriteMethod.html" title="class in org.apache.lucene.search"><code>BlendedTermQuery.RewriteMethod</code></a> defines how queries for individual terms should be merged.</div>
</div>
<div class="col-first even-row-color class-summary class-summary-tab4"><a href="BooleanClause.html" title="class in org.apache.lucene.search">BooleanClause</a></div>
<div class="col-last even-row-color class-summary class-summary-tab4">
<div class="block">A clause in a BooleanQuery.</div>
</div>
<div class="col-first odd-row-color class-summary class-summary-tab3"><a href="BooleanClause.Occur.html" title="enum class in org.apache.lucene.search">BooleanClause.Occur</a></div>
<div class="col-last odd-row-color class-summary class-summary-tab3">
<div class="block">Specifies how clauses are to occur in matching documents.</div>
</div>
<div class="col-first even-row-color class-summary class-summary-tab2"><a href="BooleanQuery.html" title="class in org.apache.lucene.search">BooleanQuery</a></div>
<div class="col-last even-row-color class-summary class-summary-tab2">
<div class="block">A Query that matches documents matching boolean combinations of other queries, e.g.</div>
</div>
<div class="col-first odd-row-color class-summary class-summary-tab2"><a href="BooleanQuery.Builder.html" title="class in org.apache.lucene.search">BooleanQuery.Builder</a></div>
<div class="col-last odd-row-color class-summary class-summary-tab2">
<div class="block">A builder for boolean queries.</div>
</div>
<div class="col-first even-row-color class-summary class-summary-tab1"><a href="BoostAttribute.html" title="interface in org.apache.lucene.search">BoostAttribute</a></div>
<div class="col-last even-row-color class-summary class-summary-tab1">
<div class="block">Add this <a href="../util/Attribute.html" title="interface in org.apache.lucene.util"><code>Attribute</code></a> to a <a href="../index/TermsEnum.html" title="class in org.apache.lucene.index"><code>TermsEnum</code></a> returned by <a href="MultiTermQuery.html#getTermsEnum(org.apache.lucene.index.Terms,org.apache.lucene.util.AttributeSource)"><code>MultiTermQuery.getTermsEnum(Terms,AttributeSource)</code></a> and update the boost on each returned term.</div>
</div>
<div class="col-first odd-row-color class-summary class-summary-tab2"><a href="BoostAttributeImpl.html" title="class in org.apache.lucene.search">BoostAttributeImpl</a></div>
<div class="col-last odd-row-color class-summary class-summary-tab2">
<div class="block">Implementation class for <a href="BoostAttribute.html" title="interface in org.apache.lucene.search"><code>BoostAttribute</code></a>.</div>
</div>
<div class="col-first even-row-color class-summary class-summary-tab2"><a href="BoostQuery.html" title="class in org.apache.lucene.search">BoostQuery</a></div>
<div class="col-last even-row-color class-summary class-summary-tab2">
<div class="block">A <a href="Query.html" title="class in org.apache.lucene.search"><code>Query</code></a> wrapper that allows to give a boost to the wrapped query.</div>
</div>
<div class="col-first odd-row-color class-summary class-summary-tab2"><a href="BulkScorer.html" title="class in org.apache.lucene.search">BulkScorer</a></div>
<div class="col-last odd-row-color class-summary class-summary-tab2">
<div class="block">This class is used to score a range of documents at once, and is returned by <a href="Weight.html#bulkScorer(org.apache.lucene.index.LeafReaderContext)"><code>Weight.bulkScorer(org.apache.lucene.index.LeafReaderContext)</code></a>.</div>
</div>
<div class="col-first even-row-color class-summary class-summary-tab2"><a href="ByteVectorSimilarityQuery.html" title="class in org.apache.lucene.search">ByteVectorSimilarityQuery</a></div>
<div class="col-last even-row-color class-summary class-summary-tab2">
<div class="block">Search for all (approximate) byte vectors above a similarity threshold.</div>
</div>
<div class="col-first odd-row-color class-summary class-summary-tab2"><a href="CachingCollector.html" title="class in org.apache.lucene.search">CachingCollector</a></div>
<div class="col-last odd-row-color class-summary class-summary-tab2">
<div class="block">Caches all docs, and optionally also scores, coming from a search, and is then able to replay
 them to another collector.</div>
</div>
<div class="col-first even-row-color class-summary class-summary-tab1"><a href="CheckedIntConsumer.html" title="interface in org.apache.lucene.search">CheckedIntConsumer</a>&lt;T extends <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Exception.html" title="class or interface in java.lang" class="external-link">Exception</a>&gt;</div>
<div class="col-last even-row-color class-summary class-summary-tab1">
<div class="block">Like <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/function/IntConsumer.html" title="class or interface in java.util.function" class="external-link"><code>IntConsumer</code></a>, but may throw checked exceptions.</div>
</div>
<div class="col-first odd-row-color class-summary class-summary-tab4"><a href="CollectionStatistics.html" title="class in org.apache.lucene.search">CollectionStatistics</a></div>
<div class="col-last odd-row-color class-summary class-summary-tab4">
<div class="block">Contains statistics for a collection (field).</div>
</div>
<div class="col-first even-row-color class-summary class-summary-tab5"><a href="CollectionTerminatedException.html" title="class in org.apache.lucene.search">CollectionTerminatedException</a></div>
<div class="col-last even-row-color class-summary class-summary-tab5">
<div class="block">Throw this exception in <a href="LeafCollector.html#collect(int)"><code>LeafCollector.collect(int)</code></a> to prematurely terminate collection of
 the current leaf.</div>
</div>
<div class="col-first odd-row-color class-summary class-summary-tab1"><a href="Collector.html" title="interface in org.apache.lucene.search">Collector</a></div>
<div class="col-last odd-row-color class-summary class-summary-tab1">
<div class="block">Expert: Collectors are primarily meant to be used to gather raw results from a search, and
 implement sorting or custom result filtering, collation, etc.</div>
</div>
<div class="col-first even-row-color class-summary class-summary-tab1"><a href="CollectorManager.html" title="interface in org.apache.lucene.search">CollectorManager</a>&lt;C extends <a href="Collector.html" title="interface in org.apache.lucene.search">Collector</a>,<wbr>T&gt;</div>
<div class="col-last even-row-color class-summary class-summary-tab1">
<div class="block">A manager of collectors.</div>
</div>
<div class="col-first odd-row-color class-summary class-summary-tab2"><a href="CombinedFieldQuery.html" title="class in org.apache.lucene.search">CombinedFieldQuery</a></div>
<div class="col-last odd-row-color class-summary class-summary-tab2">
<div class="block">A <a href="Query.html" title="class in org.apache.lucene.search"><code>Query</code></a> that treats multiple fields as a single stream and scores terms as if they had
 been indexed in a single field whose values would be the union of the values of the provided
 fields.</div>
</div>
<div class="col-first even-row-color class-summary class-summary-tab2"><a href="CombinedFieldQuery.Builder.html" title="class in org.apache.lucene.search">CombinedFieldQuery.Builder</a></div>
<div class="col-last even-row-color class-summary class-summary-tab2">
<div class="block">A builder for <a href="CombinedFieldQuery.html" title="class in org.apache.lucene.search"><code>CombinedFieldQuery</code></a>.</div>
</div>
<div class="col-first odd-row-color class-summary class-summary-tab2"><a href="ConjunctionUtils.html" title="class in org.apache.lucene.search">ConjunctionUtils</a></div>
<div class="col-last odd-row-color class-summary class-summary-tab2">
<div class="block">Helper methods for building conjunction iterators</div>
</div>
<div class="col-first even-row-color class-summary class-summary-tab2"><a href="ConstantScoreQuery.html" title="class in org.apache.lucene.search">ConstantScoreQuery</a></div>
<div class="col-last even-row-color class-summary class-summary-tab2">
<div class="block">A query that wraps another query and simply returns a constant score equal to 1 for every
 document that matches the query.</div>
</div>
<div class="col-first odd-row-color class-summary class-summary-tab2"><a href="ConstantScoreQuery.ConstantBulkScorer.html" title="class in org.apache.lucene.search">ConstantScoreQuery.ConstantBulkScorer</a></div>
<div class="col-last odd-row-color class-summary class-summary-tab2">
<div class="block">We return this as our <a href="BulkScorer.html" title="class in org.apache.lucene.search"><code>BulkScorer</code></a> so that if the CSQ wraps a query with its own
 optimized top-level scorer (e.g.</div>
</div>
<div class="col-first even-row-color class-summary class-summary-tab2"><a href="ConstantScoreScorer.html" title="class in org.apache.lucene.search">ConstantScoreScorer</a></div>
<div class="col-last even-row-color class-summary class-summary-tab2">
<div class="block">A constant-scoring <a href="Scorer.html" title="class in org.apache.lucene.search"><code>Scorer</code></a>.</div>
</div>
<div class="col-first odd-row-color class-summary class-summary-tab2"><a href="ConstantScoreScorerSupplier.html" title="class in org.apache.lucene.search">ConstantScoreScorerSupplier</a></div>
<div class="col-last odd-row-color class-summary class-summary-tab2">
<div class="block">Specialization of <a href="ScorerSupplier.html" title="class in org.apache.lucene.search"><code>ScorerSupplier</code></a> for queries that produce constant scores.</div>
</div>
<div class="col-first even-row-color class-summary class-summary-tab2"><a href="ConstantScoreWeight.html" title="class in org.apache.lucene.search">ConstantScoreWeight</a></div>
<div class="col-last even-row-color class-summary class-summary-tab2">
<div class="block">A Weight that has a constant score equal to the boost of the wrapped query.</div>
</div>
<div class="col-first odd-row-color class-summary class-summary-tab2"><a href="ControlledRealTimeReopenThread.html" title="class in org.apache.lucene.search">ControlledRealTimeReopenThread</a>&lt;T&gt;</div>
<div class="col-last odd-row-color class-summary class-summary-tab2">
<div class="block">Utility class that runs a thread to manage periodicc reopens of a <a href="ReferenceManager.html" title="class in org.apache.lucene.search"><code>ReferenceManager</code></a>, with
 methods to wait for a specific index changes to become visible.</div>
</div>
<div class="col-first even-row-color class-summary class-summary-tab2"><a href="DisiPriorityQueue.html" title="class in org.apache.lucene.search">DisiPriorityQueue</a></div>
<div class="col-last even-row-color class-summary class-summary-tab2">
<div class="block">A priority queue of DocIdSetIterators that orders by current doc ID.</div>
</div>
<div class="col-first odd-row-color class-summary class-summary-tab2"><a href="DisiWrapper.html" title="class in org.apache.lucene.search">DisiWrapper</a></div>
<div class="col-last odd-row-color class-summary class-summary-tab2">
<div class="block">Wrapper used in <a href="DisiPriorityQueue.html" title="class in org.apache.lucene.search"><code>DisiPriorityQueue</code></a>.</div>
</div>
<div class="col-first even-row-color class-summary class-summary-tab2"><a href="DisjunctionDISIApproximation.html" title="class in org.apache.lucene.search">DisjunctionDISIApproximation</a></div>
<div class="col-last even-row-color class-summary class-summary-tab2">
<div class="block">A <a href="DocIdSetIterator.html" title="class in org.apache.lucene.search"><code>DocIdSetIterator</code></a> which is a disjunction of the approximations of the provided
 iterators.</div>
</div>
<div class="col-first odd-row-color class-summary class-summary-tab2"><a href="DisjunctionMaxQuery.html" title="class in org.apache.lucene.search">DisjunctionMaxQuery</a></div>
<div class="col-last odd-row-color class-summary class-summary-tab2">
<div class="block">A query that generates the union of documents produced by its subqueries, and that scores each
 document with the maximum score for that document as produced by any subquery, plus a tie
 breaking increment for any additional matching subqueries.</div>
</div>
<div class="col-first even-row-color class-summary class-summary-tab2"><a href="DocIdSet.html" title="class in org.apache.lucene.search">DocIdSet</a></div>
<div class="col-last even-row-color class-summary class-summary-tab2">
<div class="block">A DocIdSet contains a set of doc ids.</div>
</div>
<div class="col-first odd-row-color class-summary class-summary-tab2"><a href="DocIdSetBulkIterator.html" title="class in org.apache.lucene.search">DocIdSetBulkIterator</a></div>
<div class="col-last odd-row-color class-summary class-summary-tab2">
<div class="block">Bulk iterator over a <a href="DocIdSetIterator.html" title="class in org.apache.lucene.search"><code>DocIdSetIterator</code></a>.</div>
</div>
<div class="col-first even-row-color class-summary class-summary-tab2"><a href="DocIdSetIterator.html" title="class in org.apache.lucene.search">DocIdSetIterator</a></div>
<div class="col-last even-row-color class-summary class-summary-tab2">
<div class="block">This abstract class defines methods to iterate over a set of non-decreasing doc ids.</div>
</div>
<div class="col-first odd-row-color class-summary class-summary-tab2"><a href="DocIdStream.html" title="class in org.apache.lucene.search">DocIdStream</a></div>
<div class="col-last odd-row-color class-summary class-summary-tab2">
<div class="block">A stream of doc IDs.</div>
</div>
<div class="col-first even-row-color class-summary class-summary-tab2"><a href="DocValuesRangeIterator.html" title="class in org.apache.lucene.search">DocValuesRangeIterator</a></div>
<div class="col-last even-row-color class-summary class-summary-tab2">
<div class="block">Wrapper around a <a href="TwoPhaseIterator.html" title="class in org.apache.lucene.search"><code>TwoPhaseIterator</code></a> for a doc-values range query that speeds things up by
 taking advantage of a <a href="../index/DocValuesSkipper.html" title="class in org.apache.lucene.index"><code>DocValuesSkipper</code></a>.</div>
</div>
<div class="col-first odd-row-color class-summary class-summary-tab2"><a href="DocValuesRewriteMethod.html" title="class in org.apache.lucene.search">DocValuesRewriteMethod</a></div>
<div class="col-last odd-row-color class-summary class-summary-tab2">
<div class="block">Rewrites MultiTermQueries into a filter, using DocValues for term enumeration.</div>
</div>
<div class="col-first even-row-color class-summary class-summary-tab2"><a href="DoubleValues.html" title="class in org.apache.lucene.search">DoubleValues</a></div>
<div class="col-last even-row-color class-summary class-summary-tab2">
<div class="block">Per-segment, per-document double values, which can be calculated at search-time</div>
</div>
<div class="col-first odd-row-color class-summary class-summary-tab2"><a href="DoubleValuesSource.html" title="class in org.apache.lucene.search">DoubleValuesSource</a></div>
<div class="col-last odd-row-color class-summary class-summary-tab2">
<div class="block">Base class for producing <a href="DoubleValues.html" title="class in org.apache.lucene.search"><code>DoubleValues</code></a></div>
</div>
<div class="col-first even-row-color class-summary class-summary-tab2"><a href="ExactPhraseMatcher.html" title="class in org.apache.lucene.search">ExactPhraseMatcher</a></div>
<div class="col-last even-row-color class-summary class-summary-tab2">
<div class="block">Expert: Find exact phrases</div>
</div>
<div class="col-first odd-row-color class-summary class-summary-tab2"><a href="Explanation.html" title="class in org.apache.lucene.search">Explanation</a></div>
<div class="col-last odd-row-color class-summary class-summary-tab2">
<div class="block">Expert: Describes the score computation for document and query.</div>
</div>
<div class="col-first even-row-color class-summary class-summary-tab2"><a href="FieldComparator.html" title="class in org.apache.lucene.search">FieldComparator</a>&lt;T&gt;</div>
<div class="col-last even-row-color class-summary class-summary-tab2">
<div class="block">Expert: a FieldComparator compares hits so as to determine their sort order when collecting the
 top results with <a href="TopFieldCollector.html" title="class in org.apache.lucene.search"><code>TopFieldCollector</code></a>.</div>
</div>
<div class="col-first odd-row-color class-summary class-summary-tab2"><a href="FieldComparator.RelevanceComparator.html" title="class in org.apache.lucene.search">FieldComparator.RelevanceComparator</a></div>
<div class="col-last odd-row-color class-summary class-summary-tab2">
<div class="block">Sorts by descending relevance.</div>
</div>
<div class="col-first even-row-color class-summary class-summary-tab2"><a href="FieldComparator.TermValComparator.html" title="class in org.apache.lucene.search">FieldComparator.TermValComparator</a></div>
<div class="col-last even-row-color class-summary class-summary-tab2">
<div class="block">Sorts by field's natural Term sort order.</div>
</div>
<div class="col-first odd-row-color class-summary class-summary-tab2"><a href="FieldComparatorSource.html" title="class in org.apache.lucene.search">FieldComparatorSource</a></div>
<div class="col-last odd-row-color class-summary class-summary-tab2">
<div class="block">Provides a <a href="FieldComparator.html" title="class in org.apache.lucene.search"><code>FieldComparator</code></a> for custom field sorting.</div>
</div>
<div class="col-first even-row-color class-summary class-summary-tab2"><a href="FieldDoc.html" title="class in org.apache.lucene.search">FieldDoc</a></div>
<div class="col-last even-row-color class-summary class-summary-tab2">
<div class="block">Expert: A ScoreDoc which also contains information about how to sort the referenced document.</div>
</div>
<div class="col-first odd-row-color class-summary class-summary-tab2"><a href="FieldExistsQuery.html" title="class in org.apache.lucene.search">FieldExistsQuery</a></div>
<div class="col-last odd-row-color class-summary class-summary-tab2">
<div class="block">A <a href="Query.html" title="class in org.apache.lucene.search"><code>Query</code></a> that matches documents that contain either a <a href="../document/KnnFloatVectorField.html" title="class in org.apache.lucene.document"><code>KnnFloatVectorField</code></a>, <a href="../document/KnnByteVectorField.html" title="class in org.apache.lucene.document"><code>KnnByteVectorField</code></a> or a field that indexes norms or doc values.</div>
</div>
<div class="col-first even-row-color class-summary class-summary-tab2"><a href="FieldValueHitQueue.html" title="class in org.apache.lucene.search">FieldValueHitQueue</a>&lt;T extends <a href="FieldValueHitQueue.Entry.html" title="class in org.apache.lucene.search">FieldValueHitQueue.Entry</a>&gt;</div>
<div class="col-last even-row-color class-summary class-summary-tab2">
<div class="block">Expert: A hit queue for sorting by hits by terms in more than one field.</div>
</div>
<div class="col-first odd-row-color class-summary class-summary-tab2"><a href="FieldValueHitQueue.Entry.html" title="class in org.apache.lucene.search">FieldValueHitQueue.Entry</a></div>
<div class="col-last odd-row-color class-summary class-summary-tab2">
<div class="block">Extension of ScoreDoc to also store the <a href="FieldComparator.html" title="class in org.apache.lucene.search"><code>FieldComparator</code></a> slot.</div>
</div>
<div class="col-first even-row-color class-summary class-summary-tab2"><a href="FilterCollector.html" title="class in org.apache.lucene.search">FilterCollector</a></div>
<div class="col-last even-row-color class-summary class-summary-tab2">
<div class="block"><a href="Collector.html" title="interface in org.apache.lucene.search"><code>Collector</code></a> delegator.</div>
</div>
<div class="col-first odd-row-color class-summary class-summary-tab2"><a href="FilterDocIdSetIterator.html" title="class in org.apache.lucene.search">FilterDocIdSetIterator</a></div>
<div class="col-last odd-row-color class-summary class-summary-tab2">
<div class="block">Wrapper around a <a href="DocIdSetIterator.html" title="class in org.apache.lucene.search"><code>DocIdSetIterator</code></a>.</div>
</div>
<div class="col-first even-row-color class-summary class-summary-tab2"><a href="FilteredDocIdSetIterator.html" title="class in org.apache.lucene.search">FilteredDocIdSetIterator</a></div>
<div class="col-last even-row-color class-summary class-summary-tab2">
<div class="block">Abstract decorator class of a DocIdSetIterator implementation that provides on-demand
 filter/validation mechanism on an underlying DocIdSetIterator.</div>
</div>
<div class="col-first odd-row-color class-summary class-summary-tab2"><a href="FilterLeafCollector.html" title="class in org.apache.lucene.search">FilterLeafCollector</a></div>
<div class="col-last odd-row-color class-summary class-summary-tab2">
<div class="block"><a href="LeafCollector.html" title="interface in org.apache.lucene.search"><code>LeafCollector</code></a> delegator.</div>
</div>
<div class="col-first even-row-color class-summary class-summary-tab2"><a href="FilterMatchesIterator.html" title="class in org.apache.lucene.search">FilterMatchesIterator</a></div>
<div class="col-last even-row-color class-summary class-summary-tab2">
<div class="block">A MatchesIterator that delegates all calls to another MatchesIterator</div>
</div>
<div class="col-first odd-row-color class-summary class-summary-tab2"><a href="FilterScorable.html" title="class in org.apache.lucene.search">FilterScorable</a></div>
<div class="col-last odd-row-color class-summary class-summary-tab2">
<div class="block">Filter a <a href="Scorable.html" title="class in org.apache.lucene.search"><code>Scorable</code></a>, intercepting methods and optionally changing their return values</div>
</div>
<div class="col-first even-row-color class-summary class-summary-tab2"><a href="FilterScorer.html" title="class in org.apache.lucene.search">FilterScorer</a></div>
<div class="col-last even-row-color class-summary class-summary-tab2">
<div class="block">A <code>FilterScorer</code> contains another <code>Scorer</code>, which it uses as its basic source of
 data, possibly transforming the data along the way or providing additional functionality.</div>
</div>
<div class="col-first odd-row-color class-summary class-summary-tab2"><a href="FilterWeight.html" title="class in org.apache.lucene.search">FilterWeight</a></div>
<div class="col-last odd-row-color class-summary class-summary-tab2">
<div class="block">A <code>FilterWeight</code> contains another <code>Weight</code> and implements all abstract methods by
 calling the contained weight's method.</div>
</div>
<div class="col-first even-row-color class-summary class-summary-tab2"><a href="FloatVectorSimilarityQuery.html" title="class in org.apache.lucene.search">FloatVectorSimilarityQuery</a></div>
<div class="col-last even-row-color class-summary class-summary-tab2">
<div class="block">Search for all (approximate) float vectors above a similarity threshold.</div>
</div>
<div class="col-first odd-row-color class-summary class-summary-tab2"><a href="FuzzyQuery.html" title="class in org.apache.lucene.search">FuzzyQuery</a></div>
<div class="col-last odd-row-color class-summary class-summary-tab2">
<div class="block">Implements the fuzzy search query.</div>
</div>
<div class="col-first even-row-color class-summary class-summary-tab2"><a href="FuzzyTermsEnum.html" title="class in org.apache.lucene.search">FuzzyTermsEnum</a></div>
<div class="col-last even-row-color class-summary class-summary-tab2">
<div class="block">Subclass of TermsEnum for enumerating all terms that are similar to the specified filter term.</div>
</div>
<div class="col-first odd-row-color class-summary class-summary-tab5"><a href="FuzzyTermsEnum.FuzzyTermsException.html" title="class in org.apache.lucene.search">FuzzyTermsEnum.FuzzyTermsException</a></div>
<div class="col-last odd-row-color class-summary class-summary-tab5">
<div class="block">Thrown to indicate that there was an issue creating a fuzzy query for a given term.</div>
</div>
<div class="col-first even-row-color class-summary class-summary-tab2"><a href="HitQueue.html" title="class in org.apache.lucene.search">HitQueue</a></div>
<div class="col-last even-row-color class-summary class-summary-tab2">
<div class="block">Expert: Priority queue containing hit docs</div>
</div>
<div class="col-first odd-row-color class-summary class-summary-tab2"><a href="HnswQueueSaturationCollector.html" title="class in org.apache.lucene.search">HnswQueueSaturationCollector</a></div>
<div class="col-last odd-row-color class-summary class-summary-tab2">
<div class="block">A <a href="KnnCollector.Decorator.html" title="class in org.apache.lucene.search"><code>KnnCollector.Decorator</code></a> that early exits when nearest neighbor queue keeps saturating
 beyond a 'patience' parameter.</div>
</div>
<div class="col-first even-row-color class-summary class-summary-tab2"><a href="ImpactsDISI.html" title="class in org.apache.lucene.search">ImpactsDISI</a></div>
<div class="col-last even-row-color class-summary class-summary-tab2">
<div class="block"><a href="DocIdSetIterator.html" title="class in org.apache.lucene.search"><code>DocIdSetIterator</code></a> that skips non-competitive docs thanks to the indexed impacts.</div>
</div>
<div class="col-first odd-row-color class-summary class-summary-tab2"><a href="IndexOrDocValuesQuery.html" title="class in org.apache.lucene.search">IndexOrDocValuesQuery</a></div>
<div class="col-last odd-row-color class-summary class-summary-tab2">
<div class="block">A query that uses either an index structure (points or terms) or doc values in order to run a
 query, depending which one is more efficient.</div>
</div>
<div class="col-first even-row-color class-summary class-summary-tab2"><a href="IndexSearcher.html" title="class in org.apache.lucene.search">IndexSearcher</a></div>
<div class="col-last even-row-color class-summary class-summary-tab2">
<div class="block">Implements search over a single IndexReader.</div>
</div>
<div class="col-first odd-row-color class-summary class-summary-tab2"><a href="IndexSearcher.LeafReaderContextPartition.html" title="class in org.apache.lucene.search">IndexSearcher.LeafReaderContextPartition</a></div>
<div class="col-last odd-row-color class-summary class-summary-tab2">
<div class="block">Holds information about a specific leaf context and the corresponding range of doc ids to
 search within.</div>
</div>
<div class="col-first even-row-color class-summary class-summary-tab2"><a href="IndexSearcher.LeafSlice.html" title="class in org.apache.lucene.search">IndexSearcher.LeafSlice</a></div>
<div class="col-last even-row-color class-summary class-summary-tab2">
<div class="block">A class holding a subset of the <a href="IndexSearcher.html" title="class in org.apache.lucene.search"><code>IndexSearcher</code></a>s leaf contexts to be executed within a
 single thread.</div>
</div>
<div class="col-first odd-row-color class-summary class-summary-tab5"><a href="IndexSearcher.TooManyClauses.html" title="class in org.apache.lucene.search">IndexSearcher.TooManyClauses</a></div>
<div class="col-last odd-row-color class-summary class-summary-tab5">
<div class="block">Thrown when an attempt is made to add more than <a href="IndexSearcher.TooManyClauses.html#getMaxClauseCount()"><code>IndexSearcher.TooManyClauses.getMaxClauseCount()</code></a> clauses.</div>
</div>
<div class="col-first even-row-color class-summary class-summary-tab5"><a href="IndexSearcher.TooManyNestedClauses.html" title="class in org.apache.lucene.search">IndexSearcher.TooManyNestedClauses</a></div>
<div class="col-last even-row-color class-summary class-summary-tab5">
<div class="block">Thrown when a client attempts to execute a Query that has more than <a href="IndexSearcher.TooManyClauses.html#getMaxClauseCount()"><code>IndexSearcher.TooManyClauses.getMaxClauseCount()</code></a> total clauses cumulatively in all of its children.</div>
</div>
<div class="col-first odd-row-color class-summary class-summary-tab2"><a href="IndexSortSortedNumericDocValuesRangeQuery.html" title="class in org.apache.lucene.search">IndexSortSortedNumericDocValuesRangeQuery</a></div>
<div class="col-last odd-row-color class-summary class-summary-tab2">
<div class="block">A range query that can take advantage of the fact that the index is sorted to speed up execution.</div>
</div>
<div class="col-first even-row-color class-summary class-summary-tab2"><a href="IndriAndQuery.html" title="class in org.apache.lucene.search">IndriAndQuery</a></div>
<div class="col-last even-row-color class-summary class-summary-tab2">
<div class="block">A Query that matches documents matching combinations of subqueries.</div>
</div>
<div class="col-first odd-row-color class-summary class-summary-tab2"><a href="IndriAndScorer.html" title="class in org.apache.lucene.search">IndriAndScorer</a></div>
<div class="col-last odd-row-color class-summary class-summary-tab2">
<div class="block">Combines scores of subscorers.</div>
</div>
<div class="col-first even-row-color class-summary class-summary-tab2"><a href="IndriAndWeight.html" title="class in org.apache.lucene.search">IndriAndWeight</a></div>
<div class="col-last even-row-color class-summary class-summary-tab2">
<div class="block">The Weight for IndriAndQuery, used to normalize, score and explain these queries.</div>
</div>
<div class="col-first odd-row-color class-summary class-summary-tab2"><a href="IndriDisjunctionScorer.html" title="class in org.apache.lucene.search">IndriDisjunctionScorer</a></div>
<div class="col-last odd-row-color class-summary class-summary-tab2">
<div class="block">The Indri implemenation of a disjunction scorer which stores the subscorers for the child
 queries.</div>
</div>
<div class="col-first even-row-color class-summary class-summary-tab2"><a href="IndriQuery.html" title="class in org.apache.lucene.search">IndriQuery</a></div>
<div class="col-last even-row-color class-summary class-summary-tab2">
<div class="block">A Basic abstract query that all IndriQueries can extend to implement toString, equals,
 getClauses, and iterator.</div>
</div>
<div class="col-first odd-row-color class-summary class-summary-tab2"><a href="IndriScorer.html" title="class in org.apache.lucene.search">IndriScorer</a></div>
<div class="col-last odd-row-color class-summary class-summary-tab2">
<div class="block">The Indri parent scorer that stores the boost so that IndriScorers can use the boost outside of
 the term.</div>
</div>
<div class="col-first even-row-color class-summary class-summary-tab2"><a href="KnnByteVectorQuery.html" title="class in org.apache.lucene.search">KnnByteVectorQuery</a></div>
<div class="col-last even-row-color class-summary class-summary-tab2">
<div class="block">Uses <a href="../codecs/KnnVectorsReader.html#search(java.lang.String,byte%5B%5D,org.apache.lucene.search.KnnCollector,org.apache.lucene.util.Bits)"><code>KnnVectorsReader.search(String, byte[], KnnCollector, Bits)</code></a> to perform nearest
 neighbour search.</div>
</div>
<div class="col-first odd-row-color class-summary class-summary-tab1"><a href="KnnCollector.html" title="interface in org.apache.lucene.search">KnnCollector</a></div>
<div class="col-last odd-row-color class-summary class-summary-tab1">
<div class="block">KnnCollector is a knn collector used for gathering kNN results and providing topDocs from the
 gathered neighbors</div>
</div>
<div class="col-first even-row-color class-summary class-summary-tab2"><a href="KnnCollector.Decorator.html" title="class in org.apache.lucene.search">KnnCollector.Decorator</a></div>
<div class="col-last even-row-color class-summary class-summary-tab2">
<div class="block">KnnCollector.Decorator is the base class for decorators of KnnCollector objects, which extend
 the object with new behaviors.</div>
</div>
<div class="col-first odd-row-color class-summary class-summary-tab2"><a href="KnnFloatVectorQuery.html" title="class in org.apache.lucene.search">KnnFloatVectorQuery</a></div>
<div class="col-last odd-row-color class-summary class-summary-tab2">
<div class="block">Uses <a href="../codecs/KnnVectorsReader.html#search(java.lang.String,float%5B%5D,org.apache.lucene.search.KnnCollector,org.apache.lucene.util.Bits)"><code>KnnVectorsReader.search(String, float[], KnnCollector, Bits)</code></a> to perform nearest
 neighbour search.</div>
</div>
<div class="col-first even-row-color class-summary class-summary-tab1"><a href="LeafCollector.html" title="interface in org.apache.lucene.search">LeafCollector</a></div>
<div class="col-last even-row-color class-summary class-summary-tab1">
<div class="block">Collector decouples the score from the collected doc: the score computation is skipped entirely
 if it's not needed.</div>
</div>
<div class="col-first odd-row-color class-summary class-summary-tab1"><a href="LeafFieldComparator.html" title="interface in org.apache.lucene.search">LeafFieldComparator</a></div>
<div class="col-last odd-row-color class-summary class-summary-tab1">
<div class="block">Expert: comparator that gets instantiated on each leaf from a top-level <a href="FieldComparator.html" title="class in org.apache.lucene.search"><code>FieldComparator</code></a>
 instance.</div>
</div>
<div class="col-first even-row-color class-summary class-summary-tab2"><a href="LiveFieldValues.html" title="class in org.apache.lucene.search">LiveFieldValues</a>&lt;S,<wbr>T&gt;</div>
<div class="col-last even-row-color class-summary class-summary-tab2">
<div class="block">Tracks live field values across NRT reader reopens.</div>
</div>
<div class="col-first odd-row-color class-summary class-summary-tab2"><a href="LongValues.html" title="class in org.apache.lucene.search">LongValues</a></div>
<div class="col-last odd-row-color class-summary class-summary-tab2">
<div class="block">Per-segment, per-document long values, which can be calculated at search-time</div>
</div>
<div class="col-first even-row-color class-summary class-summary-tab2"><a href="LongValuesSource.html" title="class in org.apache.lucene.search">LongValuesSource</a></div>
<div class="col-last even-row-color class-summary class-summary-tab2">
<div class="block">Base class for producing <a href="LongValues.html" title="class in org.apache.lucene.search"><code>LongValues</code></a></div>
</div>
<div class="col-first odd-row-color class-summary class-summary-tab2"><a href="LongValuesSource.ConstantLongValuesSource.html" title="class in org.apache.lucene.search">LongValuesSource.ConstantLongValuesSource</a></div>
<div class="col-last odd-row-color class-summary class-summary-tab2">
<div class="block">A ConstantLongValuesSource that always returns a constant value</div>
</div>
<div class="col-first even-row-color class-summary class-summary-tab2"><a href="LRUQueryCache.html" title="class in org.apache.lucene.search">LRUQueryCache</a></div>
<div class="col-last even-row-color class-summary class-summary-tab2">
<div class="block">A <a href="QueryCache.html" title="interface in org.apache.lucene.search"><code>QueryCache</code></a> that evicts queries using a LRU (least-recently-used) eviction policy in
 order to remain under a given maximum size and number of bytes used.</div>
</div>
<div class="col-first odd-row-color class-summary class-summary-tab2"><a href="LRUQueryCache.CacheAndCount.html" title="class in org.apache.lucene.search">LRUQueryCache.CacheAndCount</a></div>
<div class="col-last odd-row-color class-summary class-summary-tab2">
<div class="block">Cache of doc ids with a count.</div>
</div>
<div class="col-first even-row-color class-summary class-summary-tab2"><a href="MatchAllDocsQuery.html" title="class in org.apache.lucene.search">MatchAllDocsQuery</a></div>
<div class="col-last even-row-color class-summary class-summary-tab2">
<div class="block">A query that matches all documents.</div>
</div>
<div class="col-first odd-row-color class-summary class-summary-tab1"><a href="Matches.html" title="interface in org.apache.lucene.search">Matches</a></div>
<div class="col-last odd-row-color class-summary class-summary-tab1">
<div class="block">Reports the positions and optionally offsets of all matching terms in a query for a single
 document</div>
</div>
<div class="col-first even-row-color class-summary class-summary-tab1"><a href="MatchesIterator.html" title="interface in org.apache.lucene.search">MatchesIterator</a></div>
<div class="col-last even-row-color class-summary class-summary-tab1">
<div class="block">An iterator over match positions (and optionally offsets) for a single document and field</div>
</div>
<div class="col-first odd-row-color class-summary class-summary-tab2"><a href="MatchesUtils.html" title="class in org.apache.lucene.search">MatchesUtils</a></div>
<div class="col-last odd-row-color class-summary class-summary-tab2">
<div class="block">Contains static functions that aid the implementation of <a href="Matches.html" title="interface in org.apache.lucene.search"><code>Matches</code></a> and <a href="MatchesIterator.html" title="interface in org.apache.lucene.search"><code>MatchesIterator</code></a> interfaces.</div>
</div>
<div class="col-first even-row-color class-summary class-summary-tab2"><a href="MatchNoDocsQuery.html" title="class in org.apache.lucene.search">MatchNoDocsQuery</a></div>
<div class="col-last even-row-color class-summary class-summary-tab2">
<div class="block">A query that matches no documents.</div>
</div>
<div class="col-first odd-row-color class-summary class-summary-tab1"><a href="MaxNonCompetitiveBoostAttribute.html" title="interface in org.apache.lucene.search">MaxNonCompetitiveBoostAttribute</a></div>
<div class="col-last odd-row-color class-summary class-summary-tab1">
<div class="block">Add this <a href="../util/Attribute.html" title="interface in org.apache.lucene.util"><code>Attribute</code></a> to a fresh <a href="../util/AttributeSource.html" title="class in org.apache.lucene.util"><code>AttributeSource</code></a> before calling <a href="MultiTermQuery.html#getTermsEnum(org.apache.lucene.index.Terms,org.apache.lucene.util.AttributeSource)"><code>MultiTermQuery.getTermsEnum(Terms,AttributeSource)</code></a>.</div>
</div>
<div class="col-first even-row-color class-summary class-summary-tab2"><a href="MaxNonCompetitiveBoostAttributeImpl.html" title="class in org.apache.lucene.search">MaxNonCompetitiveBoostAttributeImpl</a></div>
<div class="col-last even-row-color class-summary class-summary-tab2">
<div class="block">Implementation class for <a href="MaxNonCompetitiveBoostAttribute.html" title="interface in org.apache.lucene.search"><code>MaxNonCompetitiveBoostAttribute</code></a>.</div>
</div>
<div class="col-first odd-row-color class-summary class-summary-tab2"><a href="MaxScoreCache.html" title="class in org.apache.lucene.search">MaxScoreCache</a></div>
<div class="col-last odd-row-color class-summary class-summary-tab2">
<div class="block">Compute maximum scores based on <a href="../index/Impacts.html" title="class in org.apache.lucene.index"><code>Impacts</code></a> and keep them in a cache in order not to run
 expensive similarity score computations multiple times on the same data.</div>
</div>
<div class="col-first even-row-color class-summary class-summary-tab2"><a href="MultiCollector.html" title="class in org.apache.lucene.search">MultiCollector</a></div>
<div class="col-last even-row-color class-summary class-summary-tab2">
<div class="block">A <a href="Collector.html" title="interface in org.apache.lucene.search"><code>Collector</code></a> which allows running a search with several <a href="Collector.html" title="interface in org.apache.lucene.search"><code>Collector</code></a>s.</div>
</div>
<div class="col-first odd-row-color class-summary class-summary-tab2"><a href="MultiCollectorManager.html" title="class in org.apache.lucene.search">MultiCollectorManager</a></div>
<div class="col-last odd-row-color class-summary class-summary-tab2">
<div class="block">A <a href="CollectorManager.html" title="interface in org.apache.lucene.search"><code>CollectorManager</code></a> implements which wrap a set of <a href="CollectorManager.html" title="interface in org.apache.lucene.search"><code>CollectorManager</code></a> as <a href="MultiCollector.html" title="class in org.apache.lucene.search"><code>MultiCollector</code></a> acts for <a href="Collector.html" title="interface in org.apache.lucene.search"><code>Collector</code></a>.</div>
</div>
<div class="col-first even-row-color class-summary class-summary-tab2"><a href="MultiPhraseQuery.html" title="class in org.apache.lucene.search">MultiPhraseQuery</a></div>
<div class="col-last even-row-color class-summary class-summary-tab2">
<div class="block">A generalized version of <a href="PhraseQuery.html" title="class in org.apache.lucene.search"><code>PhraseQuery</code></a>, with the possibility of adding more than one term
 at the same position that are treated as a disjunction (OR).</div>
</div>
<div class="col-first odd-row-color class-summary class-summary-tab2"><a href="MultiPhraseQuery.Builder.html" title="class in org.apache.lucene.search">MultiPhraseQuery.Builder</a></div>
<div class="col-last odd-row-color class-summary class-summary-tab2">
<div class="block">A builder for multi-phrase queries</div>
</div>
<div class="col-first even-row-color class-summary class-summary-tab2"><a href="MultiPhraseQuery.UnionFullPostingsEnum.html" title="class in org.apache.lucene.search">MultiPhraseQuery.UnionFullPostingsEnum</a></div>
<div class="col-last even-row-color class-summary class-summary-tab2">
<div class="block">Slower version of UnionPostingsEnum that delegates offsets and positions, for use by
 MatchesIterator</div>
</div>
<div class="col-first odd-row-color class-summary class-summary-tab2"><a href="MultiPhraseQuery.UnionPostingsEnum.html" title="class in org.apache.lucene.search">MultiPhraseQuery.UnionPostingsEnum</a></div>
<div class="col-last odd-row-color class-summary class-summary-tab2">
<div class="block">Takes the logical union of multiple PostingsEnum iterators.</div>
</div>
<div class="col-first even-row-color class-summary class-summary-tab2"><a href="Multiset.html" title="class in org.apache.lucene.search">Multiset</a>&lt;T&gt;</div>
<div class="col-last even-row-color class-summary class-summary-tab2">
<div class="block">A <a href="Multiset.html" title="class in org.apache.lucene.search"><code>Multiset</code></a> is a set that allows for duplicate elements.</div>
</div>
<div class="col-first odd-row-color class-summary class-summary-tab2"><a href="MultiTermQuery.html" title="class in org.apache.lucene.search">MultiTermQuery</a></div>
<div class="col-last odd-row-color class-summary class-summary-tab2">
<div class="block">An abstract <a href="Query.html" title="class in org.apache.lucene.search"><code>Query</code></a> that matches documents containing a subset of terms provided by a
 <a href="../index/FilteredTermsEnum.html" title="class in org.apache.lucene.index"><code>FilteredTermsEnum</code></a> enumeration.</div>
</div>
<div class="col-first even-row-color class-summary class-summary-tab2"><a href="MultiTermQuery.RewriteMethod.html" title="class in org.apache.lucene.search">MultiTermQuery.RewriteMethod</a></div>
<div class="col-last even-row-color class-summary class-summary-tab2">
<div class="block">Abstract class that defines how the query is rewritten.</div>
</div>
<div class="col-first odd-row-color class-summary class-summary-tab2"><a href="MultiTermQuery.TopTermsBlendedFreqScoringRewrite.html" title="class in org.apache.lucene.search">MultiTermQuery.TopTermsBlendedFreqScoringRewrite</a></div>
<div class="col-last odd-row-color class-summary class-summary-tab2">
<div class="block">A rewrite method that first translates each term into <a href="BooleanClause.Occur.html#SHOULD"><code>BooleanClause.Occur.SHOULD</code></a> clause
 in a BooleanQuery, but adjusts the frequencies used for scoring to be blended across the terms,
 otherwise the rarest term typically ranks highest (often not useful eg in the set of expanded
 terms in a FuzzyQuery).</div>
</div>
<div class="col-first even-row-color class-summary class-summary-tab2"><a href="MultiTermQuery.TopTermsBoostOnlyBooleanQueryRewrite.html" title="class in org.apache.lucene.search">MultiTermQuery.TopTermsBoostOnlyBooleanQueryRewrite</a></div>
<div class="col-last even-row-color class-summary class-summary-tab2">
<div class="block">A rewrite method that first translates each term into <a href="BooleanClause.Occur.html#SHOULD"><code>BooleanClause.Occur.SHOULD</code></a> clause
 in a BooleanQuery, but the scores are only computed as the boost.</div>
</div>
<div class="col-first odd-row-color class-summary class-summary-tab2"><a href="MultiTermQuery.TopTermsScoringBooleanQueryRewrite.html" title="class in org.apache.lucene.search">MultiTermQuery.TopTermsScoringBooleanQueryRewrite</a></div>
<div class="col-last odd-row-color class-summary class-summary-tab2">
<div class="block">A rewrite method that first translates each term into <a href="BooleanClause.Occur.html#SHOULD"><code>BooleanClause.Occur.SHOULD</code></a> clause
 in a BooleanQuery, and keeps the scores as computed by the query.</div>
</div>
<div class="col-first even-row-color class-summary class-summary-tab2"><a href="NamedMatches.html" title="class in org.apache.lucene.search">NamedMatches</a></div>
<div class="col-last even-row-color class-summary class-summary-tab2">
<div class="block">Utility class to help extract the set of sub queries that have matched from a larger query.</div>
</div>
<div class="col-first odd-row-color class-summary class-summary-tab2"><a href="NGramPhraseQuery.html" title="class in org.apache.lucene.search">NGramPhraseQuery</a></div>
<div class="col-last odd-row-color class-summary class-summary-tab2">
<div class="block">This is a <a href="PhraseQuery.html" title="class in org.apache.lucene.search"><code>PhraseQuery</code></a> which is optimized for n-gram phrase query.</div>
</div>
<div class="col-first even-row-color class-summary class-summary-tab2"><a href="PatienceKnnVectorQuery.html" title="class in org.apache.lucene.search">PatienceKnnVectorQuery</a></div>
<div class="col-last even-row-color class-summary class-summary-tab2">
<div class="block">This is a version of knn vector query that exits early when HNSW queue saturates over a <code>
 #saturationThreshold</code> for more than <code>#patience</code> times.</div>
</div>
<div class="col-first odd-row-color class-summary class-summary-tab2"><a href="PhraseMatcher.html" title="class in org.apache.lucene.search">PhraseMatcher</a></div>
<div class="col-last odd-row-color class-summary class-summary-tab2">
<div class="block">Base class for exact and sloppy phrase matching</div>
</div>
<div class="col-first even-row-color class-summary class-summary-tab2"><a href="PhraseQuery.html" title="class in org.apache.lucene.search">PhraseQuery</a></div>
<div class="col-last even-row-color class-summary class-summary-tab2">
<div class="block">A Query that matches documents containing a particular sequence of terms.</div>
</div>
<div class="col-first odd-row-color class-summary class-summary-tab2"><a href="PhraseQuery.Builder.html" title="class in org.apache.lucene.search">PhraseQuery.Builder</a></div>
<div class="col-last odd-row-color class-summary class-summary-tab2">
<div class="block">A builder for phrase queries.</div>
</div>
<div class="col-first even-row-color class-summary class-summary-tab2"><a href="PhraseQuery.PostingsAndFreq.html" title="class in org.apache.lucene.search">PhraseQuery.PostingsAndFreq</a></div>
<div class="col-last even-row-color class-summary class-summary-tab2">
<div class="block">Term postings and position information for phrase matching</div>
</div>
<div class="col-first odd-row-color class-summary class-summary-tab2"><a href="PhraseWeight.html" title="class in org.apache.lucene.search">PhraseWeight</a></div>
<div class="col-last odd-row-color class-summary class-summary-tab2">
<div class="block">Expert: Weight class for phrase matching</div>
</div>
<div class="col-first even-row-color class-summary class-summary-tab2"><a href="PointInSetQuery.html" title="class in org.apache.lucene.search">PointInSetQuery</a></div>
<div class="col-last even-row-color class-summary class-summary-tab2">
<div class="block">Abstract query class to find all documents whose single or multi-dimensional point values,
 previously indexed with e.g.</div>
</div>
<div class="col-first odd-row-color class-summary class-summary-tab2"><a href="PointInSetQuery.Stream.html" title="class in org.apache.lucene.search">PointInSetQuery.Stream</a></div>
<div class="col-last odd-row-color class-summary class-summary-tab2">
<div class="block">Iterator of encoded point values.</div>
</div>
<div class="col-first even-row-color class-summary class-summary-tab2"><a href="PointRangeQuery.html" title="class in org.apache.lucene.search">PointRangeQuery</a></div>
<div class="col-last even-row-color class-summary class-summary-tab2">
<div class="block">Abstract class for range queries against single or multidimensional points such as <a href="../document/IntPoint.html" title="class in org.apache.lucene.document"><code>IntPoint</code></a>.</div>
</div>
<div class="col-first odd-row-color class-summary class-summary-tab2"><a href="PositiveScoresOnlyCollector.html" title="class in org.apache.lucene.search">PositiveScoresOnlyCollector</a></div>
<div class="col-last odd-row-color class-summary class-summary-tab2">
<div class="block">A <a href="Collector.html" title="interface in org.apache.lucene.search"><code>Collector</code></a> implementation which wraps another <a href="Collector.html" title="interface in org.apache.lucene.search"><code>Collector</code></a> and makes sure only
 documents with scores &gt; 0 are collected.</div>
</div>
<div class="col-first even-row-color class-summary class-summary-tab2"><a href="PrefixQuery.html" title="class in org.apache.lucene.search">PrefixQuery</a></div>
<div class="col-last even-row-color class-summary class-summary-tab2">
<div class="block">A Query that matches documents containing terms with a specified prefix.</div>
</div>
<div class="col-first odd-row-color class-summary class-summary-tab3"><a href="Pruning.html" title="enum class in org.apache.lucene.search">Pruning</a></div>
<div class="col-last odd-row-color class-summary class-summary-tab3">
<div class="block">Controls <a href="LeafFieldComparator.html" title="interface in org.apache.lucene.search"><code>LeafFieldComparator</code></a> how to skip documents</div>
</div>
<div class="col-first even-row-color class-summary class-summary-tab2"><a href="Query.html" title="class in org.apache.lucene.search">Query</a></div>
<div class="col-last even-row-color class-summary class-summary-tab2">
<div class="block">The abstract base class for queries.</div>
</div>
<div class="col-first odd-row-color class-summary class-summary-tab1"><a href="QueryCache.html" title="interface in org.apache.lucene.search">QueryCache</a></div>
<div class="col-last odd-row-color class-summary class-summary-tab1">
<div class="block">A cache for queries.</div>
</div>
<div class="col-first even-row-color class-summary class-summary-tab1"><a href="QueryCachingPolicy.html" title="interface in org.apache.lucene.search">QueryCachingPolicy</a></div>
<div class="col-last even-row-color class-summary class-summary-tab1">
<div class="block">A policy defining which filters should be cached.</div>
</div>
<div class="col-first odd-row-color class-summary class-summary-tab2"><a href="QueryRescorer.html" title="class in org.apache.lucene.search">QueryRescorer</a></div>
<div class="col-last odd-row-color class-summary class-summary-tab2">
<div class="block">A <a href="Rescorer.html" title="class in org.apache.lucene.search"><code>Rescorer</code></a> that uses a provided Query to assign scores to the first-pass hits.</div>
</div>
<div class="col-first even-row-color class-summary class-summary-tab2"><a href="QueryVisitor.html" title="class in org.apache.lucene.search">QueryVisitor</a></div>
<div class="col-last even-row-color class-summary class-summary-tab2">
<div class="block">Allows recursion through a query tree</div>
</div>
<div class="col-first odd-row-color class-summary class-summary-tab2"><a href="ReferenceManager.html" title="class in org.apache.lucene.search">ReferenceManager</a>&lt;G&gt;</div>
<div class="col-last odd-row-color class-summary class-summary-tab2">
<div class="block">Utility class to safely share instances of a certain type across multiple threads, while
 periodically refreshing them.</div>
</div>
<div class="col-first even-row-color class-summary class-summary-tab1"><a href="ReferenceManager.RefreshListener.html" title="interface in org.apache.lucene.search">ReferenceManager.RefreshListener</a></div>
<div class="col-last even-row-color class-summary class-summary-tab1">
<div class="block">Use to receive notification when a refresh has finished.</div>
</div>
<div class="col-first odd-row-color class-summary class-summary-tab2"><a href="RegexpQuery.html" title="class in org.apache.lucene.search">RegexpQuery</a></div>
<div class="col-last odd-row-color class-summary class-summary-tab2">
<div class="block">A fast regular expression query based on the <a href="../util/automaton/package-summary.html"><code>org.apache.lucene.util.automaton</code></a> package.</div>
</div>
<div class="col-first even-row-color class-summary class-summary-tab2"><a href="Rescorer.html" title="class in org.apache.lucene.search">Rescorer</a></div>
<div class="col-last even-row-color class-summary class-summary-tab2">
<div class="block">Re-scores the topN results (<a href="TopDocs.html" title="class in org.apache.lucene.search"><code>TopDocs</code></a>) from an original query.</div>
</div>
<div class="col-first odd-row-color class-summary class-summary-tab2"><a href="Scorable.html" title="class in org.apache.lucene.search">Scorable</a></div>
<div class="col-last odd-row-color class-summary class-summary-tab2">
<div class="block">Allows access to the score of a Query</div>
</div>
<div class="col-first even-row-color class-summary class-summary-tab4"><a href="Scorable.ChildScorable.html" title="class in org.apache.lucene.search">Scorable.ChildScorable</a></div>
<div class="col-last even-row-color class-summary class-summary-tab4">
<div class="block">A child Scorer and its relationship to its parent.</div>
</div>
<div class="col-first odd-row-color class-summary class-summary-tab2"><a href="ScoreCachingWrappingScorer.html" title="class in org.apache.lucene.search">ScoreCachingWrappingScorer</a></div>
<div class="col-last odd-row-color class-summary class-summary-tab2">
<div class="block">A <a href="Scorer.html" title="class in org.apache.lucene.search"><code>Scorer</code></a> which wraps another scorer and caches the score of the current document.</div>
</div>
<div class="col-first even-row-color class-summary class-summary-tab2"><a href="ScoreDoc.html" title="class in org.apache.lucene.search">ScoreDoc</a></div>
<div class="col-last even-row-color class-summary class-summary-tab2">
<div class="block">Holds one hit in <a href="TopDocs.html" title="class in org.apache.lucene.search"><code>TopDocs</code></a>.</div>
</div>
<div class="col-first odd-row-color class-summary class-summary-tab3"><a href="ScoreMode.html" title="enum class in org.apache.lucene.search">ScoreMode</a></div>
<div class="col-last odd-row-color class-summary class-summary-tab3">
<div class="block">Different modes of search.</div>
</div>
<div class="col-first even-row-color class-summary class-summary-tab2"><a href="Scorer.html" title="class in org.apache.lucene.search">Scorer</a></div>
<div class="col-last even-row-color class-summary class-summary-tab2">
<div class="block">Expert: Common scoring functionality for different types of queries.</div>
</div>
<div class="col-first odd-row-color class-summary class-summary-tab2"><a href="ScorerSupplier.html" title="class in org.apache.lucene.search">ScorerSupplier</a></div>
<div class="col-last odd-row-color class-summary class-summary-tab2">
<div class="block">A supplier of <a href="Scorer.html" title="class in org.apache.lucene.search"><code>Scorer</code></a>.</div>
</div>
<div class="col-first even-row-color class-summary class-summary-tab2"><a href="ScoringRewrite.html" title="class in org.apache.lucene.search">ScoringRewrite</a>&lt;B&gt;</div>
<div class="col-last even-row-color class-summary class-summary-tab2">
<div class="block">Base rewrite method that translates each term into a query, and keeps the scores as computed by
 the query.</div>
</div>
<div class="col-first odd-row-color class-summary class-summary-tab2"><a href="SearcherFactory.html" title="class in org.apache.lucene.search">SearcherFactory</a></div>
<div class="col-last odd-row-color class-summary class-summary-tab2">
<div class="block">Factory class used by <a href="SearcherManager.html" title="class in org.apache.lucene.search"><code>SearcherManager</code></a> to create new IndexSearchers.</div>
</div>
<div class="col-first even-row-color class-summary class-summary-tab2"><a href="SearcherLifetimeManager.html" title="class in org.apache.lucene.search">SearcherLifetimeManager</a></div>
<div class="col-last even-row-color class-summary class-summary-tab2">
<div class="block">Keeps track of current plus old IndexSearchers, closing the old ones once they have timed out.</div>
</div>
<div class="col-first odd-row-color class-summary class-summary-tab2"><a href="SearcherLifetimeManager.PruneByAge.html" title="class in org.apache.lucene.search">SearcherLifetimeManager.PruneByAge</a></div>
<div class="col-last odd-row-color class-summary class-summary-tab2">
<div class="block">Simple pruner that drops any searcher older by more than the specified seconds, than the newest
 searcher.</div>
</div>
<div class="col-first even-row-color class-summary class-summary-tab1"><a href="SearcherLifetimeManager.Pruner.html" title="interface in org.apache.lucene.search">SearcherLifetimeManager.Pruner</a></div>
<div class="col-last even-row-color class-summary class-summary-tab1">
<div class="block">See <a href="SearcherLifetimeManager.html#prune(org.apache.lucene.search.SearcherLifetimeManager.Pruner)"><code>SearcherLifetimeManager.prune(org.apache.lucene.search.SearcherLifetimeManager.Pruner)</code></a>.</div>
</div>
<div class="col-first odd-row-color class-summary class-summary-tab2"><a href="SearcherManager.html" title="class in org.apache.lucene.search">SearcherManager</a></div>
<div class="col-last odd-row-color class-summary class-summary-tab2">
<div class="block">Utility class to safely share <a href="IndexSearcher.html" title="class in org.apache.lucene.search"><code>IndexSearcher</code></a> instances across multiple threads, while
 periodically reopening.</div>
</div>
<div class="col-first even-row-color class-summary class-summary-tab2"><a href="SeededKnnVectorQuery.html" title="class in org.apache.lucene.search">SeededKnnVectorQuery</a></div>
<div class="col-last even-row-color class-summary class-summary-tab2">
<div class="block">This is a version of knn vector query that provides a query seed to initiate the vector search.</div>
</div>
<div class="col-first odd-row-color class-summary class-summary-tab1"><a href="SegmentCacheable.html" title="interface in org.apache.lucene.search">SegmentCacheable</a></div>
<div class="col-last odd-row-color class-summary class-summary-tab1">
<div class="block">Interface defining whether or not an object can be cached against a <a href="../index/LeafReader.html" title="class in org.apache.lucene.index"><code>LeafReader</code></a></div>
</div>
<div class="col-first even-row-color class-summary class-summary-tab2"><a href="SimpleCollector.html" title="class in org.apache.lucene.search">SimpleCollector</a></div>
<div class="col-last even-row-color class-summary class-summary-tab2">
<div class="block">Base <a href="Collector.html" title="interface in org.apache.lucene.search"><code>Collector</code></a> implementation that is used to collect all contexts.</div>
</div>
<div class="col-first odd-row-color class-summary class-summary-tab2"><a href="SimpleFieldComparator.html" title="class in org.apache.lucene.search">SimpleFieldComparator</a>&lt;T&gt;</div>
<div class="col-last odd-row-color class-summary class-summary-tab2">
<div class="block">Base <a href="FieldComparator.html" title="class in org.apache.lucene.search"><code>FieldComparator</code></a> implementation that is used for all contexts.</div>
</div>
<div class="col-first even-row-color class-summary class-summary-tab2"><a href="SloppyPhraseMatcher.html" title="class in org.apache.lucene.search">SloppyPhraseMatcher</a></div>
<div class="col-last even-row-color class-summary class-summary-tab2">
<div class="block">Find all slop-valid position-combinations (matches) encountered while traversing/hopping the
 PhrasePositions.</div>
</div>
<div class="col-first odd-row-color class-summary class-summary-tab2"><a href="Sort.html" title="class in org.apache.lucene.search">Sort</a></div>
<div class="col-last odd-row-color class-summary class-summary-tab2">
<div class="block">Encapsulates sort criteria for returned hits.</div>
</div>
<div class="col-first even-row-color class-summary class-summary-tab2"><a href="SortedNumericSelector.html" title="class in org.apache.lucene.search">SortedNumericSelector</a></div>
<div class="col-last even-row-color class-summary class-summary-tab2">
<div class="block">Selects a value from the document's list to use as the representative value</div>
</div>
<div class="col-first odd-row-color class-summary class-summary-tab3"><a href="SortedNumericSelector.Type.html" title="enum class in org.apache.lucene.search">SortedNumericSelector.Type</a></div>
<div class="col-last odd-row-color class-summary class-summary-tab3">
<div class="block">Type of selection to perform.</div>
</div>
<div class="col-first even-row-color class-summary class-summary-tab2"><a href="SortedNumericSortField.html" title="class in org.apache.lucene.search">SortedNumericSortField</a></div>
<div class="col-last even-row-color class-summary class-summary-tab2">
<div class="block">SortField for <a href="../index/SortedNumericDocValues.html" title="class in org.apache.lucene.index"><code>SortedNumericDocValues</code></a>.</div>
</div>
<div class="col-first odd-row-color class-summary class-summary-tab2"><a href="SortedNumericSortField.Provider.html" title="class in org.apache.lucene.search">SortedNumericSortField.Provider</a></div>
<div class="col-last odd-row-color class-summary class-summary-tab2">
<div class="block">A SortFieldProvider for this sort field</div>
</div>
<div class="col-first even-row-color class-summary class-summary-tab2"><a href="SortedSetSelector.html" title="class in org.apache.lucene.search">SortedSetSelector</a></div>
<div class="col-last even-row-color class-summary class-summary-tab2">
<div class="block">Selects a value from the document's set to use as the representative value</div>
</div>
<div class="col-first odd-row-color class-summary class-summary-tab3"><a href="SortedSetSelector.Type.html" title="enum class in org.apache.lucene.search">SortedSetSelector.Type</a></div>
<div class="col-last odd-row-color class-summary class-summary-tab3">
<div class="block">Type of selection to perform.</div>
</div>
<div class="col-first even-row-color class-summary class-summary-tab2"><a href="SortedSetSortField.html" title="class in org.apache.lucene.search">SortedSetSortField</a></div>
<div class="col-last even-row-color class-summary class-summary-tab2">
<div class="block">SortField for <a href="../index/SortedSetDocValues.html" title="class in org.apache.lucene.index"><code>SortedSetDocValues</code></a>.</div>
</div>
<div class="col-first odd-row-color class-summary class-summary-tab2"><a href="SortedSetSortField.Provider.html" title="class in org.apache.lucene.search">SortedSetSortField.Provider</a></div>
<div class="col-last odd-row-color class-summary class-summary-tab2">
<div class="block">A SortFieldProvider for this sort</div>
</div>
<div class="col-first even-row-color class-summary class-summary-tab2"><a href="SortField.html" title="class in org.apache.lucene.search">SortField</a></div>
<div class="col-last even-row-color class-summary class-summary-tab2">
<div class="block">Stores information about how to sort documents by terms in an individual field.</div>
</div>
<div class="col-first odd-row-color class-summary class-summary-tab2"><a href="SortField.Provider.html" title="class in org.apache.lucene.search">SortField.Provider</a></div>
<div class="col-last odd-row-color class-summary class-summary-tab2">
<div class="block">A SortFieldProvider for field sorts</div>
</div>
<div class="col-first even-row-color class-summary class-summary-tab3"><a href="SortField.Type.html" title="enum class in org.apache.lucene.search">SortField.Type</a></div>
<div class="col-last even-row-color class-summary class-summary-tab3">
<div class="block">Specifies the type of the terms to be sorted, or special types such as CUSTOM</div>
</div>
<div class="col-first odd-row-color class-summary class-summary-tab2"><a href="SortRescorer.html" title="class in org.apache.lucene.search">SortRescorer</a></div>
<div class="col-last odd-row-color class-summary class-summary-tab2">
<div class="block">A <a href="Rescorer.html" title="class in org.apache.lucene.search"><code>Rescorer</code></a> that re-sorts according to a provided Sort.</div>
</div>
<div class="col-first even-row-color class-summary class-summary-tab2"><a href="SynonymQuery.html" title="class in org.apache.lucene.search">SynonymQuery</a></div>
<div class="col-last even-row-color class-summary class-summary-tab2">
<div class="block">A query that treats multiple terms as synonyms.</div>
</div>
<div class="col-first odd-row-color class-summary class-summary-tab2"><a href="SynonymQuery.Builder.html" title="class in org.apache.lucene.search">SynonymQuery.Builder</a></div>
<div class="col-last odd-row-color class-summary class-summary-tab2">
<div class="block">A builder for <a href="SynonymQuery.html" title="class in org.apache.lucene.search"><code>SynonymQuery</code></a>.</div>
</div>
<div class="col-first even-row-color class-summary class-summary-tab2"><a href="TaskExecutor.html" title="class in org.apache.lucene.search">TaskExecutor</a></div>
<div class="col-last even-row-color class-summary class-summary-tab2">
<div class="block">Executor wrapper responsible for the execution of concurrent tasks.</div>
</div>
<div class="col-first odd-row-color class-summary class-summary-tab2"><a href="TermInSetQuery.html" title="class in org.apache.lucene.search">TermInSetQuery</a></div>
<div class="col-last odd-row-color class-summary class-summary-tab2">
<div class="block">Specialization for a disjunction over many terms that, by default, behaves like a <a href="ConstantScoreQuery.html" title="class in org.apache.lucene.search"><code>ConstantScoreQuery</code></a> over a <a href="BooleanQuery.html" title="class in org.apache.lucene.search"><code>BooleanQuery</code></a> containing only <a href="BooleanClause.Occur.html#SHOULD"><code>BooleanClause.Occur.SHOULD</code></a> clauses.</div>
</div>
<div class="col-first even-row-color class-summary class-summary-tab2"><a href="TermQuery.html" title="class in org.apache.lucene.search">TermQuery</a></div>
<div class="col-last even-row-color class-summary class-summary-tab2">
<div class="block">A Query that matches documents containing a term.</div>
</div>
<div class="col-first odd-row-color class-summary class-summary-tab2"><a href="TermRangeQuery.html" title="class in org.apache.lucene.search">TermRangeQuery</a></div>
<div class="col-last odd-row-color class-summary class-summary-tab2">
<div class="block">A Query that matches documents within an range of terms.</div>
</div>
<div class="col-first even-row-color class-summary class-summary-tab2"><a href="TermScorer.html" title="class in org.apache.lucene.search">TermScorer</a></div>
<div class="col-last even-row-color class-summary class-summary-tab2">
<div class="block">Expert: A <code>Scorer</code> for documents matching a <code>Term</code>.</div>
</div>
<div class="col-first odd-row-color class-summary class-summary-tab4"><a href="TermStatistics.html" title="class in org.apache.lucene.search">TermStatistics</a></div>
<div class="col-last odd-row-color class-summary class-summary-tab4">
<div class="block">Contains statistics for a specific term</div>
</div>
<div class="col-first even-row-color class-summary class-summary-tab2"><a href="TimeLimitingKnnCollectorManager.html" title="class in org.apache.lucene.search">TimeLimitingKnnCollectorManager</a></div>
<div class="col-last even-row-color class-summary class-summary-tab2">
<div class="block">A <a href="knn/KnnCollectorManager.html" title="interface in org.apache.lucene.search.knn"><code>KnnCollectorManager</code></a> that collects results with a timeout.</div>
</div>
<div class="col-first odd-row-color class-summary class-summary-tab2"><a href="TopDocs.html" title="class in org.apache.lucene.search">TopDocs</a></div>
<div class="col-last odd-row-color class-summary class-summary-tab2">
<div class="block">Represents hits returned by <a href="IndexSearcher.html#search(org.apache.lucene.search.Query,int)"><code>IndexSearcher.search(Query,int)</code></a>.</div>
</div>
<div class="col-first even-row-color class-summary class-summary-tab2"><a href="TopDocsCollector.html" title="class in org.apache.lucene.search">TopDocsCollector</a>&lt;T extends <a href="ScoreDoc.html" title="class in org.apache.lucene.search">ScoreDoc</a>&gt;</div>
<div class="col-last even-row-color class-summary class-summary-tab2">
<div class="block">A base class for all collectors that return a <a href="TopDocs.html" title="class in org.apache.lucene.search"><code>TopDocs</code></a> output.</div>
</div>
<div class="col-first odd-row-color class-summary class-summary-tab2"><a href="TopFieldCollector.html" title="class in org.apache.lucene.search">TopFieldCollector</a></div>
<div class="col-last odd-row-color class-summary class-summary-tab2">
<div class="block">A <a href="Collector.html" title="interface in org.apache.lucene.search"><code>Collector</code></a> that sorts by <a href="SortField.html" title="class in org.apache.lucene.search"><code>SortField</code></a> using <a href="FieldComparator.html" title="class in org.apache.lucene.search"><code>FieldComparator</code></a>s.</div>
</div>
<div class="col-first even-row-color class-summary class-summary-tab2"><a href="TopFieldCollectorManager.html" title="class in org.apache.lucene.search">TopFieldCollectorManager</a></div>
<div class="col-last even-row-color class-summary class-summary-tab2">
<div class="block">Create a TopFieldCollectorManager which uses a shared hit counter to maintain number of hits and
 a shared <code>MaxScoreAccumulator</code> to propagate the minimum score across segments if the
 primary sort is by relevancy.</div>
</div>
<div class="col-first odd-row-color class-summary class-summary-tab2"><a href="TopFieldDocs.html" title="class in org.apache.lucene.search">TopFieldDocs</a></div>
<div class="col-last odd-row-color class-summary class-summary-tab2">
<div class="block">Represents hits returned by <a href="IndexSearcher.html#search(org.apache.lucene.search.Query,int,org.apache.lucene.search.Sort)"><code>IndexSearcher.search(Query,int,Sort)</code></a>.</div>
</div>
<div class="col-first even-row-color class-summary class-summary-tab2"><a href="TopKnnCollector.html" title="class in org.apache.lucene.search">TopKnnCollector</a></div>
<div class="col-last even-row-color class-summary class-summary-tab2">
<div class="block">TopKnnCollector is a specific KnnCollector.</div>
</div>
<div class="col-first odd-row-color class-summary class-summary-tab2"><a href="TopScoreDocCollector.html" title="class in org.apache.lucene.search">TopScoreDocCollector</a></div>
<div class="col-last odd-row-color class-summary class-summary-tab2">
<div class="block">A <a href="Collector.html" title="interface in org.apache.lucene.search"><code>Collector</code></a> implementation that collects the top-scoring hits, returning them as a <a href="TopDocs.html" title="class in org.apache.lucene.search"><code>TopDocs</code></a>.</div>
</div>
<div class="col-first even-row-color class-summary class-summary-tab2"><a href="TopScoreDocCollectorManager.html" title="class in org.apache.lucene.search">TopScoreDocCollectorManager</a></div>
<div class="col-last even-row-color class-summary class-summary-tab2">
<div class="block">Create a TopScoreDocCollectorManager which uses a shared hit counter to maintain number of hits
 and a shared <code>MaxScoreAccumulator</code> to propagate the minimum score across segments</div>
</div>
<div class="col-first odd-row-color class-summary class-summary-tab2"><a href="TopTermsRewrite.html" title="class in org.apache.lucene.search">TopTermsRewrite</a>&lt;B&gt;</div>
<div class="col-last odd-row-color class-summary class-summary-tab2">
<div class="block">Base rewrite method for collecting only the top terms via a priority queue.</div>
</div>
<div class="col-first even-row-color class-summary class-summary-tab2"><a href="TotalHitCountCollector.html" title="class in org.apache.lucene.search">TotalHitCountCollector</a></div>
<div class="col-last even-row-color class-summary class-summary-tab2">
<div class="block">Just counts the total number of hits.</div>
</div>
<div class="col-first odd-row-color class-summary class-summary-tab2"><a href="TotalHitCountCollectorManager.html" title="class in org.apache.lucene.search">TotalHitCountCollectorManager</a></div>
<div class="col-last odd-row-color class-summary class-summary-tab2">
<div class="block">Collector manager based on <a href="TotalHitCountCollector.html" title="class in org.apache.lucene.search"><code>TotalHitCountCollector</code></a> that allows users to parallelize
 counting the number of hits, expected to be used mostly wrapped in <a href="MultiCollectorManager.html" title="class in org.apache.lucene.search"><code>MultiCollectorManager</code></a>.</div>
</div>
<div class="col-first even-row-color class-summary class-summary-tab4"><a href="TotalHits.html" title="class in org.apache.lucene.search">TotalHits</a></div>
<div class="col-last even-row-color class-summary class-summary-tab4">
<div class="block">Description of the total number of hits of a query.</div>
</div>
<div class="col-first odd-row-color class-summary class-summary-tab3"><a href="TotalHits.Relation.html" title="enum class in org.apache.lucene.search">TotalHits.Relation</a></div>
<div class="col-last odd-row-color class-summary class-summary-tab3">
<div class="block">How the <code>TotalHits.value</code> should be interpreted.</div>
</div>
<div class="col-first even-row-color class-summary class-summary-tab2"><a href="TwoPhaseIterator.html" title="class in org.apache.lucene.search">TwoPhaseIterator</a></div>
<div class="col-last even-row-color class-summary class-summary-tab2">
<div class="block">Returned by <a href="Scorer.html#twoPhaseIterator()"><code>Scorer.twoPhaseIterator()</code></a> to expose an approximation of a <a href="DocIdSetIterator.html" title="class in org.apache.lucene.search"><code>DocIdSetIterator</code></a>.</div>
</div>
<div class="col-first odd-row-color class-summary class-summary-tab2"><a href="UsageTrackingQueryCachingPolicy.html" title="class in org.apache.lucene.search">UsageTrackingQueryCachingPolicy</a></div>
<div class="col-last odd-row-color class-summary class-summary-tab2">
<div class="block">A <a href="QueryCachingPolicy.html" title="interface in org.apache.lucene.search"><code>QueryCachingPolicy</code></a> that tracks usage statistics of recently-used filters in order to
 decide on which filters are worth caching.</div>
</div>
<div class="col-first even-row-color class-summary class-summary-tab1"><a href="VectorScorer.html" title="interface in org.apache.lucene.search">VectorScorer</a></div>
<div class="col-last even-row-color class-summary class-summary-tab1">
<div class="block">Computes the similarity score between a given query vector and different document vectors.</div>
</div>
<div class="col-first odd-row-color class-summary class-summary-tab2"><a href="Weight.html" title="class in org.apache.lucene.search">Weight</a></div>
<div class="col-last odd-row-color class-summary class-summary-tab2">
<div class="block">Expert: Calculate query weights and build query scorers.</div>
</div>
<div class="col-first even-row-color class-summary class-summary-tab2"><a href="Weight.DefaultBulkScorer.html" title="class in org.apache.lucene.search">Weight.DefaultBulkScorer</a></div>
<div class="col-last even-row-color class-summary class-summary-tab2">
<div class="block">Just wraps a Scorer and performs top scoring using it.</div>
</div>
<div class="col-first odd-row-color class-summary class-summary-tab2"><a href="Weight.DefaultScorerSupplier.html" title="class in org.apache.lucene.search">Weight.DefaultScorerSupplier</a></div>
<div class="col-last odd-row-color class-summary class-summary-tab2">
<div class="block">A wrap for default scorer supplier.</div>
</div>
<div class="col-first even-row-color class-summary class-summary-tab2"><a href="WildcardQuery.html" title="class in org.apache.lucene.search">WildcardQuery</a></div>
<div class="col-last even-row-color class-summary class-summary-tab2">
<div class="block">Implements the wildcard search query.</div>
</div>
</div>
</div>
</div>
</li>
</ul>
</section>
</main>
<footer role="contentinfo">
<hr>
<p class="legal-copy"><small><i>Copyright &copy; 2000-2025 Apache Software Foundation. All Rights Reserved.</i></small></p>
</footer>
</div>
</div>
</body>
</html>
