<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (21) on Fri Apr 04 15:37:21 CEST 2025 -->
<title>MMapDirectory (Lucene 10.2.0 core API)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="dc.created" content="2025-04-04">
<meta name="description" content="declaration: package: org.apache.lucene.store, class: MMapDirectory">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../script-dir/jquery-ui.min.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
<script type="text/javascript" src="../../../../script-dir/jquery-3.6.1.min.js"></script>
<script type="text/javascript" src="../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var pathtoroot = "../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top"><button id="navbar-toggle-button" aria-controls="navbar-top" aria-expanded="false" aria-label="Toggle navigation links"><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span></button>
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="class-use/MMapDirectory.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html#class">Help</a></li>
</ul>
<ul class="sub-nav-list-small">
<li>
<p>Summary:</p>
<ul>
<li>Nested</li>
<li><a href="#field-summary">Field</a></li>
<li><a href="#constructor-summary">Constr</a></li>
<li><a href="#method-summary">Method</a></li>
</ul>
</li>
<li>
<p>Detail:</p>
<ul>
<li><a href="#field-detail">Field</a></li>
<li><a href="#constructor-detail">Constr</a></li>
<li><a href="#method-detail">Method</a></li>
</ul>
</li>
</ul>
</div>
<div class="sub-nav">
<div id="navbar-sub-list">
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field-summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor-summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li><a href="#field-detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor-detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><a href="../../../../search.html">SEARCH</a>
<input type="text" id="search-input" disabled placeholder="Search">
<input type="reset" id="reset-button" disabled value="reset">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">org.apache.lucene.store</a></div>
<h1 title="Class MMapDirectory" class="title">Class MMapDirectory</h1>
</div>
<div class="inheritance" title="Inheritance Tree"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">java.lang.Object</a>
<div class="inheritance"><a href="Directory.html" title="class in org.apache.lucene.store">org.apache.lucene.store.Directory</a>
<div class="inheritance"><a href="BaseDirectory.html" title="class in org.apache.lucene.store">org.apache.lucene.store.BaseDirectory</a>
<div class="inheritance"><a href="FSDirectory.html" title="class in org.apache.lucene.store">org.apache.lucene.store.FSDirectory</a>
<div class="inheritance">org.apache.lucene.store.MMapDirectory</div>
</div>
</div>
</div>
</div>
<section class="class-description" id="class-description">
<dl class="notes">
<dt>All Implemented Interfaces:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/Closeable.html" title="class or interface in java.io" class="external-link">Closeable</a></code>, <code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/AutoCloseable.html" title="class or interface in java.lang" class="external-link">AutoCloseable</a></code></dd>
</dl>
<hr>
<div class="type-signature"><span class="modifiers">public class </span><span class="element-name type-name-label">MMapDirectory</span>
<span class="extends-implements">extends <a href="FSDirectory.html" title="class in org.apache.lucene.store">FSDirectory</a></span></div>
<div class="block">File-based <a href="Directory.html" title="class in org.apache.lucene.store"><code>Directory</code></a> implementation that uses mmap for reading, and <code>FSDirectory.FSIndexOutput</code> for writing.

 <p><b>NOTE</b>: memory mapping uses up a portion of the virtual memory address space in your
 process equal to the size of the file being mapped. Before using this class, be sure your have
 plenty of virtual address space, e.g. by using a 64 bit JRE, or a 32 bit JRE with indexes that
 are guaranteed to fit within the address space. On 32 bit platforms also consult <a href="#%3Cinit%3E(java.nio.file.Path,org.apache.lucene.store.LockFactory,long)"><code>MMapDirectory(Path, LockFactory, long)</code></a> if you have problems with mmap failing because of
 fragmented address space. If you get an <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link"><code>IOException</code></a> about mapping failed, it is
 recommended to reduce the chunk size, until it works.

 <p>This class supports preloading files into physical memory upon opening. This can help improve
 performance of searches on a cold page cache at the expense of slowing down opening an index. See
 <a href="#setPreload(java.util.function.BiPredicate)"><code>setPreload(BiPredicate)</code></a> for more details.

 <p>This class supports grouping of files that are part of the same logical group. This is a hint
 that allows for better handling of resources. For example, individual files that are part of the
 same segment can be considered part of the same logical group. See <a href="#setGroupingFunction(java.util.function.Function)"><code>setGroupingFunction(Function)</code></a> for more details.

 <p>This class will use the modern <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/foreign/MemorySegment.html" title="class or interface in java.lang.foreign" class="external-link"><code>MemorySegment</code></a><sup><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/foreign/MemorySegment.html#preview-java.lang.foreign.MemorySegment" title="class or interface in java.lang.foreign" class="external-link">PREVIEW</a></sup> API available since
 Java 21 which allows to safely unmap previously mmapped files after closing the <a href="IndexInput.html" title="class in org.apache.lucene.store"><code>IndexInput</code></a>s. There is no need to enable the "preview feature" of your Java version; it works out
 of box with some compilation tricks. For more information about the foreign memory API read
 documentation of the <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/foreign/package-summary.html" class="external-link"><code>java.lang.foreign</code></a> package.

 <p>On some platforms like Linux and MacOS X, this class will invoke the syscall <code>madvise()</code>
 to advise how OS kernel should handle paging after opening a file. For this to work, Java code
 must be able to call native code. If this is not allowed, a warning is logged. To enable native
 access for Lucene in a modularized application, pass <code>
 --enable-native-access=org.apache.lucene.core</code> to the Java command line. If Lucene is running in
 a classpath-based application, use <code>--enable-native-access=ALL-UNNAMED</code>.

 <p><b>NOTE:</b> Accessing this class either directly or indirectly from a thread while it's
 interrupted can close the underlying channel immediately if at the same time the thread is
 blocked on IO. The channel will remain closed and subsequent access to <a href="MMapDirectory.html" title="class in org.apache.lucene.store"><code>MMapDirectory</code></a> will
 throw a <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/nio/channels/ClosedChannelException.html" title="class or interface in java.nio.channels" class="external-link"><code>ClosedChannelException</code></a>. If your application uses either <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Thread.html#interrupt--" title="class or interface in java.lang" class="external-link"><code>Thread.interrupt()</code></a> or <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/concurrent/Future.html#cancel-boolean-" title="class or interface in java.util.concurrent" class="external-link"><code>Future.cancel(boolean)</code></a> you should use the legacy <code>
 RAFDirectory</code> from the Lucene <code>misc</code> module in favor of <a href="MMapDirectory.html" title="class in org.apache.lucene.store"><code>MMapDirectory</code></a>.

 <p><b>NOTE:</b> If your application requires external synchronization, you should <b>not</b>
 synchronize on the <code>MMapDirectory</code> instance as this may cause deadlock; use your own
 (non-Lucene) objects instead.</div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="tag-list-long">
<li><a href="https://blog.thetaphi.de/2012/07/use-lucenes-mmapdirectory-on-64bit.html">Blog post
     about MMapDirectory</a></li>
</ul>
</dd>
</dl>
</section>
<section class="summary">
<ul class="summary-list">
<!-- =========== FIELD SUMMARY =========== -->
<li>
<section class="field-summary" id="field-summary">
<h2>Field Summary</h2>
<div class="caption"><span>Fields</span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Field</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code>static final <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/function/BiPredicate.html" title="class or interface in java.util.function" class="external-link">BiPredicate</a><wbr>&lt;<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr><a href="IOContext.html" title="class in org.apache.lucene.store">IOContext</a>&gt;</code></div>
<div class="col-second even-row-color"><code><a href="#ALL_FILES" class="member-name-link">ALL_FILES</a></code></div>
<div class="col-last even-row-color">
<div class="block">Argument for <a href="#setPreload(java.util.function.BiPredicate)"><code>setPreload(BiPredicate)</code></a> that configures all files to be preloaded upon
 opening them.</div>
</div>
<div class="col-first odd-row-color"><code>static final <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/function/BiPredicate.html" title="class or interface in java.util.function" class="external-link">BiPredicate</a><wbr>&lt;<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr><a href="IOContext.html" title="class in org.apache.lucene.store">IOContext</a>&gt;</code></div>
<div class="col-second odd-row-color"><code><a href="#BASED_ON_LOAD_IO_CONTEXT" class="member-name-link">BASED_ON_LOAD_IO_CONTEXT</a></code></div>
<div class="col-last odd-row-color">
<div class="block">Argument for <a href="#setPreload(java.util.function.BiPredicate)"><code>setPreload(BiPredicate)</code></a> that configures files to be preloaded upon
 opening them if they use the <a href="ReadAdvice.html#RANDOM_PRELOAD"><code>ReadAdvice.RANDOM_PRELOAD</code></a> advice.</div>
</div>
<div class="col-first even-row-color"><code>static final long</code></div>
<div class="col-second even-row-color"><code><a href="#DEFAULT_MAX_CHUNK_SIZE" class="member-name-link">DEFAULT_MAX_CHUNK_SIZE</a></code></div>
<div class="col-last even-row-color">
<div class="block">Default max chunk size:

 
   16 GiBytes for 64 bit JVMs
   256 MiBytes for 32 bit JVMs
 </div>
</div>
<div class="col-first odd-row-color"><code>static final <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/function/Function.html" title="class or interface in java.util.function" class="external-link">Function</a><wbr>&lt;<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Optional.html" title="class or interface in java.util" class="external-link">Optional</a>&lt;<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;&gt;</code></div>
<div class="col-second odd-row-color"><code><a href="#GROUP_BY_SEGMENT" class="member-name-link">GROUP_BY_SEGMENT</a></code></div>
<div class="col-last odd-row-color">
<div class="block">Argument for <a href="#setGroupingFunction(java.util.function.Function)"><code>setGroupingFunction(Function)</code></a> that configures grouping by segment.</div>
</div>
<div class="col-first even-row-color"><code>static final <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/function/BiPredicate.html" title="class or interface in java.util.function" class="external-link">BiPredicate</a><wbr>&lt;<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr><a href="IOContext.html" title="class in org.apache.lucene.store">IOContext</a>&gt;</code></div>
<div class="col-second even-row-color"><code><a href="#NO_FILES" class="member-name-link">NO_FILES</a></code></div>
<div class="col-last even-row-color">
<div class="block">Argument for <a href="#setPreload(java.util.function.BiPredicate)"><code>setPreload(BiPredicate)</code></a> that configures no files to be preloaded upon
 opening them.</div>
</div>
<div class="col-first odd-row-color"><code>static final <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/function/Function.html" title="class or interface in java.util.function" class="external-link">Function</a><wbr>&lt;<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Optional.html" title="class or interface in java.util" class="external-link">Optional</a>&lt;<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;&gt;</code></div>
<div class="col-second odd-row-color"><code><a href="#NO_GROUPING" class="member-name-link">NO_GROUPING</a></code></div>
<div class="col-last odd-row-color">
<div class="block">Argument for <a href="#setGroupingFunction(java.util.function.Function)"><code>setGroupingFunction(Function)</code></a> that configures no grouping.</div>
</div>
<div class="col-first even-row-color"><code>static final <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second even-row-color"><code><a href="#SHARED_ARENA_MAX_PERMITS_SYSPROP" class="member-name-link">SHARED_ARENA_MAX_PERMITS_SYSPROP</a></code></div>
<div class="col-last even-row-color">
<div class="block">This sysprop allows to control the total maximum number of mmapped files that can be associated
 with a single shared <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/foreign/Arena.html" title="class or interface in java.lang.foreign" class="external-link"><code>foreign Arena</code></a><sup><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/foreign/Arena.html#preview-java.lang.foreign.Arena" title="class or interface in java.lang.foreign" class="external-link">PREVIEW</a></sup>.</div>
</div>
</div>
<div class="inherited-list">
<h3 id="fields-inherited-from-class-org.apache.lucene.store.FSDirectory">Fields inherited from class&nbsp;org.apache.lucene.store.<a href="FSDirectory.html" title="class in org.apache.lucene.store">FSDirectory</a></h3>
<code><a href="FSDirectory.html#directory">directory</a></code></div>
<div class="inherited-list">
<h3 id="fields-inherited-from-class-org.apache.lucene.store.BaseDirectory">Fields inherited from class&nbsp;org.apache.lucene.store.<a href="BaseDirectory.html" title="class in org.apache.lucene.store">BaseDirectory</a></h3>
<code><a href="BaseDirectory.html#isOpen">isOpen</a>, <a href="BaseDirectory.html#lockFactory">lockFactory</a></code></div>
</section>
</li>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<li>
<section class="constructor-summary" id="constructor-summary">
<h2>Constructor Summary</h2>
<div class="caption"><span>Constructors</span></div>
<div class="summary-table two-column-summary">
<div class="table-header col-first">Constructor</div>
<div class="table-header col-last">Description</div>
<div class="col-constructor-name even-row-color"><code><a href="#%3Cinit%3E(java.nio.file.Path)" class="member-name-link">MMapDirectory</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/nio/file/Path.html" title="class or interface in java.nio.file" class="external-link">Path</a>&nbsp;path)</code></div>
<div class="col-last even-row-color">
<div class="block">Create a new MMapDirectory for the named location and <a href="FSLockFactory.html#getDefault()"><code>FSLockFactory.getDefault()</code></a>.</div>
</div>
<div class="col-constructor-name odd-row-color"><code><a href="#%3Cinit%3E(java.nio.file.Path,long)" class="member-name-link">MMapDirectory</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/nio/file/Path.html" title="class or interface in java.nio.file" class="external-link">Path</a>&nbsp;path,
 long&nbsp;maxChunkSize)</code></div>
<div class="col-last odd-row-color">
<div class="block">Create a new MMapDirectory for the named location and <a href="FSLockFactory.html#getDefault()"><code>FSLockFactory.getDefault()</code></a>.</div>
</div>
<div class="col-constructor-name even-row-color"><code><a href="#%3Cinit%3E(java.nio.file.Path,org.apache.lucene.store.LockFactory)" class="member-name-link">MMapDirectory</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/nio/file/Path.html" title="class or interface in java.nio.file" class="external-link">Path</a>&nbsp;path,
 <a href="LockFactory.html" title="class in org.apache.lucene.store">LockFactory</a>&nbsp;lockFactory)</code></div>
<div class="col-last even-row-color">
<div class="block">Create a new MMapDirectory for the named location.</div>
</div>
<div class="col-constructor-name odd-row-color"><code><a href="#%3Cinit%3E(java.nio.file.Path,org.apache.lucene.store.LockFactory,long)" class="member-name-link">MMapDirectory</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/nio/file/Path.html" title="class or interface in java.nio.file" class="external-link">Path</a>&nbsp;path,
 <a href="LockFactory.html" title="class in org.apache.lucene.store">LockFactory</a>&nbsp;lockFactory,
 long&nbsp;maxChunkSize)</code></div>
<div class="col-last odd-row-color">
<div class="block">Create a new MMapDirectory for the named location, specifying the maximum chunk size used for
 memory mapping.</div>
</div>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab1" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab1', 3)" class="table-tab">Static Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab4" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab4', 3)" class="table-tab">Concrete Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel">
<div class="summary-table three-column-summary" aria-labelledby="method-summary-table-tab0">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>final long</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getMaxChunkSize()" class="member-name-link">getMaxChunkSize</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns the current mmap chunk size.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="IndexInput.html" title="class in org.apache.lucene.store">IndexInput</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#openInput(java.lang.String,org.apache.lucene.store.IOContext)" class="member-name-link">openInput</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;name,
 <a href="IOContext.html" title="class in org.apache.lucene.store">IOContext</a>&nbsp;context)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Creates an IndexInput for the file with the given name.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#setGroupingFunction(java.util.function.Function)" class="member-name-link">setGroupingFunction</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/function/Function.html" title="class or interface in java.util.function" class="external-link">Function</a>&lt;<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Optional.html" title="class or interface in java.util" class="external-link">Optional</a>&lt;<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;&gt;&nbsp;groupingFunction)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Configures a grouping function for files that are part of the same logical group.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#setPreload(java.util.function.BiPredicate)" class="member-name-link">setPreload</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/function/BiPredicate.html" title="class or interface in java.util.function" class="external-link">BiPredicate</a>&lt;<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr><a href="IOContext.html" title="class in org.apache.lucene.store">IOContext</a>&gt;&nbsp;preload)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Configure which files to preload in physical memory upon opening.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#supportsMadvise()" class="member-name-link">supportsMadvise</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Returns true, if MMapDirectory uses the platform's <code>madvise()</code> syscall to advise how OS
 kernel should handle paging after opening a file.</div>
</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-org.apache.lucene.store.FSDirectory">Methods inherited from class&nbsp;org.apache.lucene.store.<a href="FSDirectory.html" title="class in org.apache.lucene.store">FSDirectory</a></h3>
<code><a href="FSDirectory.html#close()">close</a>, <a href="FSDirectory.html#createOutput(java.lang.String,org.apache.lucene.store.IOContext)">createOutput</a>, <a href="FSDirectory.html#createTempOutput(java.lang.String,java.lang.String,org.apache.lucene.store.IOContext)">createTempOutput</a>, <a href="FSDirectory.html#deleteFile(java.lang.String)">deleteFile</a>, <a href="FSDirectory.html#deletePendingFiles()">deletePendingFiles</a>, <a href="FSDirectory.html#ensureCanRead(java.lang.String)">ensureCanRead</a>, <a href="FSDirectory.html#fileLength(java.lang.String)">fileLength</a>, <a href="FSDirectory.html#fsync(java.lang.String)">fsync</a>, <a href="FSDirectory.html#getDirectory()">getDirectory</a>, <a href="FSDirectory.html#getPendingDeletions()">getPendingDeletions</a>, <a href="FSDirectory.html#listAll()">listAll</a>, <a href="FSDirectory.html#listAll(java.nio.file.Path)">listAll</a>, <a href="FSDirectory.html#open(java.nio.file.Path)">open</a>, <a href="FSDirectory.html#open(java.nio.file.Path,org.apache.lucene.store.LockFactory)">open</a>, <a href="FSDirectory.html#rename(java.lang.String,java.lang.String)">rename</a>, <a href="FSDirectory.html#sync(java.util.Collection)">sync</a>, <a href="FSDirectory.html#syncMetaData()">syncMetaData</a>, <a href="FSDirectory.html#toString()">toString</a></code></div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-org.apache.lucene.store.BaseDirectory">Methods inherited from class&nbsp;org.apache.lucene.store.<a href="BaseDirectory.html" title="class in org.apache.lucene.store">BaseDirectory</a></h3>
<code><a href="BaseDirectory.html#ensureOpen()">ensureOpen</a>, <a href="BaseDirectory.html#obtainLock(java.lang.String)">obtainLock</a></code></div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-org.apache.lucene.store.Directory">Methods inherited from class&nbsp;org.apache.lucene.store.<a href="Directory.html" title="class in org.apache.lucene.store">Directory</a></h3>
<code><a href="Directory.html#copyFrom(org.apache.lucene.store.Directory,java.lang.String,java.lang.String,org.apache.lucene.store.IOContext)">copyFrom</a>, <a href="Directory.html#getTempFileName(java.lang.String,java.lang.String,long)">getTempFileName</a>, <a href="Directory.html#openChecksumInput(java.lang.String)">openChecksumInput</a></code></div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-java.lang.Object">Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></h3>
<code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#clone--" title="class or interface in java.lang" class="external-link">clone</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#equals-java.lang.Object-" title="class or interface in java.lang" class="external-link">equals</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#finalize--" title="class or interface in java.lang" class="external-link">finalize</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#getClass--" title="class or interface in java.lang" class="external-link">getClass</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#hashCode--" title="class or interface in java.lang" class="external-link">hashCode</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#notify--" title="class or interface in java.lang" class="external-link">notify</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#notifyAll--" title="class or interface in java.lang" class="external-link">notifyAll</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#wait--" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#wait-long-" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#wait-long-int-" title="class or interface in java.lang" class="external-link">wait</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ============ FIELD DETAIL =========== -->
<li>
<section class="field-details" id="field-detail">
<h2>Field Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="ALL_FILES">
<h3>ALL_FILES</h3>
<div class="member-signature"><span class="modifiers">public static final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/function/BiPredicate.html" title="class or interface in java.util.function" class="external-link">BiPredicate</a>&lt;<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr><a href="IOContext.html" title="class in org.apache.lucene.store">IOContext</a>&gt;</span>&nbsp;<span class="element-name">ALL_FILES</span></div>
<div class="block">Argument for <a href="#setPreload(java.util.function.BiPredicate)"><code>setPreload(BiPredicate)</code></a> that configures all files to be preloaded upon
 opening them.</div>
</section>
</li>
<li>
<section class="detail" id="NO_FILES">
<h3>NO_FILES</h3>
<div class="member-signature"><span class="modifiers">public static final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/function/BiPredicate.html" title="class or interface in java.util.function" class="external-link">BiPredicate</a>&lt;<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr><a href="IOContext.html" title="class in org.apache.lucene.store">IOContext</a>&gt;</span>&nbsp;<span class="element-name">NO_FILES</span></div>
<div class="block">Argument for <a href="#setPreload(java.util.function.BiPredicate)"><code>setPreload(BiPredicate)</code></a> that configures no files to be preloaded upon
 opening them.</div>
</section>
</li>
<li>
<section class="detail" id="SHARED_ARENA_MAX_PERMITS_SYSPROP">
<h3>SHARED_ARENA_MAX_PERMITS_SYSPROP</h3>
<div class="member-signature"><span class="modifiers">public static final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">SHARED_ARENA_MAX_PERMITS_SYSPROP</span></div>
<div class="block">This sysprop allows to control the total maximum number of mmapped files that can be associated
 with a single shared <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/foreign/Arena.html" title="class or interface in java.lang.foreign" class="external-link"><code>foreign Arena</code></a><sup><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/foreign/Arena.html#preview-java.lang.foreign.Arena" title="class or interface in java.lang.foreign" class="external-link">PREVIEW</a></sup>. For example, to set the max
 number of permits to 256, pass the following on the command line pass <code>
 -Dorg.apache.lucene.store.MMapDirectory.sharedArenaMaxPermits=256</code>. Setting a value of 1
 associates one file to one shared arena.</div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="tag-list">
<li><a href="../../../../constant-values.html#org.apache.lucene.store.MMapDirectory.SHARED_ARENA_MAX_PERMITS_SYSPROP">Constant Field Values</a></li>
</ul>
</dd>
<dt>NOTE: This API is for internal purposes only and might change in incompatible ways in the next release.</dt>
</dl>
</section>
</li>
<li>
<section class="detail" id="NO_GROUPING">
<h3>NO_GROUPING</h3>
<div class="member-signature"><span class="modifiers">public static final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/function/Function.html" title="class or interface in java.util.function" class="external-link">Function</a>&lt;<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Optional.html" title="class or interface in java.util" class="external-link">Optional</a>&lt;<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;&gt;</span>&nbsp;<span class="element-name">NO_GROUPING</span></div>
<div class="block">Argument for <a href="#setGroupingFunction(java.util.function.Function)"><code>setGroupingFunction(Function)</code></a> that configures no grouping.</div>
</section>
</li>
<li>
<section class="detail" id="GROUP_BY_SEGMENT">
<h3>GROUP_BY_SEGMENT</h3>
<div class="member-signature"><span class="modifiers">public static final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/function/Function.html" title="class or interface in java.util.function" class="external-link">Function</a>&lt;<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Optional.html" title="class or interface in java.util" class="external-link">Optional</a>&lt;<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;&gt;</span>&nbsp;<span class="element-name">GROUP_BY_SEGMENT</span></div>
<div class="block">Argument for <a href="#setGroupingFunction(java.util.function.Function)"><code>setGroupingFunction(Function)</code></a> that configures grouping by segment.</div>
</section>
</li>
<li>
<section class="detail" id="BASED_ON_LOAD_IO_CONTEXT">
<h3>BASED_ON_LOAD_IO_CONTEXT</h3>
<div class="member-signature"><span class="modifiers">public static final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/function/BiPredicate.html" title="class or interface in java.util.function" class="external-link">BiPredicate</a>&lt;<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr><a href="IOContext.html" title="class in org.apache.lucene.store">IOContext</a>&gt;</span>&nbsp;<span class="element-name">BASED_ON_LOAD_IO_CONTEXT</span></div>
<div class="block">Argument for <a href="#setPreload(java.util.function.BiPredicate)"><code>setPreload(BiPredicate)</code></a> that configures files to be preloaded upon
 opening them if they use the <a href="ReadAdvice.html#RANDOM_PRELOAD"><code>ReadAdvice.RANDOM_PRELOAD</code></a> advice.</div>
</section>
</li>
<li>
<section class="detail" id="DEFAULT_MAX_CHUNK_SIZE">
<h3>DEFAULT_MAX_CHUNK_SIZE</h3>
<div class="member-signature"><span class="modifiers">public static final</span>&nbsp;<span class="return-type">long</span>&nbsp;<span class="element-name">DEFAULT_MAX_CHUNK_SIZE</span></div>
<div class="block">Default max chunk size:

 <ul>
   <li>16 GiBytes for 64 bit JVMs
   <li>256 MiBytes for 32 bit JVMs
 </ul></div>
</section>
</li>
</ul>
</section>
</li>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<li>
<section class="constructor-details" id="constructor-detail">
<h2>Constructor Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="&lt;init&gt;(java.nio.file.Path,org.apache.lucene.store.LockFactory)">
<h3>MMapDirectory</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name">MMapDirectory</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/nio/file/Path.html" title="class or interface in java.nio.file" class="external-link">Path</a>&nbsp;path,
 <a href="LockFactory.html" title="class in org.apache.lucene.store">LockFactory</a>&nbsp;lockFactory)</span>
              throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<div class="block">Create a new MMapDirectory for the named location. The directory is created at the named
 location if it does not yet exist.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>path</code> - the path of the directory</dd>
<dd><code>lockFactory</code> - the lock factory to use</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code> - if there is a low-level I/O error</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="&lt;init&gt;(java.nio.file.Path)">
<h3>MMapDirectory</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name">MMapDirectory</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/nio/file/Path.html" title="class or interface in java.nio.file" class="external-link">Path</a>&nbsp;path)</span>
              throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<div class="block">Create a new MMapDirectory for the named location and <a href="FSLockFactory.html#getDefault()"><code>FSLockFactory.getDefault()</code></a>. The
 directory is created at the named location if it does not yet exist.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>path</code> - the path of the directory</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code> - if there is a low-level I/O error</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="&lt;init&gt;(java.nio.file.Path,long)">
<h3>MMapDirectory</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name">MMapDirectory</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/nio/file/Path.html" title="class or interface in java.nio.file" class="external-link">Path</a>&nbsp;path,
 long&nbsp;maxChunkSize)</span>
              throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<div class="block">Create a new MMapDirectory for the named location and <a href="FSLockFactory.html#getDefault()"><code>FSLockFactory.getDefault()</code></a>. The
 directory is created at the named location if it does not yet exist.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>path</code> - the path of the directory</dd>
<dd><code>maxChunkSize</code> - maximum chunk size (for default see <a href="#DEFAULT_MAX_CHUNK_SIZE"><code>DEFAULT_MAX_CHUNK_SIZE</code></a>) used
     for memory mapping.</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code> - if there is a low-level I/O error</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="&lt;init&gt;(java.nio.file.Path,org.apache.lucene.store.LockFactory,long)">
<h3>MMapDirectory</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name">MMapDirectory</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/nio/file/Path.html" title="class or interface in java.nio.file" class="external-link">Path</a>&nbsp;path,
 <a href="LockFactory.html" title="class in org.apache.lucene.store">LockFactory</a>&nbsp;lockFactory,
 long&nbsp;maxChunkSize)</span>
              throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<div class="block">Create a new MMapDirectory for the named location, specifying the maximum chunk size used for
 memory mapping. The directory is created at the named location if it does not yet exist.

 <p>Especially on 32 bit platform, the address space can be very fragmented, so large index
 files cannot be mapped. Using a lower chunk size makes the directory implementation a little
 bit slower (as the correct chunk may be resolved on lots of seeks) but the chance is higher
 that mmap does not fail. On 64 bit Java platforms, this parameter should always be large (like
 1 GiBytes, or even larger with recent Java versions), as the address space is big enough. If it
 is larger, fragmentation of address space increases, but number of file handles and mappings is
 lower for huge installations with many open indexes.

 <p><b>Please note:</b> The chunk size is always rounded down to a power of 2.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>path</code> - the path of the directory</dd>
<dd><code>lockFactory</code> - the lock factory to use, or null for the default (<a href="NativeFSLockFactory.html" title="class in org.apache.lucene.store"><code>NativeFSLockFactory</code></a>);</dd>
<dd><code>maxChunkSize</code> - maximum chunk size (for default see <a href="#DEFAULT_MAX_CHUNK_SIZE"><code>DEFAULT_MAX_CHUNK_SIZE</code></a>) used
     for memory mapping.</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code> - if there is a low-level I/O error</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="setPreload(java.util.function.BiPredicate)">
<h3>setPreload</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">setPreload</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/function/BiPredicate.html" title="class or interface in java.util.function" class="external-link">BiPredicate</a>&lt;<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr><a href="IOContext.html" title="class in org.apache.lucene.store">IOContext</a>&gt;&nbsp;preload)</span></div>
<div class="block">Configure which files to preload in physical memory upon opening. The default implementation
 does not preload anything. The behavior is best effort and operating system-dependent.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>preload</code> - a <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/function/BiPredicate.html" title="class or interface in java.util.function" class="external-link"><code>BiPredicate</code></a> whose first argument is the file name, and second argument
     is the <a href="IOContext.html" title="class in org.apache.lucene.store"><code>IOContext</code></a> used to open the file</dd>
<dt>See Also:</dt>
<dd>
<ul class="tag-list">
<li><a href="#ALL_FILES"><code>ALL_FILES</code></a></li>
<li><a href="#NO_FILES"><code>NO_FILES</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="setGroupingFunction(java.util.function.Function)">
<h3>setGroupingFunction</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">setGroupingFunction</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/function/Function.html" title="class or interface in java.util.function" class="external-link">Function</a>&lt;<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Optional.html" title="class or interface in java.util" class="external-link">Optional</a>&lt;<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;&gt;&nbsp;groupingFunction)</span></div>
<div class="block">Configures a grouping function for files that are part of the same logical group. The gathering
 of files into a logical group is a hint that allows for better handling of resources.

 <p>By default, grouping is <a href="#GROUP_BY_SEGMENT"><code>GROUP_BY_SEGMENT</code></a>. To disable, invoke this method with
 <a href="#NO_GROUPING"><code>NO_GROUPING</code></a>.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>groupingFunction</code> - a function that accepts a file name and returns an optional group key.
     If the optional is present, then its value is the logical group to which the file belongs.
     Otherwise, the file name if not associated with any logical group.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getMaxChunkSize()">
<h3>getMaxChunkSize</h3>
<div class="member-signature"><span class="modifiers">public final</span>&nbsp;<span class="return-type">long</span>&nbsp;<span class="element-name">getMaxChunkSize</span>()</div>
<div class="block">Returns the current mmap chunk size.</div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="tag-list-long">
<li><a href="#%3Cinit%3E(java.nio.file.Path,org.apache.lucene.store.LockFactory,long)"><code>MMapDirectory(Path, LockFactory, long)</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="openInput(java.lang.String,org.apache.lucene.store.IOContext)">
<h3>openInput</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="IndexInput.html" title="class in org.apache.lucene.store">IndexInput</a></span>&nbsp;<span class="element-name">openInput</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;name,
 <a href="IOContext.html" title="class in org.apache.lucene.store">IOContext</a>&nbsp;context)</span>
                     throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<div class="block">Creates an IndexInput for the file with the given name.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="Directory.html#openInput(java.lang.String,org.apache.lucene.store.IOContext)">openInput</a></code>&nbsp;in class&nbsp;<code><a href="Directory.html" title="class in org.apache.lucene.store">Directory</a></code></dd>
<dt>Parameters:</dt>
<dd><code>name</code> - the name of an existing file.</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code> - in case of I/O error</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="supportsMadvise()">
<h3>supportsMadvise</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">supportsMadvise</span>()</div>
<div class="block">Returns true, if MMapDirectory uses the platform's <code>madvise()</code> syscall to advise how OS
 kernel should handle paging after opening a file.</div>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
<footer role="contentinfo">
<hr>
<p class="legal-copy"><small><i>Copyright &copy; 2000-2025 Apache Software Foundation. All Rights Reserved.</i></small></p>
</footer>
</div>
</div>
</body>
</html>
