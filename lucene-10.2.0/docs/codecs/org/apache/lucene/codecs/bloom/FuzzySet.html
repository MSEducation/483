<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (21) on Fri Apr 04 15:37:38 CEST 2025 -->
<title>FuzzySet (Lucene 10.2.0 codecs API)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="dc.created" content="2025-04-04">
<meta name="description" content="declaration: package: org.apache.lucene.codecs.bloom, class: FuzzySet">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../script-dir/jquery-ui.min.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
<script type="text/javascript" src="../../../../../script-dir/jquery-3.6.1.min.js"></script>
<script type="text/javascript" src="../../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var pathtoroot = "../../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top"><button id="navbar-toggle-button" aria-controls="navbar-top" aria-expanded="false" aria-label="Toggle navigation links"><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span></button>
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="class-use/FuzzySet.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html#class">Help</a></li>
</ul>
<ul class="sub-nav-list-small">
<li>
<p>Summary:</p>
<ul>
<li><a href="#nested-class-summary">Nested</a></li>
<li><a href="#field-summary">Field</a></li>
<li>Constr</li>
<li><a href="#method-summary">Method</a></li>
</ul>
</li>
<li>
<p>Detail:</p>
<ul>
<li>Field</li>
<li>Constr</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</li>
</ul>
</div>
<div class="sub-nav">
<div id="navbar-sub-list">
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li><a href="#nested-class-summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field-summary">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><a href="../../../../../search.html">SEARCH</a>
<input type="text" id="search-input" disabled placeholder="Search">
<input type="reset" id="reset-button" disabled value="reset">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">org.apache.lucene.codecs.bloom</a></div>
<h1 title="Class FuzzySet" class="title">Class FuzzySet</h1>
</div>
<div class="inheritance" title="Inheritance Tree"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">java.lang.Object</a>
<div class="inheritance">org.apache.lucene.codecs.bloom.FuzzySet</div>
</div>
<section class="class-description" id="class-description">
<dl class="notes">
<dt>All Implemented Interfaces:</dt>
<dd><code><a href="../../../../../../core/org/apache/lucene/util/Accountable.html" title="class or interface in org.apache.lucene.util" class="external-link">Accountable</a></code></dd>
</dl>
<hr>
<div class="type-signature"><span class="modifiers">public class </span><span class="element-name type-name-label">FuzzySet</span>
<span class="extends-implements">extends <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>
implements <a href="../../../../../../core/org/apache/lucene/util/Accountable.html" title="class or interface in org.apache.lucene.util" class="external-link">Accountable</a></span></div>
<div class="block">A class used to represent a set of many, potentially large, values (e.g. many long strings such
 as URLs), using a significantly smaller amount of memory.

 <p>The set is "lossy" in that it cannot definitively state that is does contain a value but it
 <em>can</em> definitively say if a value is <em>not</em> in the set. It can therefore be used as
 a Bloom Filter. Another application of the set is that it can be used to perform fuzzy counting
 because it can estimate reasonably accurately how many unique values are contained in the set.

 <p>This class is NOT threadsafe.

 <p>Internally a Bitset is used to record values and once a client has finished recording a stream
 of values the <a href="#downsize(float)"><code>downsize(float)</code></a> method can be used to create a suitably smaller set that
 is sized appropriately for the number of values recorded and desired saturation levels.</div>
<dl class="notes">
<dt>WARNING: This API is experimental and might change in incompatible ways in the next release.</dt>
</dl>
</section>
<section class="summary">
<ul class="summary-list">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<li>
<section class="nested-class-summary" id="nested-class-summary">
<h2>Nested Class Summary</h2>
<div class="caption"><span>Nested Classes</span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Class</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code>static enum&nbsp;</code></div>
<div class="col-second even-row-color"><code><a href="FuzzySet.ContainsResult.html" class="type-name-link" title="enum class in org.apache.lucene.codecs.bloom">FuzzySet.ContainsResult</a></code></div>
<div class="col-last even-row-color">
<div class="block">Result from <a href="#contains(org.apache.lucene.util.BytesRef)"><code>contains(BytesRef)</code></a>: can never return definitively YES (always
 MAYBE), but can sometimes definitely return NO.</div>
</div>
</div>
</section>
</li>
<!-- =========== FIELD SUMMARY =========== -->
<li>
<section class="field-summary" id="field-summary">
<h2>Field Summary</h2>
<div class="inherited-list">
<h3 id="fields-inherited-from-class-org.apache.lucene.util.Accountable">Fields inherited from interface&nbsp;org.apache.lucene.util.<a href="../../../../../../core/org/apache/lucene/util/Accountable.html" title="class or interface in org.apache.lucene.util" class="external-link">Accountable</a></h3>
<code><a href="../../../../../../core/org/apache/lucene/util/Accountable.html#NULL_ACCOUNTABLE" title="class or interface in org.apache.lucene.util" class="external-link">NULL_ACCOUNTABLE</a></code></div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab1" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab1', 3)" class="table-tab">Static Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab4" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab4', 3)" class="table-tab">Concrete Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel">
<div class="summary-table three-column-summary" aria-labelledby="method-summary-table-tab0">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#addValue(org.apache.lucene.util.BytesRef)" class="member-name-link">addValue</a><wbr>(<a href="../../../../../../core/org/apache/lucene/util/BytesRef.html" title="class or interface in org.apache.lucene.util" class="external-link">BytesRef</a>&nbsp;value)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Records a value in the set.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="FuzzySet.ContainsResult.html" title="enum class in org.apache.lucene.codecs.bloom">FuzzySet.ContainsResult</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#contains(org.apache.lucene.util.BytesRef)" class="member-name-link">contains</a><wbr>(<a href="../../../../../../core/org/apache/lucene/util/BytesRef.html" title="class or interface in org.apache.lucene.util" class="external-link">BytesRef</a>&nbsp;value)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">The main method required for a Bloom filter which, given a value determines set membership.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static <a href="FuzzySet.html" title="class in org.apache.lucene.codecs.bloom">FuzzySet</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#createOptimalSet(int,float)" class="member-name-link">createOptimalSet</a><wbr>(int&nbsp;maxNumUniqueValues,
 float&nbsp;targetMaxFpp)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static <a href="FuzzySet.html" title="class in org.apache.lucene.codecs.bloom">FuzzySet</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#createSetBasedOnMaxMemory(int)" class="member-name-link">createSetBasedOnMaxMemory</a><wbr>(int&nbsp;maxNumBytes)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static <a href="FuzzySet.html" title="class in org.apache.lucene.codecs.bloom">FuzzySet</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#createSetBasedOnQuality(int,float,int)" class="member-name-link">createSetBasedOnQuality</a><wbr>(int&nbsp;maxNumUniqueValues,
 float&nbsp;desiredMaxSaturation,
 int&nbsp;version)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static <a href="FuzzySet.html" title="class in org.apache.lucene.codecs.bloom">FuzzySet</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#deserialize(org.apache.lucene.store.DataInput)" class="member-name-link">deserialize</a><wbr>(<a href="../../../../../../core/org/apache/lucene/store/DataInput.html" title="class or interface in org.apache.lucene.store" class="external-link">DataInput</a>&nbsp;in)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="FuzzySet.html" title="class in org.apache.lucene.codecs.bloom">FuzzySet</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#downsize(float)" class="member-name-link">downsize</a><wbr>(float&nbsp;targetMaxSaturation)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static int</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#getEstimatedNumberUniqueValuesAllowingForCollisions(int,int)" class="member-name-link">getEstimatedNumberUniqueValuesAllowingForCollisions</a><wbr>(int&nbsp;setSize,
 int&nbsp;numRecordedBits)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>int</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getEstimatedUniqueValues()" class="member-name-link">getEstimatedUniqueValues</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static int</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#getNearestSetSize(int)" class="member-name-link">getNearestSetSize</a><wbr>(int&nbsp;maxNumberOfBits)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Rounds down required maxNumberOfBits to the nearest number that is made up of all ones as a
 binary number.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static int</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#getNearestSetSize(int,float)" class="member-name-link">getNearestSetSize</a><wbr>(int&nbsp;maxNumberOfValuesExpected,
 float&nbsp;desiredSaturation)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Use this method to choose a set size where accuracy (low content saturation) is more important
 than deciding how much memory to throw at the problem.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>float</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getSaturation()" class="member-name-link">getSaturation</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>float</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getTargetMaxSaturation()" class="member-name-link">getTargetMaxSaturation</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>long</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#ramBytesUsed()" class="member-name-link">ramBytesUsed</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#serialize(org.apache.lucene.store.DataOutput)" class="member-name-link">serialize</a><wbr>(<a href="../../../../../../core/org/apache/lucene/store/DataOutput.html" title="class or interface in org.apache.lucene.store" class="external-link">DataOutput</a>&nbsp;out)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Serializes the data set to file using the following format:

 
   FuzzySet --&gt;hashCount,BloomSize, NumBitSetWords,BitSetWord<sup>NumBitSetWords</sup>
   hashCount --&gt; <a href="../../../../../../core/org/apache/lucene/store/DataOutput.html#writeVInt(int)" title="class or interface in org.apache.lucene.store" class="external-link"><code>Uint32</code></a> The number of hash functions (k).</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#toString()" class="member-name-link">toString</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-java.lang.Object">Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></h3>
<code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#clone--" title="class or interface in java.lang" class="external-link">clone</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#equals-java.lang.Object-" title="class or interface in java.lang" class="external-link">equals</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#finalize--" title="class or interface in java.lang" class="external-link">finalize</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#getClass--" title="class or interface in java.lang" class="external-link">getClass</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#hashCode--" title="class or interface in java.lang" class="external-link">hashCode</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#notify--" title="class or interface in java.lang" class="external-link">notify</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#notifyAll--" title="class or interface in java.lang" class="external-link">notifyAll</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#wait--" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#wait-long-" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#wait-long-int-" title="class or interface in java.lang" class="external-link">wait</a></code></div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-org.apache.lucene.util.Accountable">Methods inherited from interface&nbsp;org.apache.lucene.util.<a href="../../../../../../core/org/apache/lucene/util/Accountable.html" title="class or interface in org.apache.lucene.util" class="external-link">Accountable</a></h3>
<code><a href="../../../../../../core/org/apache/lucene/util/Accountable.html#getChildResources()" title="class or interface in org.apache.lucene.util" class="external-link">getChildResources</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="getNearestSetSize(int)">
<h3>getNearestSetSize</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">getNearestSetSize</span><wbr><span class="parameters">(int&nbsp;maxNumberOfBits)</span></div>
<div class="block">Rounds down required maxNumberOfBits to the nearest number that is made up of all ones as a
 binary number. Use this method where controlling memory use is paramount.</div>
</section>
</li>
<li>
<section class="detail" id="getNearestSetSize(int,float)">
<h3>getNearestSetSize</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">getNearestSetSize</span><wbr><span class="parameters">(int&nbsp;maxNumberOfValuesExpected,
 float&nbsp;desiredSaturation)</span></div>
<div class="block">Use this method to choose a set size where accuracy (low content saturation) is more important
 than deciding how much memory to throw at the problem.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>desiredSaturation</code> - A number between 0 and 1 expressing the % of bits set once all values
     have been recorded</dd>
<dt>Returns:</dt>
<dd>The size of the set nearest to the required size</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="createSetBasedOnMaxMemory(int)">
<h3>createSetBasedOnMaxMemory</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type"><a href="FuzzySet.html" title="class in org.apache.lucene.codecs.bloom">FuzzySet</a></span>&nbsp;<span class="element-name">createSetBasedOnMaxMemory</span><wbr><span class="parameters">(int&nbsp;maxNumBytes)</span></div>
</section>
</li>
<li>
<section class="detail" id="createSetBasedOnQuality(int,float,int)">
<h3>createSetBasedOnQuality</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type"><a href="FuzzySet.html" title="class in org.apache.lucene.codecs.bloom">FuzzySet</a></span>&nbsp;<span class="element-name">createSetBasedOnQuality</span><wbr><span class="parameters">(int&nbsp;maxNumUniqueValues,
 float&nbsp;desiredMaxSaturation,
 int&nbsp;version)</span></div>
</section>
</li>
<li>
<section class="detail" id="createOptimalSet(int,float)">
<h3>createOptimalSet</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type"><a href="FuzzySet.html" title="class in org.apache.lucene.codecs.bloom">FuzzySet</a></span>&nbsp;<span class="element-name">createOptimalSet</span><wbr><span class="parameters">(int&nbsp;maxNumUniqueValues,
 float&nbsp;targetMaxFpp)</span></div>
</section>
</li>
<li>
<section class="detail" id="contains(org.apache.lucene.util.BytesRef)">
<h3>contains</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="FuzzySet.ContainsResult.html" title="enum class in org.apache.lucene.codecs.bloom">FuzzySet.ContainsResult</a></span>&nbsp;<span class="element-name">contains</span><wbr><span class="parameters">(<a href="../../../../../../core/org/apache/lucene/util/BytesRef.html" title="class or interface in org.apache.lucene.util" class="external-link">BytesRef</a>&nbsp;value)</span></div>
<div class="block">The main method required for a Bloom filter which, given a value determines set membership.
 Unlike a conventional set, the fuzzy set returns NO or MAYBE rather than true or false. Hash
 generation follows the same principles as <a href="#addValue(org.apache.lucene.util.BytesRef)"><code>addValue(BytesRef)</code></a></div>
<dl class="notes">
<dt>Returns:</dt>
<dd>NO or MAYBE</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="serialize(org.apache.lucene.store.DataOutput)">
<h3>serialize</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">serialize</span><wbr><span class="parameters">(<a href="../../../../../../core/org/apache/lucene/store/DataOutput.html" title="class or interface in org.apache.lucene.store" class="external-link">DataOutput</a>&nbsp;out)</span>
               throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<div class="block">Serializes the data set to file using the following format:

 <ul>
   <li>FuzzySet --&gt;hashCount,BloomSize, NumBitSetWords,BitSetWord<sup>NumBitSetWords</sup>
   <li>hashCount --&gt; <a href="../../../../../../core/org/apache/lucene/store/DataOutput.html#writeVInt(int)" title="class or interface in org.apache.lucene.store" class="external-link"><code>Uint32</code></a> The number of hash functions (k).
   <li>BloomSize --&gt; <a href="../../../../../../core/org/apache/lucene/store/DataOutput.html#writeInt(int)" title="class or interface in org.apache.lucene.store" class="external-link"><code>Uint32</code></a> The modulo value used to project
       hashes into the field's Bitset
   <li>NumBitSetWords --&gt; <a href="../../../../../../core/org/apache/lucene/store/DataOutput.html#writeInt(int)" title="class or interface in org.apache.lucene.store" class="external-link"><code>Uint32</code></a> The number of longs (as returned
       from <a href="../../../../../../core/org/apache/lucene/util/FixedBitSet.html#getBits()" title="class or interface in org.apache.lucene.util" class="external-link"><code>FixedBitSet.getBits()</code></a>)
   <li>BitSetWord --&gt; <a href="../../../../../../core/org/apache/lucene/store/DataOutput.html#writeLong(long)" title="class or interface in org.apache.lucene.store" class="external-link"><code>Long</code></a> A long from the array returned by
       <a href="../../../../../../core/org/apache/lucene/util/FixedBitSet.html#getBits()" title="class or interface in org.apache.lucene.util" class="external-link"><code>FixedBitSet.getBits()</code></a>
 </ul></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>out</code> - Data output stream</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code> - If there is a low-level I/O error</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="deserialize(org.apache.lucene.store.DataInput)">
<h3>deserialize</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type"><a href="FuzzySet.html" title="class in org.apache.lucene.codecs.bloom">FuzzySet</a></span>&nbsp;<span class="element-name">deserialize</span><wbr><span class="parameters">(<a href="../../../../../../core/org/apache/lucene/store/DataInput.html" title="class or interface in org.apache.lucene.store" class="external-link">DataInput</a>&nbsp;in)</span>
                            throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<dl class="notes">
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="addValue(org.apache.lucene.util.BytesRef)">
<h3>addValue</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">addValue</span><wbr><span class="parameters">(<a href="../../../../../../core/org/apache/lucene/util/BytesRef.html" title="class or interface in org.apache.lucene.util" class="external-link">BytesRef</a>&nbsp;value)</span>
              throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<div class="block">Records a value in the set. The referenced bytes are hashed. From the 64-bit generated hash,
 two 32-bit hashes are derived from the msb and lsb which can be used to derive more hashes (see
 https://www.eecs.harvard.edu/~michaelm/postscripts/rsa2008.pdf). Finally, each generated hash
 is modulo n'd where n is the chosen size of the internal bitset.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>value</code> - the key value to be hashed</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code> - If there is a low-level I/O error</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="downsize(float)">
<h3>downsize</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="FuzzySet.html" title="class in org.apache.lucene.codecs.bloom">FuzzySet</a></span>&nbsp;<span class="element-name">downsize</span><wbr><span class="parameters">(float&nbsp;targetMaxSaturation)</span></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>targetMaxSaturation</code> - A number between 0 and 1 describing the % of bits that would ideally
     be set in the result. Lower values have better accuracy but require more space.</dd>
<dt>Returns:</dt>
<dd>a smaller FuzzySet or null if the current set is already over-saturated</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getEstimatedUniqueValues()">
<h3>getEstimatedUniqueValues</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">getEstimatedUniqueValues</span>()</div>
</section>
</li>
<li>
<section class="detail" id="getEstimatedNumberUniqueValuesAllowingForCollisions(int,int)">
<h3>getEstimatedNumberUniqueValuesAllowingForCollisions</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">getEstimatedNumberUniqueValuesAllowingForCollisions</span><wbr><span class="parameters">(int&nbsp;setSize,
 int&nbsp;numRecordedBits)</span></div>
</section>
</li>
<li>
<section class="detail" id="getTargetMaxSaturation()">
<h3>getTargetMaxSaturation</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">float</span>&nbsp;<span class="element-name">getTargetMaxSaturation</span>()</div>
</section>
</li>
<li>
<section class="detail" id="getSaturation()">
<h3>getSaturation</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">float</span>&nbsp;<span class="element-name">getSaturation</span>()</div>
</section>
</li>
<li>
<section class="detail" id="ramBytesUsed()">
<h3>ramBytesUsed</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">long</span>&nbsp;<span class="element-name">ramBytesUsed</span>()</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="../../../../../../core/org/apache/lucene/util/Accountable.html#ramBytesUsed()" title="class or interface in org.apache.lucene.util" class="external-link">ramBytesUsed</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../core/org/apache/lucene/util/Accountable.html" title="class or interface in org.apache.lucene.util" class="external-link">Accountable</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="toString()">
<h3>toString</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">toString</span>()</div>
<dl class="notes">
<dt>Overrides:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#toString--" title="class or interface in java.lang" class="external-link">toString</a></code>&nbsp;in class&nbsp;<code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></code></dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
<footer role="contentinfo">
<hr>
<p class="legal-copy"><small><i>Copyright &copy; 2000-2025 Apache Software Foundation. All Rights Reserved.</i></small></p>
</footer>
</div>
</div>
</body>
</html>
