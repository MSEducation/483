<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (21) on Fri Apr 04 15:37:41 CEST 2025 -->
<title>GroupingSearch (Lucene 10.2.0 grouping API)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="dc.created" content="2025-04-04">
<meta name="description" content="declaration: package: org.apache.lucene.search.grouping, class: GroupingSearch">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../script-dir/jquery-ui.min.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
<script type="text/javascript" src="../../../../../script-dir/jquery-3.6.1.min.js"></script>
<script type="text/javascript" src="../../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var pathtoroot = "../../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top"><button id="navbar-toggle-button" aria-controls="navbar-top" aria-expanded="false" aria-label="Toggle navigation links"><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span></button>
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="class-use/GroupingSearch.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html#class">Help</a></li>
</ul>
<ul class="sub-nav-list-small">
<li>
<p>Summary:</p>
<ul>
<li>Nested</li>
<li>Field</li>
<li><a href="#constructor-summary">Constr</a></li>
<li><a href="#method-summary">Method</a></li>
</ul>
</li>
<li>
<p>Detail:</p>
<ul>
<li>Field</li>
<li><a href="#constructor-detail">Constr</a></li>
<li><a href="#method-detail">Method</a></li>
</ul>
</li>
</ul>
</div>
<div class="sub-nav">
<div id="navbar-sub-list">
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor-summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor-detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><a href="../../../../../search.html">SEARCH</a>
<input type="text" id="search-input" disabled placeholder="Search">
<input type="reset" id="reset-button" disabled value="reset">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">org.apache.lucene.search.grouping</a></div>
<h1 title="Class GroupingSearch" class="title">Class GroupingSearch</h1>
</div>
<div class="inheritance" title="Inheritance Tree"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">java.lang.Object</a>
<div class="inheritance">org.apache.lucene.search.grouping.GroupingSearch</div>
</div>
<section class="class-description" id="class-description">
<hr>
<div class="type-signature"><span class="modifiers">public class </span><span class="element-name type-name-label">GroupingSearch</span>
<span class="extends-implements">extends <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></span></div>
<div class="block">Convenience class to perform grouping in a non distributed environment.</div>
<dl class="notes">
<dt>WARNING: This API is experimental and might change in incompatible ways in the next release.</dt>
</dl>
</section>
<section class="summary">
<ul class="summary-list">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<li>
<section class="constructor-summary" id="constructor-summary">
<h2>Constructor Summary</h2>
<div class="caption"><span>Constructors</span></div>
<div class="summary-table two-column-summary">
<div class="table-header col-first">Constructor</div>
<div class="table-header col-last">Description</div>
<div class="col-constructor-name even-row-color"><code><a href="#%3Cinit%3E(java.lang.String)" class="member-name-link">GroupingSearch</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;groupField)</code></div>
<div class="col-last even-row-color">
<div class="block">Constructs a <code>GroupingSearch</code> instance that groups documents by index terms using
 DocValues.</div>
</div>
<div class="col-constructor-name odd-row-color"><code><a href="#%3Cinit%3E(org.apache.lucene.queries.function.ValueSource,java.util.Map)" class="member-name-link">GroupingSearch</a><wbr>(<a href="../../../../../../queries/org/apache/lucene/queries/function/ValueSource.html" title="class or interface in org.apache.lucene.queries.function" class="external-link">ValueSource</a>&nbsp;groupFunction,
 <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>,<wbr><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&gt;&nbsp;valueSourceContext)</code></div>
<div class="col-last odd-row-color">
<div class="block">Constructs a <code>GroupingSearch</code> instance that groups documents by function using a
 <a href="../../../../../../queries/org/apache/lucene/queries/function/ValueSource.html" title="class or interface in org.apache.lucene.queries.function" class="external-link"><code>ValueSource</code></a> instance.</div>
</div>
<div class="col-constructor-name even-row-color"><code><a href="#%3Cinit%3E(org.apache.lucene.search.grouping.GroupSelector)" class="member-name-link">GroupingSearch</a><wbr>(<a href="GroupSelector.html" title="class in org.apache.lucene.search.grouping">GroupSelector</a>&lt;?&gt;&nbsp;groupSelector)</code></div>
<div class="col-last even-row-color">
<div class="block">Constructs a <code>GroupingSearch</code> instance that groups documents using a <a href="GroupSelector.html" title="class in org.apache.lucene.search.grouping"><code>GroupSelector</code></a></div>
</div>
<div class="col-constructor-name odd-row-color"><code><a href="#%3Cinit%3E(org.apache.lucene.search.Query)" class="member-name-link">GroupingSearch</a><wbr>(<a href="../../../../../../core/org/apache/lucene/search/Query.html" title="class or interface in org.apache.lucene.search" class="external-link">Query</a>&nbsp;groupEndDocs)</code></div>
<div class="col-last odd-row-color">
<div class="block">Constructor for grouping documents by doc block.</div>
</div>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab4" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab4', 3)" class="table-tab">Concrete Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel">
<div class="summary-table three-column-summary" aria-labelledby="method-summary-table-tab0">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="GroupingSearch.html" title="class in org.apache.lucene.search.grouping">GroupingSearch</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#disableCaching()" class="member-name-link">disableCaching</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Disables any enabled cache.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="../../../../../../core/org/apache/lucene/util/Bits.html" title="class or interface in org.apache.lucene.util" class="external-link">Bits</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getAllGroupHeads()" class="member-name-link">getAllGroupHeads</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns the matching group heads if <a href="#setAllGroupHeads(boolean)"><code>setAllGroupHeads(boolean)</code></a> was set to true or an
 empty bit set.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>&lt;T&gt;&nbsp;<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Collection.html" title="class or interface in java.util" class="external-link">Collection</a><wbr>&lt;T&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getAllMatchingGroups()" class="member-name-link">getAllMatchingGroups</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">If <a href="#setAllGroups(boolean)"><code>setAllGroups(boolean)</code></a> was set to <code>true</code> then all matching groups are
 returned, otherwise an empty collection is returned.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected <a href="TopGroups.html" title="class in org.apache.lucene.search.grouping">TopGroups</a><wbr>&lt;?&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#groupByDocBlock(org.apache.lucene.search.IndexSearcher,org.apache.lucene.search.Query,int,int)" class="member-name-link">groupByDocBlock</a><wbr>(<a href="../../../../../../core/org/apache/lucene/search/IndexSearcher.html" title="class or interface in org.apache.lucene.search" class="external-link">IndexSearcher</a>&nbsp;searcher,
 <a href="../../../../../../core/org/apache/lucene/search/Query.html" title="class or interface in org.apache.lucene.search" class="external-link">Query</a>&nbsp;query,
 int&nbsp;groupOffset,
 int&nbsp;groupLimit)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected <a href="TopGroups.html" title="class in org.apache.lucene.search.grouping">TopGroups</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#groupByFieldOrFunction(org.apache.lucene.search.IndexSearcher,org.apache.lucene.search.Query,int,int)" class="member-name-link">groupByFieldOrFunction</a><wbr>(<a href="../../../../../../core/org/apache/lucene/search/IndexSearcher.html" title="class or interface in org.apache.lucene.search" class="external-link">IndexSearcher</a>&nbsp;searcher,
 <a href="../../../../../../core/org/apache/lucene/search/Query.html" title="class or interface in org.apache.lucene.search" class="external-link">Query</a>&nbsp;query,
 int&nbsp;groupOffset,
 int&nbsp;groupLimit)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>&lt;T&gt;&nbsp;<a href="TopGroups.html" title="class in org.apache.lucene.search.grouping">TopGroups</a><wbr>&lt;T&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#search(org.apache.lucene.search.IndexSearcher,org.apache.lucene.search.Query,int,int)" class="member-name-link">search</a><wbr>(<a href="../../../../../../core/org/apache/lucene/search/IndexSearcher.html" title="class or interface in org.apache.lucene.search" class="external-link">IndexSearcher</a>&nbsp;searcher,
 <a href="../../../../../../core/org/apache/lucene/search/Query.html" title="class or interface in org.apache.lucene.search" class="external-link">Query</a>&nbsp;query,
 int&nbsp;groupOffset,
 int&nbsp;groupLimit)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Executes a grouped search.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="GroupingSearch.html" title="class in org.apache.lucene.search.grouping">GroupingSearch</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#setAllGroupHeads(boolean)" class="member-name-link">setAllGroupHeads</a><wbr>(boolean&nbsp;allGroupHeads)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Whether to compute all group heads (most relevant document per group) matching the query.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="GroupingSearch.html" title="class in org.apache.lucene.search.grouping">GroupingSearch</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#setAllGroups(boolean)" class="member-name-link">setAllGroups</a><wbr>(boolean&nbsp;allGroups)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Whether to also compute all groups matching the query.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="GroupingSearch.html" title="class in org.apache.lucene.search.grouping">GroupingSearch</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#setCaching(int,boolean)" class="member-name-link">setCaching</a><wbr>(int&nbsp;maxDocsToCache,
 boolean&nbsp;cacheScores)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Enables caching for the second pass search.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="GroupingSearch.html" title="class in org.apache.lucene.search.grouping">GroupingSearch</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#setCachingInMB(double,boolean)" class="member-name-link">setCachingInMB</a><wbr>(double&nbsp;maxCacheRAMMB,
 boolean&nbsp;cacheScores)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Enables caching for the second pass search.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="GroupingSearch.html" title="class in org.apache.lucene.search.grouping">GroupingSearch</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#setGroupDocsLimit(int)" class="member-name-link">setGroupDocsLimit</a><wbr>(int&nbsp;groupDocsLimit)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Specifies the number of documents to return inside a group from the specified groupDocsOffset.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="GroupingSearch.html" title="class in org.apache.lucene.search.grouping">GroupingSearch</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#setGroupDocsOffset(int)" class="member-name-link">setGroupDocsOffset</a><wbr>(int&nbsp;groupDocsOffset)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Specifies the offset for documents inside a group.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="GroupingSearch.html" title="class in org.apache.lucene.search.grouping">GroupingSearch</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#setGroupSort(org.apache.lucene.search.Sort)" class="member-name-link">setGroupSort</a><wbr>(<a href="../../../../../../core/org/apache/lucene/search/Sort.html" title="class or interface in org.apache.lucene.search" class="external-link">Sort</a>&nbsp;groupSort)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Specifies how groups are sorted.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="GroupingSearch.html" title="class in org.apache.lucene.search.grouping">GroupingSearch</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#setIncludeMaxScore(boolean)" class="member-name-link">setIncludeMaxScore</a><wbr>(boolean&nbsp;includeMaxScore)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Whether to include the score of the most relevant document per group.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="GroupingSearch.html" title="class in org.apache.lucene.search.grouping">GroupingSearch</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#setSortWithinGroup(org.apache.lucene.search.Sort)" class="member-name-link">setSortWithinGroup</a><wbr>(<a href="../../../../../../core/org/apache/lucene/search/Sort.html" title="class or interface in org.apache.lucene.search" class="external-link">Sort</a>&nbsp;sortWithinGroup)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Specified how documents inside a group are sorted.</div>
</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-java.lang.Object">Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></h3>
<code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#clone--" title="class or interface in java.lang" class="external-link">clone</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#equals-java.lang.Object-" title="class or interface in java.lang" class="external-link">equals</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#finalize--" title="class or interface in java.lang" class="external-link">finalize</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#getClass--" title="class or interface in java.lang" class="external-link">getClass</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#hashCode--" title="class or interface in java.lang" class="external-link">hashCode</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#notify--" title="class or interface in java.lang" class="external-link">notify</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#notifyAll--" title="class or interface in java.lang" class="external-link">notifyAll</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#toString--" title="class or interface in java.lang" class="external-link">toString</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#wait--" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#wait-long-" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#wait-long-int-" title="class or interface in java.lang" class="external-link">wait</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<li>
<section class="constructor-details" id="constructor-detail">
<h2>Constructor Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="&lt;init&gt;(java.lang.String)">
<h3>GroupingSearch</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name">GroupingSearch</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;groupField)</span></div>
<div class="block">Constructs a <code>GroupingSearch</code> instance that groups documents by index terms using
 DocValues. The group field can only have one token per document. This means that the field must
 not be analysed.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>groupField</code> - The name of the field to group by.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="&lt;init&gt;(org.apache.lucene.search.grouping.GroupSelector)">
<h3>GroupingSearch</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name">GroupingSearch</span><wbr><span class="parameters">(<a href="GroupSelector.html" title="class in org.apache.lucene.search.grouping">GroupSelector</a>&lt;?&gt;&nbsp;groupSelector)</span></div>
<div class="block">Constructs a <code>GroupingSearch</code> instance that groups documents using a <a href="GroupSelector.html" title="class in org.apache.lucene.search.grouping"><code>GroupSelector</code></a></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>groupSelector</code> - a <a href="GroupSelector.html" title="class in org.apache.lucene.search.grouping"><code>GroupSelector</code></a> that defines groups for this GroupingSearch</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="&lt;init&gt;(org.apache.lucene.queries.function.ValueSource,java.util.Map)">
<h3>GroupingSearch</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name">GroupingSearch</span><wbr><span class="parameters">(<a href="../../../../../../queries/org/apache/lucene/queries/function/ValueSource.html" title="class or interface in org.apache.lucene.queries.function" class="external-link">ValueSource</a>&nbsp;groupFunction,
 <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>,<wbr><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&gt;&nbsp;valueSourceContext)</span></div>
<div class="block">Constructs a <code>GroupingSearch</code> instance that groups documents by function using a
 <a href="../../../../../../queries/org/apache/lucene/queries/function/ValueSource.html" title="class or interface in org.apache.lucene.queries.function" class="external-link"><code>ValueSource</code></a> instance.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>groupFunction</code> - The function to group by specified as <a href="../../../../../../queries/org/apache/lucene/queries/function/ValueSource.html" title="class or interface in org.apache.lucene.queries.function" class="external-link"><code>ValueSource</code></a></dd>
<dd><code>valueSourceContext</code> - The context of the specified groupFunction</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="&lt;init&gt;(org.apache.lucene.search.Query)">
<h3>GroupingSearch</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name">GroupingSearch</span><wbr><span class="parameters">(<a href="../../../../../../core/org/apache/lucene/search/Query.html" title="class or interface in org.apache.lucene.search" class="external-link">Query</a>&nbsp;groupEndDocs)</span></div>
<div class="block">Constructor for grouping documents by doc block. This constructor can only be used when
 documents belonging in a group are indexed in one block.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>groupEndDocs</code> - The query that marks the last document in all doc blocks</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="search(org.apache.lucene.search.IndexSearcher,org.apache.lucene.search.Query,int,int)">
<h3>search</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="type-parameters">&lt;T&gt;</span>&nbsp;<span class="return-type"><a href="TopGroups.html" title="class in org.apache.lucene.search.grouping">TopGroups</a>&lt;T&gt;</span>&nbsp;<span class="element-name">search</span><wbr><span class="parameters">(<a href="../../../../../../core/org/apache/lucene/search/IndexSearcher.html" title="class or interface in org.apache.lucene.search" class="external-link">IndexSearcher</a>&nbsp;searcher,
 <a href="../../../../../../core/org/apache/lucene/search/Query.html" title="class or interface in org.apache.lucene.search" class="external-link">Query</a>&nbsp;query,
 int&nbsp;groupOffset,
 int&nbsp;groupLimit)</span>
                        throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<div class="block">Executes a grouped search. Both the first pass and second pass are executed on the specified
 searcher.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>searcher</code> - The <a href="../../../../../../core/org/apache/lucene/search/IndexSearcher.html" title="class or interface in org.apache.lucene.search" class="external-link"><code>IndexSearcher</code></a> instance to execute the
     grouped search on.</dd>
<dd><code>query</code> - The query to execute with the grouping</dd>
<dd><code>groupOffset</code> - The group offset</dd>
<dd><code>groupLimit</code> - The number of groups to return from the specified group offset</dd>
<dt>Returns:</dt>
<dd>the grouped result as a <a href="TopGroups.html" title="class in org.apache.lucene.search.grouping"><code>TopGroups</code></a> instance</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code> - If any I/O related errors occur</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="groupByFieldOrFunction(org.apache.lucene.search.IndexSearcher,org.apache.lucene.search.Query,int,int)">
<h3>groupByFieldOrFunction</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type"><a href="TopGroups.html" title="class in org.apache.lucene.search.grouping">TopGroups</a></span>&nbsp;<span class="element-name">groupByFieldOrFunction</span><wbr><span class="parameters">(<a href="../../../../../../core/org/apache/lucene/search/IndexSearcher.html" title="class or interface in org.apache.lucene.search" class="external-link">IndexSearcher</a>&nbsp;searcher,
 <a href="../../../../../../core/org/apache/lucene/search/Query.html" title="class or interface in org.apache.lucene.search" class="external-link">Query</a>&nbsp;query,
 int&nbsp;groupOffset,
 int&nbsp;groupLimit)</span>
                                    throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<dl class="notes">
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="groupByDocBlock(org.apache.lucene.search.IndexSearcher,org.apache.lucene.search.Query,int,int)">
<h3>groupByDocBlock</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type"><a href="TopGroups.html" title="class in org.apache.lucene.search.grouping">TopGroups</a>&lt;?&gt;</span>&nbsp;<span class="element-name">groupByDocBlock</span><wbr><span class="parameters">(<a href="../../../../../../core/org/apache/lucene/search/IndexSearcher.html" title="class or interface in org.apache.lucene.search" class="external-link">IndexSearcher</a>&nbsp;searcher,
 <a href="../../../../../../core/org/apache/lucene/search/Query.html" title="class or interface in org.apache.lucene.search" class="external-link">Query</a>&nbsp;query,
 int&nbsp;groupOffset,
 int&nbsp;groupLimit)</span>
                                throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<dl class="notes">
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="setCachingInMB(double,boolean)">
<h3>setCachingInMB</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="GroupingSearch.html" title="class in org.apache.lucene.search.grouping">GroupingSearch</a></span>&nbsp;<span class="element-name">setCachingInMB</span><wbr><span class="parameters">(double&nbsp;maxCacheRAMMB,
 boolean&nbsp;cacheScores)</span></div>
<div class="block">Enables caching for the second pass search. The cache will not grow over a specified limit in
 MB. The cache is filled during the first pass searched and then replayed during the second pass
 searched. If the cache grows beyond the specified limit, then the cache is purged and not used
 in the second pass search.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>maxCacheRAMMB</code> - The maximum amount in MB the cache is allowed to hold</dd>
<dd><code>cacheScores</code> - Whether to cache the scores</dd>
<dt>Returns:</dt>
<dd><code>this</code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="setCaching(int,boolean)">
<h3>setCaching</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="GroupingSearch.html" title="class in org.apache.lucene.search.grouping">GroupingSearch</a></span>&nbsp;<span class="element-name">setCaching</span><wbr><span class="parameters">(int&nbsp;maxDocsToCache,
 boolean&nbsp;cacheScores)</span></div>
<div class="block">Enables caching for the second pass search. The cache will not contain more than the maximum
 specified documents. The cache is filled during the first pass searched and then replayed
 during the second pass searched. If the cache grows beyond the specified limit, then the cache
 is purged and not used in the second pass search.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>maxDocsToCache</code> - The maximum number of documents the cache is allowed to hold</dd>
<dd><code>cacheScores</code> - Whether to cache the scores</dd>
<dt>Returns:</dt>
<dd><code>this</code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="disableCaching()">
<h3>disableCaching</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="GroupingSearch.html" title="class in org.apache.lucene.search.grouping">GroupingSearch</a></span>&nbsp;<span class="element-name">disableCaching</span>()</div>
<div class="block">Disables any enabled cache.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd><code>this</code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="setGroupSort(org.apache.lucene.search.Sort)">
<h3>setGroupSort</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="GroupingSearch.html" title="class in org.apache.lucene.search.grouping">GroupingSearch</a></span>&nbsp;<span class="element-name">setGroupSort</span><wbr><span class="parameters">(<a href="../../../../../../core/org/apache/lucene/search/Sort.html" title="class or interface in org.apache.lucene.search" class="external-link">Sort</a>&nbsp;groupSort)</span></div>
<div class="block">Specifies how groups are sorted. Defaults to <a href="../../../../../../core/org/apache/lucene/search/Sort.html#RELEVANCE" title="class or interface in org.apache.lucene.search" class="external-link"><code>Sort.RELEVANCE</code></a>.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>groupSort</code> - The sort for the groups.</dd>
<dt>Returns:</dt>
<dd><code>this</code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="setSortWithinGroup(org.apache.lucene.search.Sort)">
<h3>setSortWithinGroup</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="GroupingSearch.html" title="class in org.apache.lucene.search.grouping">GroupingSearch</a></span>&nbsp;<span class="element-name">setSortWithinGroup</span><wbr><span class="parameters">(<a href="../../../../../../core/org/apache/lucene/search/Sort.html" title="class or interface in org.apache.lucene.search" class="external-link">Sort</a>&nbsp;sortWithinGroup)</span></div>
<div class="block">Specified how documents inside a group are sorted. Defaults to <a href="../../../../../../core/org/apache/lucene/search/Sort.html#RELEVANCE" title="class or interface in org.apache.lucene.search" class="external-link"><code>Sort.RELEVANCE</code></a>.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>sortWithinGroup</code> - The sort for documents inside a group</dd>
<dt>Returns:</dt>
<dd><code>this</code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="setGroupDocsOffset(int)">
<h3>setGroupDocsOffset</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="GroupingSearch.html" title="class in org.apache.lucene.search.grouping">GroupingSearch</a></span>&nbsp;<span class="element-name">setGroupDocsOffset</span><wbr><span class="parameters">(int&nbsp;groupDocsOffset)</span></div>
<div class="block">Specifies the offset for documents inside a group.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>groupDocsOffset</code> - The offset for documents inside a</dd>
<dt>Returns:</dt>
<dd><code>this</code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="setGroupDocsLimit(int)">
<h3>setGroupDocsLimit</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="GroupingSearch.html" title="class in org.apache.lucene.search.grouping">GroupingSearch</a></span>&nbsp;<span class="element-name">setGroupDocsLimit</span><wbr><span class="parameters">(int&nbsp;groupDocsLimit)</span></div>
<div class="block">Specifies the number of documents to return inside a group from the specified groupDocsOffset.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>groupDocsLimit</code> - The number of documents to return inside a group</dd>
<dt>Returns:</dt>
<dd><code>this</code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="setIncludeMaxScore(boolean)">
<h3>setIncludeMaxScore</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="GroupingSearch.html" title="class in org.apache.lucene.search.grouping">GroupingSearch</a></span>&nbsp;<span class="element-name">setIncludeMaxScore</span><wbr><span class="parameters">(boolean&nbsp;includeMaxScore)</span></div>
<div class="block">Whether to include the score of the most relevant document per group.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>includeMaxScore</code> - Whether to include the score of the most relevant document per group</dd>
<dt>Returns:</dt>
<dd><code>this</code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="setAllGroups(boolean)">
<h3>setAllGroups</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="GroupingSearch.html" title="class in org.apache.lucene.search.grouping">GroupingSearch</a></span>&nbsp;<span class="element-name">setAllGroups</span><wbr><span class="parameters">(boolean&nbsp;allGroups)</span></div>
<div class="block">Whether to also compute all groups matching the query. This can be used to determine the number
 of groups, which can be used for accurate pagination.

 <p>When grouping by doc block the number of groups are automatically included in the <a href="TopGroups.html" title="class in org.apache.lucene.search.grouping"><code>TopGroups</code></a> and this option doesn't have any influence.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>allGroups</code> - to also compute all groups matching the query</dd>
<dt>Returns:</dt>
<dd><code>this</code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getAllMatchingGroups()">
<h3>getAllMatchingGroups</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="type-parameters">&lt;T&gt;</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Collection.html" title="class or interface in java.util" class="external-link">Collection</a>&lt;T&gt;</span>&nbsp;<span class="element-name">getAllMatchingGroups</span>()</div>
<div class="block">If <a href="#setAllGroups(boolean)"><code>setAllGroups(boolean)</code></a> was set to <code>true</code> then all matching groups are
 returned, otherwise an empty collection is returned.</div>
<dl class="notes">
<dt>Type Parameters:</dt>
<dd><code>T</code> - The group value type. This can be a <a href="../../../../../../core/org/apache/lucene/util/BytesRef.html" title="class or interface in org.apache.lucene.util" class="external-link"><code>BytesRef</code></a> or a <a href="../../../../../../core/org/apache/lucene/util/mutable/MutableValue.html" title="class or interface in org.apache.lucene.util.mutable" class="external-link"><code>MutableValue</code></a>
     instance. If grouping by doc block this the group value is always <code>null</code>.</dd>
<dt>Returns:</dt>
<dd>all matching groups are returned, or an empty collection</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="setAllGroupHeads(boolean)">
<h3>setAllGroupHeads</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="GroupingSearch.html" title="class in org.apache.lucene.search.grouping">GroupingSearch</a></span>&nbsp;<span class="element-name">setAllGroupHeads</span><wbr><span class="parameters">(boolean&nbsp;allGroupHeads)</span></div>
<div class="block">Whether to compute all group heads (most relevant document per group) matching the query.

 <p>This feature isn't enabled when grouping by doc block.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>allGroupHeads</code> - Whether to compute all group heads (most relevant document per group)
     matching the query</dd>
<dt>Returns:</dt>
<dd><code>this</code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getAllGroupHeads()">
<h3>getAllGroupHeads</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="../../../../../../core/org/apache/lucene/util/Bits.html" title="class or interface in org.apache.lucene.util" class="external-link">Bits</a></span>&nbsp;<span class="element-name">getAllGroupHeads</span>()</div>
<div class="block">Returns the matching group heads if <a href="#setAllGroupHeads(boolean)"><code>setAllGroupHeads(boolean)</code></a> was set to true or an
 empty bit set.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>The matching group heads if <a href="#setAllGroupHeads(boolean)"><code>setAllGroupHeads(boolean)</code></a> was set to true or an
     empty bit set</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
<footer role="contentinfo">
<hr>
<p class="legal-copy"><small><i>Copyright &copy; 2000-2025 Apache Software Foundation. All Rights Reserved.</i></small></p>
</footer>
</div>
</div>
</body>
</html>
