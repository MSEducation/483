<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (21) on Fri Apr 04 15:37:30 CEST 2025 -->
<title>TaxonomyWriterCache (Lucene 10.2.0 facet API)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="dc.created" content="2025-04-04">
<meta name="description" content="declaration: package: org.apache.lucene.facet.taxonomy.writercache, interface: TaxonomyWriterCache">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../../script-dir/jquery-ui.min.css" title="Style">
<script type="text/javascript" src="../../../../../../script.js"></script>
<script type="text/javascript" src="../../../../../../script-dir/jquery-3.6.1.min.js"></script>
<script type="text/javascript" src="../../../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var pathtoroot = "../../../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top"><button id="navbar-toggle-button" aria-controls="navbar-top" aria-expanded="false" aria-label="Toggle navigation links"><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span></button>
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="class-use/TaxonomyWriterCache.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../help-doc.html#class">Help</a></li>
</ul>
<ul class="sub-nav-list-small">
<li>
<p>Summary:</p>
<ul>
<li>Nested</li>
<li>Field</li>
<li>Constr</li>
<li><a href="#method-summary">Method</a></li>
</ul>
</li>
<li>
<p>Detail:</p>
<ul>
<li>Field</li>
<li>Constr</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</li>
</ul>
</div>
<div class="sub-nav">
<div id="navbar-sub-list">
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><a href="../../../../../../search.html">SEARCH</a>
<input type="text" id="search-input" disabled placeholder="Search">
<input type="reset" id="reset-button" disabled value="reset">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">org.apache.lucene.facet.taxonomy.writercache</a></div>
<h1 title="Interface TaxonomyWriterCache" class="title">Interface TaxonomyWriterCache</h1>
</div>
<section class="class-description" id="class-description">
<dl class="notes">
<dt>All Known Implementing Classes:</dt>
<dd><code><a href="LruTaxonomyWriterCache.html" title="class in org.apache.lucene.facet.taxonomy.writercache">LruTaxonomyWriterCache</a></code></dd>
</dl>
<hr>
<div class="type-signature"><span class="modifiers">public interface </span><span class="element-name type-name-label">TaxonomyWriterCache</span></div>
<div class="block">TaxonomyWriterCache is a relatively simple interface for a cache of category-&gt;ordinal
 mappings, used in TaxonomyWriter implementations (such as <a href="../directory/DirectoryTaxonomyWriter.html" title="class in org.apache.lucene.facet.taxonomy.directory"><code>DirectoryTaxonomyWriter</code></a>).

 <p>It basically has put() methods for adding a mapping, and get() for looking a mapping up the
 cache. The cache does <B>not</B> guarantee to hold everything that has been put into it, and
 might in fact selectively delete some of the mappings (e.g., the ones least recently used). This
 means that if get() returns a negative response, it does not necessarily mean that the category
 doesn't exist - just that it is not in the cache. The caller can only infer that the category
 doesn't exist if it knows the cache to be complete (because all the categories were loaded into
 the cache, and since then no put() returned true).

 <p>However, if it does so, it should clear out large parts of the cache at once, because the user
 will typically need to work hard to recover from every cache cleanup (see <a href="#put(org.apache.lucene.facet.taxonomy.FacetLabel,int)"><code>put(FacetLabel, int)</code></a>'s return value).

 <p><b>NOTE:</b> the cache may be accessed concurrently by multiple threads, therefore cache
 implementations should take this into consideration.</div>
<dl class="notes">
<dt>WARNING: This API is experimental and might change in incompatible ways in the next release.</dt>
</dl>
</section>
<section class="summary">
<ul class="summary-list">
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab3" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab3', 3)" class="table-tab">Abstract Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel">
<div class="summary-table three-column-summary" aria-labelledby="method-summary-table-tab0">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#clear()" class="member-name-link">clear</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Clears the content of the cache.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#close()" class="member-name-link">close</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Let go of whatever resources the cache is holding.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>int</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#get(org.apache.lucene.facet.taxonomy.FacetLabel)" class="member-name-link">get</a><wbr>(<a href="../FacetLabel.html" title="class in org.apache.lucene.facet.taxonomy">FacetLabel</a>&nbsp;categoryPath)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Lookup a category in the cache, returning its ordinal, or a negative number if the category is
 not in the cache.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#isFull()" class="member-name-link">isFull</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Returns true if the cache is full, such that the next <a href="#put(org.apache.lucene.facet.taxonomy.FacetLabel,int)"><code>put(org.apache.lucene.facet.taxonomy.FacetLabel, int)</code></a> will evict entries from it,
 false otherwise.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#put(org.apache.lucene.facet.taxonomy.FacetLabel,int)" class="member-name-link">put</a><wbr>(<a href="../FacetLabel.html" title="class in org.apache.lucene.facet.taxonomy">FacetLabel</a>&nbsp;categoryPath,
 int&nbsp;ordinal)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Add a category to the cache, with the given ordinal as the value.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>int</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#size()" class="member-name-link">size</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">How many labels are currently stored in the cache.</div>
</div>
</div>
</div>
</div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="close()">
<h3>close</h3>
<div class="member-signature"><span class="return-type">void</span>&nbsp;<span class="element-name">close</span>()</div>
<div class="block">Let go of whatever resources the cache is holding. After a close(), this object can no longer
 be used.</div>
</section>
</li>
<li>
<section class="detail" id="get(org.apache.lucene.facet.taxonomy.FacetLabel)">
<h3>get</h3>
<div class="member-signature"><span class="return-type">int</span>&nbsp;<span class="element-name">get</span><wbr><span class="parameters">(<a href="../FacetLabel.html" title="class in org.apache.lucene.facet.taxonomy">FacetLabel</a>&nbsp;categoryPath)</span></div>
<div class="block">Lookup a category in the cache, returning its ordinal, or a negative number if the category is
 not in the cache.

 <p>It is up to the caller to remember what a negative response means: If the caller knows the
 cache is <I>complete</I> (it was initially fed with all the categories, and since then put()
 never returned true) it means the category does not exist. Otherwise, the category might still
 exist, but just be missing from the cache.</div>
</section>
</li>
<li>
<section class="detail" id="put(org.apache.lucene.facet.taxonomy.FacetLabel,int)">
<h3>put</h3>
<div class="member-signature"><span class="return-type">boolean</span>&nbsp;<span class="element-name">put</span><wbr><span class="parameters">(<a href="../FacetLabel.html" title="class in org.apache.lucene.facet.taxonomy">FacetLabel</a>&nbsp;categoryPath,
 int&nbsp;ordinal)</span></div>
<div class="block">Add a category to the cache, with the given ordinal as the value.

 <p>If the implementation keeps only a partial cache (e.g., an LRU cache) and finds that its
 cache is full, it should clear up part of the cache and return <code>true</code>. Otherwise, it
 should return <code>false</code>.

 <p>The reason why the caller needs to know if part of the cache was cleared is that in that
 case it will have to commit its on-disk index (so that all the latest category additions can be
 searched on disk, if we can't rely on the cache to contain them).

 <p>Ordinals should be non-negative. Currently there is no defined way to specify that a cache
 should remember a category does NOT exist. It doesn't really matter, because normally the next
 thing we do after finding that a category does not exist is to add it.</div>
</section>
</li>
<li>
<section class="detail" id="isFull()">
<h3>isFull</h3>
<div class="member-signature"><span class="return-type">boolean</span>&nbsp;<span class="element-name">isFull</span>()</div>
<div class="block">Returns true if the cache is full, such that the next <a href="#put(org.apache.lucene.facet.taxonomy.FacetLabel,int)"><code>put(org.apache.lucene.facet.taxonomy.FacetLabel, int)</code></a> will evict entries from it,
 false otherwise.</div>
</section>
</li>
<li>
<section class="detail" id="clear()">
<h3>clear</h3>
<div class="member-signature"><span class="return-type">void</span>&nbsp;<span class="element-name">clear</span>()</div>
<div class="block">Clears the content of the cache. Unlike <a href="#close()"><code>close()</code></a>, the caller can assume that the cache
 is still operable after this method returns.</div>
</section>
</li>
<li>
<section class="detail" id="size()">
<h3>size</h3>
<div class="member-signature"><span class="return-type">int</span>&nbsp;<span class="element-name">size</span>()</div>
<div class="block">How many labels are currently stored in the cache.</div>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
<footer role="contentinfo">
<hr>
<p class="legal-copy"><small><i>Copyright &copy; 2000-2025 Apache Software Foundation. All Rights Reserved.</i></small></p>
</footer>
</div>
</div>
</body>
</html>
