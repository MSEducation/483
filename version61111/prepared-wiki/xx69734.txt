[[DCF77]]

DCF77 is a German longwave time signal and standard-frequency radio station. It started service as a standard-frequency station on 1 January 1959. In June 1973 date and time information was added. Its primary and backup transmitter are located at [tpl]coord|50|0|56|N|9|00|39|E[/tpl] in Mainflingen, about 25 km south-east of Frankfurt am Main, Germany.
DCF77 is controlled by the Physikalisch-Technische Bundesanstalt (PTB), Germany's national physics laboratory and transmits in continuous operation (24 hours). It is operated by Media Broadcast GmbH (previously a subsidiary of Deutsche Telekom AG), on behalf of the PTB. With Media Broadcast GmbH, a temporal transmission availability of at least 99.7% per year has been agreed upon. In the year 2002 almost 99.95% availability or just over 4.38 hours of downtime was realized.[tpl]cite web |url=http://idw-online.de/pages/de/news59790%20 |title=Das abwechslungsreichste Radioprogramm der Welt |publisher=Physikalisch-Technische Bundesanstalt (PTB) |date=2003-02-21 |accessdate=2013-10-02 |language= German[/tpl] The timestamp sent is either in Coordinated Universal Time (UTC)+1 or UTC+2 depending on daylight saving time.[tpl]cite web|title=Time and Standard Frequency Station DCF77 (Germany)|url=http://www.eecis.udel.edu/~mills/ntp/dcf77.html[/tpl] 100503 eecis.udel.edu
The highly accurate 77.5 kHz carrier signal is generated from local atomic clocks that are linked with the German master clocks at the PTB in Braunschweig. The DCF77 time signal is used for the dissemination of the German national legal time to the public.[tpl]cite web |url=http://www.ptb.de/cms/en/fachabteilungen/abt4/fb-44/ag-441/realisation-of-legal-time-in-germany.html |title=Realisation of Legal Time in Germany |publisher=Physikalisch-Technische Bundesanstalt (PTB) |date=2013-08-08 |accessdate=2013-09-26 [/tpl]
Radio clocks and watches have been very popular in Europe since the late 1980s and, in main-land Europe, most of them use the DCF77 signal to set their time automatically.

==Signal==

===Time signal===

The DCF77 station signal carries an amplitude-modulated, pulse-width coded 1 bit/s data signal. The same data signal is also phase modulated onto the carrier using a 512-bit long pseudorandom sequence (direct-sequence spread spectrum modulation). The transmitted data repeats each minute.

===Experimental civil defence emergency signal===

Since 2003, 14 previously unused bits of the time code have been used for civil defence emergency signals. This is was an experimental service, aimed to one day replace the German network of civil defence sirens.

===Civil protection and weather forecast signal===

Since 22 November 2006 the DCF77 transmitter provides from the time marks 1–14 warning messages and weather information.[tpl]cite web |url=http://www.bbk.bund.de/EN/Home/home_node.html |title=BBK homepage |publisher=German Federal Office of Civil Protection and Disaster Assistance (BBK) |date=2013-03-09 |accessdate=2013-03-09[/tpl][tpl]cite web |url=http://www.ptb.de/de/aktuelles/archiv/presseinfos/pi2006/pitext/pi061212.htm |title=DCF77 fit für die Zukunft. PTB-Zeitsignal-Aussendung per Langwellensender ist "runderneuert" worden |publisher=Physikalisch-Technische Bundesanstalt PTB |date=2006-12-12 |accessdate=2010-12-12 |language= German[/tpl] Under responsibility of the German Federal Office of Civil Protection and Disaster Assistance (the German Bundesamt für Bevölkerungsschutz und Katastrophenhilfe, BBK), warnings to the population can be transmitted using these 14 bits. As a further extension of the information content transmitted by DCF77, appropriately equipped radio clocks can provide a four-day weather forecast for 60 different regions in Europe. The forecast data is provided by and under responsibility of the Swiss company Meteo Time GmbH and is transferred in a proprietary transfer protocol.Meteotime A blog post describing decoding the weather information with an Arduino.[tpl]Citation |title=Wetterdatenbeschreibung des Systems Meteotime |author=Meteo Time GmbH |date=2006-10-27 |url=http://www.hkw-elektronik.de/pdf/DB%20W-Protokoll-V%201.pdf |language=German |trans_title=Weather data description of the Meteotime System[/tpl] The  same  14 bits  are  employed  in  a  way  that  ensures  compatibility  with  the transmission protocols of the warning messages. For decoding the weather forecast data a license is required.[tpl]cite web |url=http://www.meteotime.com/Web/en/Home/Default.htm |title=Welcome at Meteotime.com |publisher=Meteo Time GmbH |date=2013-03-09 |accessdate=2013-03-09[/tpl] Since the previously for the PTB reserved time marks from 1 to 14 are used, older radio clocks should not be affected by the weather data signal.

===Future and call sign===

The signal distribution contract between the PTB and the DCF77 transmitter operator Media Broadcast GmbH is periodically renewed. After negotiations in 2013 the PTB and Media Broadcast GmbH agreed to continue the dissemination of the German national legal time for the next 8 years. The PTB expressed it will initialize new negotiations if modernization activities at the transmitting station to improve the signal reception reliability throughout Europe by increasing the transmission power before 2021 are deemed necessary.[tpl]cite web |url=http://www.ptb.de/cms/en/fachabteilungen/abt4/archiv-der-jahresberichte/jahresbericht080/news-from-the-annual-report.html?tx_ttnews%5Btt_news%5D=2438&tx_ttnews%5BbackPid%5D=1596&cHash=100706a73ecc88778bfba992657e3b7f |title=Zeitaussendung mit DCF77 bis 2021 gesichert |publisher=Physikalisch-Technische Bundesanstalt (PTB) |date=2013-10-17 |accessdate=2014-01-16 |language= German[/tpl]
The call sign DCF77 stands for D = Deutschland (Germany), C = long wave signal, F = the longwave transmitters on the premises of the transmitting station Mainflingen (due to its vicinity to Frankfurt am Main), 77 = frequency: 77.5 kHz.

==Time code details==

Like most longwave time transmitters, DCF77 marks seconds by reducing carrier power for an interval beginning on the second. The duration of the reduction is varied to convey one bit of time code per second, repeating every minute. The carrier is synchronized so the rising zero-crossing occurs on the second.  All modulation changes also occur at rising zero-crossings.

===Amplitude modulation===

The DCF77 signal uses amplitude-shift keying to transmit digitally coded time information by reducing the amplitude of the carrier to 15% of normal (−16½ dB) for 0.1 or 0.2 seconds at the beginning of each second.  A 0.1 second reduction (7750 cycles of the 77500 Hz carrier amplitude) denotes a binary 0; a 0.2 second reduction denotes a binary 1.  As a special case, the last second of every minute is marked with no carrier power reduction.
There was also a morse code station identification until 2006, sent during minutes 19, 39 and 59 of each hour, however this was discontinued as the station is easily identifiable by the characteristic signal.[tpl]Citation|url=http://www.ptb.de/cms/fileadmin/internet/fachabteilungen/abteilung_4/4.4_zeit_und_frequenz/4.42/dcf77.pdf |title=Zeit- und Normalfrequenzverbreitung mit DCF77 |page=6 |language=german |publisher=Physikalisch-Technische Bundesanstalt |accessdate=2009-08-12[/tpl] A 250 Hz tone was generated by square wave modulating the carrier between 100% and 85% power, and that tone was used to send one letter per second, between the second marks.  During seconds 20–32, the call sign "DCF77" was transmitted twice.

===Phase modulation===

In addition, for 793 ms beginning at 200 ms, each time code bit is transmitted using direct-sequence spread spectrum. The bit is mixed with a 512-bit pseudo-random chip sequence and encoded on the carrier using ±13° phase-shift keying.[tpl]Citation |url=http://www.ptb.de/cms/en/fachabteilungen/abt4/fb-44/ag-442/dissemination-of-legal-time/dcf77/dcf77-phase-modulation.html |title=DCF77 phase modulation |publisher=Physikalisch-Technische Bundesanstalt[/tpl]  The chip sequence contains equal amounts of each phase, so the average phase remains unchanged. Each chip spans 120 cycles of the carrier, so the exact duration is cycles 15500 through 76940 out of 77500. The last 560 cycles (7.22 ms) of each second are not phase-modulated.[tpl]cite conference |url=https://www.ptb.de/cms/fileadmin/internet/fachabteilungen/abteilung_4/4.4_zeit_und_frequenz/pdf/5_1988_Hetzel_-_Proc_EFTF_88.pdf |title=Time dissemination via the LF transmitter DCF77 using a pseudo-random phase-shift keying of the carrier |first=P. |last=Hetzel |date=16 March 1988 |conference=2nd European Frequency and Time Forum |location=Neuchâtel |pages=351–364 |accessdate=11 October 2011[/tpl]
The chip sequence is generated by a 9-bit LFSR, repeats every second, and begins with 00000100011000010011100101010110000….
A software implementation of a Galois LFSR can generate the full chip sequence:
Each time code bit to be transmitted is exclusive-ored with the LFSR output. The final chipped sequence is used to modulate the transmitter phase. During 0 chips the carrier is transmitted with a +13° phase advance, while during 1 chips it is transmitted with a −13° phase lag.
In lieu of the special minute marker used in the amplitude code, bit 59 is transmitted as an ordinary 0 bit, and the first 10 bits (seconds 0–9) are transmitted as binary 1.
When compared to amplitude modulation, phase modulation makes better use of the available frequency spectrum and results in a more precise low frequency time distribution with less sensitivity to interferences. Phase modulation is however not used by many DCF77 receivers. The reason for this is the worldwide availability of the (precise time reference) signals transmitted by global navigation satellite systems like the Global Positioning System (GPS) and GLONASS. Due to the GPS signal structure and the larger bandwidth available, the GPS reception would, in principle, achieve an uncertainty of the time transmission that is lower by at least one order of magnitude than the uncertainty that can be achieved with DCF77 phase modulation receiving hardware (GPS time is accurate to about ± 10 to 30 nanoseconds[tpl]cite web|author=David W. Allan |url=http://www.allanstime.com/Publications/DWA/Science_Timekeeping/index.html |title=The Science of Timekeeping |publisher=Hewlett Packard |year=1997[/tpl][tpl]cite web | url=http://tf.nist.gov/time/commonviewgps.htm | title=Common View GPS Time Transfer | publisher=nist.gov | accessdate=2011-07-23 [/tpl]).

===Time code interpretation===

The time is represented in binary-coded decimal. It represents civil time, including summer time adjustments. The time transmitted is the time of the following minute; e.g. during December 31 23:59, the transmitted time encodes January 1 00:00.[tpl]Citation |url=http://www.ptb.de/en/org/4/44/442/dcf77_kode_e.htm |title=DCF77 time code |publisher=Physikalisch-Technische Bundesanstalt |date=2007-05-09[/tpl]
The first 20 seconds are special flags. The minutes are encoded in seconds 21–28, hours during seconds 29–34, and the date during seconds 36–58.
Two flags warn of changes to occur at the end of the current hour: a change of time zones, and a leap second insertion.  These flags are set during the hour up to the event.  This includes the last minute before the event, during which the other time code bits (including the time zone indicator bits) encode the time of the first minute after the event.
In the event of an added leap second, a 0 bit is inserted during second 59, and the special missing bit is transmitted during the leap second itself, second 60.
Although the time code only includes two digits of year, it is possible to deduce two bits of century using the day of week. There is still a 400-year ambiguity, as the Gregorian calendar repeats weeks every 400 years, but this is sufficient to determine which years ending in 00 are leap years.The date XX00-02-28 must fall on a Monday, Sunday, Friday, or Wednesday. Only the first case is a leap year, followed by Tuesday the 29th. In the other three cases, the next day is March 1.
The time zone bits can be considered a binary-coded representation of the GMT offset.  Z1 set indicates UTC+2, while 
Z2 indicates UTC+1.
The phase modulation generally encodes the same data as the amplitude modulation, but differs for bits 59 through 14, inclusive. Bit 59 (no amplitude modulation) is phase-modulated as a 0 bit. Bits 0–9 are phase modulated as 1 bits, and bits 10–14 are phase modulated as 0 bits.[tpl]Citation |title=Performance analysis and receiver architectures of DCF77 radio-controlled clocks |first=Daniel |last=Engeler |journal=IEEE Transactions on Ultrasonics, Ferroelectrics and Frequency Control |volume=59 |issue=5 |date=May 2012 |pages=869–884 |doi=10.1109/TUFFC.2012.2272 |url=http://caxapa.ru/thumbs/417284/Engeler_DCF77.pdf |accessdate=2013-12-05[/tpl]  The civil protection warnings and weather information is not included in the phase-modulated data.

==Reception area==

With a relatively high power of [tpl]nowrap|50 kW[/tpl], the DCF77 transmissions can reliably be received in large parts of Europe, as far as [tpl]convert|2000|km|mi|0|abbr=on[/tpl] from the transmitter in Mainflingen. Within this range the signal strength of the DCF77 signal as specified by the Physikalisch-Technische Bundesanstalt (PTB) is ≥ 100 µV/m. This signal strength assessment was made according to the reflection model with a reflection (one hop) on the ionospheric D-layer. As an example, reception with consumer grade clocks - assuming the employed radio clock can manage reception with ≈ 100 µV/m signal strength - is possible in Turkey (Istanbul), Russia (Moscow), Portugal and Gibraltar (during night hours). At shorter distances the DCF77 signal strength is much higher. As an example under [tpl]convert|500|km|mi|0|abbr=on[/tpl] from the transmitter in Mainflingen the expected signal strength of the ground wave is ≥ 1 mV/m.Reach of DCF77
Depending on signal propagation and multiple reflections (hops) and local interference the DCF77 signal can sometimes be received further away (see tropospheric propagation). This is associated with a significant decrease in the signal strength and depends on many factors: e.g. the daytime and season, the angle of incidence of the skywave on the D-layer and the solar activity.[tpl]cite web |url=http://www.heret.de/funkuhr/reichw.htm |title=Reichweite des DCF77-Senders |work=Die Funk-Uhr Homepage |publisher=Robert Heret und Thomas Losert |accessdate=2010-12-12 |language=German[/tpl]

==Control==

The control signal is not transmitted by wire from the Physikalisch-Technische Bundesanstalt (PTB) in Braunschweig to the transmitting radio station in Mainflingen but is generated at the place of emission using a control unit developed by the PTB. This control unit, which is housed in an air conditioned room of the transmitting station, is shielded against high-frequency interferences and controlled from Braunschweig. For reasons of operational reliability, the control signal is generated by three independent control channels all equipped with their own caesium atomic clock. In addition a rubidium atomic clock is available on site. To avoid incorrect emissions the output of these three channels are compared in two electronic switch circuits on site. Output for transmission is only generated when at least two of the three channels are in agreement. Via the public telephone network operational data of the control unit can be called up with the aid of a telecontrol system. Furthermore, the carrier phase time and the states of the second markers are compared in Braunschweig with the setpoints specified by the PTB's atomic master clocks. Of these atomic clocks the CS2 atomic clock in Braunschweig provides the German national legal time standard, and can be used as a highly accurate frequency standard.With what accuracy do PTB's atomic clocks work?
If there are deviations, the necessary corrections will be made via the telecontrol system.How is time transmitted?

==Accuracy==

===Transmission===

The DCF77 transmitted carrier frequency relative uncertainty is 2 x 10−12 over a 24-hour period and 2 x 10−13 over 100 days, with a deviation in phase with respect to UTC that never exceeds more than 5.5 ± 0.3 microseconds.DCF77 carrier frequency The four German primary caesium (fountain) atomic clocks (CS1, CS2, CSF1 and CSF2) in use by the PTB in Braunschweig ensure significantly less long term clock drift than the atomic clocks used in the DCF77 facility in Mainflingen. With the aid of external corrections from Braunschweig the control unit of DCF77 in Mainflingen is expected to neither gain nor lose a second in approximately 300,000 years.

===Reception===

Due to the propagation process, phase and/or frequency shifts observed in received signals the practical obtainable accuracy is reduced than originally realized with the atomic clocks at the place of transmission. As with any time signal radio transmitter the precise establishment of time is affected by the distance to the transmitter, as the time signal propagates to a time signal receiver at the speed of light. For a DCF77 receiver located [tpl]convert|1000|km|mi|0|lk=on|abbr=on[/tpl] away from the DCF77 transmitter, due to transit delay the receiver will be set more than 3 milliseconds late. Such a small deviation will seldom be of interest and if desired instrument grade time receivers can be corrected for transit delay.
Further inaccuracies may be caused by the type of wave the receiver records. In case of just ground wave reception a constant is included in the calculation if the distance is permanent. In case of just space wave reception the reception side cannot influence the time fluctuations. Time fluctuations are influenced directly by the changing altitude of the reflecting and bending layer of the ionosphere. Similar problems arise where ground and skywaves overlap. This field is not constant but changes in the course of the day between approximately [tpl]convert|600|km|mi|0|lk=on|abbr=on[/tpl] to [tpl]convert|1100|km|mi|0|lk=on|abbr=on[/tpl] from the transmitter position.
Corrected instrument grade DCF77 receivers using the amplitude-modulated time signals with accompanying antennas oriented tangential to the transmitter's antenna in Mainflingern to ensure the best possible interference-free time signal reception at fixed locations and can achieve a practical accuracy uncertainty better than ± 2 milliseconds.How the DCF77-receiver works
In addition to the amplitude-modulated time signal transmission this information is also transmitted since June 1983 by DCF77 via a phase modulation of the carrier wave with a pseudorandom noise sequence of 512 bits length. Using cross-correlation the reproduced signal at the receiving end can be used to determine the beginning of the second markers much more accurately. The drawback of using phase-modulated time signals lies in the complex instrument grade receiving hardware required for using this time signal reception method. Using this method the Physikalisch-Technische Bundesanstalt (PTB) in 1987 measured in Braunschweig situated [tpl]convert|273|km|mi|0|lk=on|abbr=on[/tpl] from the transmitter in Mainflingen inaccuracies, depending on the time in the day and season, of ± 2 to 22 microseconds.
Normal low cost consumer grade DCF77 receivers solely rely on the amplitude-modulated time signals and use narrow band receivers (with 10 Hz bandwidth) with small ferrite loopstick antennas and circuits with non optimal digital signal processing delay and can therefore only be expected to determine the beginning of a second with a practical accuracy uncertainty of ± 0.1 second. This is sufficient for radio controlled low cost consumer grade clocks and watches using standard-quality quartz clocks for timekeeping between daily DCF77 synchronization attempts, as they will be most accurate immediately after a successful synchronization and will become less accurate from that point forward until the next synchronization.Michael A. Lombardi, "How Accurate is a Radio Controlled Clock?, National Institute of Standards and Technology, 2010.

==Network Time Protocol reference clock use==

Network Time Protocol time servers display the refid identifier .DCFa. when a standard DCF77 time receiver is used as reference time source.[tpl]cite web |url=http://www.meinbergglobal.com/english/info/ntp.htm#ntp_status |title=Checking the NTP Status |work=Network Time Protocol (NTP) |publisher=Meinberg Radio Clocks GmbH & Co. KG |accessdate=2011-08-29 |language=German[/tpl]

==See also==

==References==

==External links==


